[{"front_image_path": "full/bbd3c66a3badc127bce3c714ce00a0e73265cc91.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/03/912be8d20ca700194c3aced111cc833d1.jpg"], "fav_nums": 0, "url": "http://blog.jobbole.com/113809/", "url_object_id": "9f64c90d116e8593354ebaf19462978b", "comment_nums": 1, "praise_nums": "1", "create_date": "2018-04-03", "title": "DNS 解析器性能比较：CloudFlare vs Google vs Quad9", "tags": "IT技术,DNS,Web", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://medium.com/@nykolas.z/dns-resolvers-performance-compared-cloudflare-x-google-x-quad9-x-opendns-149e803734e5\">medium</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/news/94836/dns-resolvers-performance-compared\">开源中国社区</a>   </div><p>几个月前，我做了一些可用的顶级免费 DNS 解析器之间的性能比较。恰好在 Quad9 发布之后，我试图根据性能决定使用哪一个：Google，OpenDNS，Quad9 等等…</p>\n<p>CloudFlare 是最了解互联网性能的公司之一，最近推出了自己的免费 DNS 解析器。它默认支持基于 TLS 和 HTTPS 上的 DNS。</p>\n<p>现在进行一个更加有趣的测试：Google 的 8.8.8.8，Quad9 的 9.9.9.9 和 CloudFlare 的 1.1.1.1  ，以及OpenDNS 的 208.67.222.222 和一些其他供应商进行比较。</p>\n<h3>供应商测试</h3>\n<p>这些是选择评估的前 8 位免费 DNS 提供商：</p>\n<ul class=\" list-paddingleft-2\">\n<li><strong>Google 8.8.8.8</strong>：私有和未过滤，最受欢迎。</li>\n<li><strong>CloudFlare 1.1.1.1</strong>：私有和未过滤的新玩家。</li>\n<li><strong>Quad 9 9.9.9.9</strong>：私有和安全意识很高的新玩家。</li>\n<li><strong>OpenDNS 208.67.222.222</strong>：阻止恶意网域并提供阻止成人内容的旧玩家。</li>\n<li><strong>Norton DNS 199.85.126.20</strong>：阻止恶意域名并与其防病毒软件集成的旧玩家。</li>\n<li><strong>CleanBrowsing 185.228.168.168</strong>：私有和阻止访问成人内容，新玩家。</li>\n<li><strong>Yandex DNS 77.88.8.7</strong>：阻止恶意域名的旧玩家，在俄罗斯非常受欢迎。</li>\n<li><strong>Comodo DNS 8.26.56.26</strong>：阻止恶意域名的旧玩家。</li>\n</ul>\n<p>这是他们之间关于隐私选项的快速功能分解：</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2018/0402/175742_67ED_3703517.png\" alt=\"\"></p>\n<h3>地点</h3>\n<p>从全球18个地点运行测试。主要使用 VPS 提供商和一些宽带位置尝试从尽可能多的地方查询他们的DNS。它会告诉我们它们的连接程度如何，数据中心的位置以及某个人在该领域的经验有多接近。选择的地点：</p>\n<ul class=\" list-paddingleft-2\">\n<li><strong>北美</strong>：圣地亚哥，洛杉矶，纽约，多伦多，蒙特利尔，亚特兰大，达拉斯，弗里蒙特，旧金山</li>\n<li><strong>欧洲</strong>：伦敦，巴黎，阿姆斯特丹，法兰克福</li>\n<li><strong>亚洲</strong>：东京，新加坡，班加罗尔（印度），悉尼，布里斯班（澳大利亚）</li>\n<li><strong>南美洲</strong>：圣保罗</li>\n</ul>\n<h3>结果摘要</h3>\n<p>测试非常简单，针对不同流行的域名（google, facebook, twitter, gmail 等）在整个一小时内执行了 70 次DNS 查询。对每个位置的所有请求进行平均，以获得每个 DNS 解析程序的整体性能指标。</p>\n<h4>TLDR /摘要</h4>\n<ul class=\" list-paddingleft-2\">\n<li>所有供应商（Yandex 除外）在北美和欧洲表现非常好。他们在美国，加拿大和欧洲的响应时间均小于 15 毫秒。然而，亚洲和南美洲在总体平均数上有所不同，因为一些提供商在那里连接不好。</li>\n<li>CloudFlare 是所有位置中最快的 DNS。它在全球的平均值为 4.98 毫秒，令人惊叹。</li>\n<li>谷歌和 Quad9 分别接近第二和第三。Quad9 在北美和欧洲比谷歌速度快，但在亚洲/南美洲表现不佳。</li>\n<li>CloudFlare 在任何地方都有强大的存在。尽管 Google 和 Quad9 在某些地方的响应时间很高，但CloudFlare 在各个地方都表现良好。</li>\n<li>Yandex 仅适用于俄罗斯。它不像其他提供商那样使用 Anycast，并且在任何地方都非常缓慢。</li>\n<li>CleanBrowsing 是成人（色情）内容过滤的最快速的提供商。</li>\n</ul>\n<h4>全球平均</h4>\n<blockquote><p>＃1 CloudFlare：4.98 ms<br>\n＃2 Google：16.44 ms<br>\n＃3 Quad9：18.25 ms<br>\n＃4 CleanBrowsing：19.14 ms<br>\n＃5 Norton：34.75 ms<br>\n＃6 OpenDNS：46.51 ms<br>\n＃7 Comodo：71.90<br>\n＃8 Yandex：169.91</p></blockquote>\n<h4>北美平均水平</h4>\n<blockquote><p>＃1 CloudFlare：3.93 ms<br>\n＃2 Quad9：7.21 ms<br>\n＃3 Norton：8.32 ms<br>\n＃4 Google：8.53 ms<br>\n＃5 CleanBrowsing：11.83 ms<br>\n＃6 OpenDNS：14.66 ms<br>\n＃7 Comodo：25.91 ms<br>\n＃8 Yandex：119.09 ms</p></blockquote>\n<h4>欧洲平均</h4>\n<blockquote><p>＃1 CloudFlare：2.96<br>\n＃2 Quad9：4.35<br>\n＃3 CleanBrowsing：5.74<br>\n＃4 Google：7.17<br>\n＃5 OpenDNS：8.99<br>\n＃6 Norton：10.35<br>\n＃7 Comodo：13.06<br>\n＃8 Yandex：35.74</p></blockquote>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113809\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113809votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113809\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/14452eea6b79bce0219227f298ad827f2ba7112d.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/01/1b8322e1daff605d71fc81e724421f17.jpg"], "fav_nums": 5, "url": "http://blog.jobbole.com/113768/", "url_object_id": "20d0b326ed26dff7f3c5708bdf46c1a5", "comment_nums": 1, "praise_nums": "1", "create_date": "2018-03-13", "title": "Linux 启动过程分析", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/18/1/analyzing-linux-boot-process\">Alison Chaiken</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9437-1.html\">Linux中国/jessie-pang</a>   </div><blockquote><p>理解运转良好的系统对于处理不可避免的故障是最好的准备。</p></blockquote>\n<p>关于开源软件最古老的笑话是：“代码是自具文档化的self-documenting”。经验表明，阅读源代码就像听天气预报一样：明智的人依然出门会看看室外的天气。本文讲述了如何运用调试工具来观察和分析 Linux 系统的启动。分析一个功能正常的系统启动过程，有助于用户和开发人员应对不可避免的故障。</p>\n<p>从某些方面看，启动过程非常简单。内核在单核上以单线程和同步状态启动，似乎可以理解。但内核本身是如何启动的呢？<a href=\"https://en.wikipedia.org/wiki/Initial_ramdisk\">initrd（initial ramdisk）</a> 和引导程序bootloader具有哪些功能？还有，为什么以太网端口上的 LED 灯是常亮的呢？</p>\n<p>请继续阅读寻找答案。在 GitHub 上也提供了 <a href=\"https://github.com/chaiken/LCA2018-Demo-Code\">介绍演示和练习的代码</a>。</p>\n<h3 id=\"toc_1\">启动的开始：OFF 状态</h3>\n<h4 id=\"toc_2\">局域网唤醒Wake-on-LAN</h4>\n<p>OFF 状态表示系统没有上电，没错吧？表面简单，其实不然。例如，如果系统启用了局域网唤醒机制（WOL），以太网指示灯将亮起。通过以下命令来检查是否是这种情况：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397564ff96067262406\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# sudo ethtool &lt;interface name&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397564ff96067262406-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397564ff96067262406-1\"><span class=\"crayon-p\"># sudo ethtool &lt;interface name&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>其中 &lt;interface name&gt;<code></code> 是网络接口的名字，比如 <code>eth0</code>。（<code>ethtool</code> 可以在同名的 Linux 软件包中找到。）如果输出中的 <code>Wake-on</code> 显示 <code>g</code>，则远程主机可以通过发送 <a href=\"https://en.wikipedia.org/wiki/Wake-on-LAN\">魔法数据包MagicPacket</a> 来启动系统。如果您无意远程唤醒系统，也不希望其他人这样做，请在系统 BIOS 菜单中将 WOL 关闭，或者用以下方式：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397564ff9f326956085\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# sudo ethtool -s &lt;interface name&gt; wol d\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397564ff9f326956085-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ff9f326956085-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397564ff9f326956085-1\"><span class=\"crayon-p\"># sudo ethtool -s &lt;interface name&gt; wol d</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ff9f326956085-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>响应魔法数据包的处理器可能是网络接口的一部分，也可能是 <a href=\"https://lwn.net/Articles/630778/\">底板管理控制器Baseboard Management Controller</a>（BMC）。</p>\n<h4 id=\"toc_3\">英特尔管理引擎、平台控制器单元和 Minix</h4>\n<p>BMC 不是唯一的在系统关闭时仍在监听的微控制器（MCU）。x86_64 系统还包含了用于远程管理系统的英特尔管理引擎（IME）软件套件。从服务器到笔记本电脑，各种各样的设备都包含了这项技术，它开启了如 KVM 远程控制和英特尔功能许可服务等 <a href=\"https://www.youtube.com/watch?v=iffTJ1vPCSo&amp;amp;amp;amp;amp;amp;index=65&amp;amp;amp;amp;amp;amp;list=PLbzoR-pLrL6pISWAq-1cXP4_UZAyRtesk\">功能</a>。根据 <a href=\"https://www.intel.com/content/www/us/en/support/articles/000025619/software.html\">Intel 自己的检测工具</a>，<a href=\"https://security-center.intel.com/advisory.aspx?intelid=INTEL-SA-00086&amp;amp;amp;amp;amp;amp;languageid=en-fr\">IME 存在尚未修补的漏洞</a>。坏消息是，要禁用 IME 很难。Trammell Hudson 发起了一个 <a href=\"https://github.com/corna/me_cleaner\">me_cleaner 项目</a>，它可以清除一些相对恶劣的 IME 组件，比如嵌入式 Web 服务器，但也可能会影响运行它的系统。</p>\n<p>IME 固件和系统管理模式System Management Mode（SMM）软件是 <a href=\"https://lwn.net/Articles/738649/\">基于 Minix 操作系统</a> 的，并运行在单独的平台控制器单元Platform Controller Hub上（LCTT 译注：即南桥芯片），而不是主 CPU 上。然后，SMM 启动位于主处理器上的通用可扩展固件接口Universal Extensible Firmware Interface（UEFI）软件，相关内容 <a href=\"https://lwn.net/Articles/699551/\">已被提及多次</a>。Google 的 Coreboot 小组已经启动了一个雄心勃勃的 <a href=\"https://trmm.net/NERF\">非扩展性缩减版固件Non-Extensible Reduced Firmware</a>（NERF）项目，其目的不仅是要取代 UEFI，还要取代早期的 Linux 用户空间组件，如 systemd。在我们等待这些新成果的同时，Linux 用户现在就可以从 Purism、System76 或 Dell 等处购买 <a href=\"https://www.extremetech.com/computing/259879-dell-now-shipping-laptops-intels-management-engine-disabled\">禁用了 IME</a> 的笔记本电脑，另外 <a href=\"https://lwn.net/Articles/733837/\">带有 ARM 64 位处理器笔记本电脑</a> 还是值得期待的。</p>\n<h4 id=\"toc_4\">引导程序</h4>\n<p>除了启动那些问题不断的间谍软件外，早期引导固件还有什么功能呢？引导程序的作用是为新上电的处理器提供通用操作系统（如 Linux）所需的资源。在开机时，不但没有虚拟内存，在控制器启动之前连 DRAM 也没有。然后，引导程序打开电源，并扫描总线和接口，以定位内核镜像和根文件系统的位置。U-Boot 和 GRUB 等常见的引导程序支持 USB、PCI 和 NFS 等接口，以及更多的嵌入式专用设备，如 NOR 闪存和 NAND 闪存。引导程序还与 <a href=\"https://linuxplumbersconf.org/2017/ocw/events/LPC2017/tracks/639\">可信平台模块Trusted Platform Module</a>（TPM）等硬件安全设备进行交互，在启动最开始建立信任链。</p>\n<p><img class=\"aligncenter\" title=\"Running the U-boot bootloader\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/a1db74d1a0f049a3aabdb89e5079bbce.png\" alt=\"Running the U-boot bootloader\"></p>\n<p style=\"text-align: center\"><em>在构建主机上的沙盒中运行 U-boot 引导程序。</em></p>\n<p>包括树莓派、任天堂设备、汽车主板和 Chromebook 在内的系统都支持广泛使用的开源引导程序 <a href=\"http://www.denx.de/wiki/DULG/Manual\">U-Boot</a>。它没有系统日志，当发生问题时，甚至没有任何控制台输出。为了便于调试，U-Boot 团队提供了一个沙盒，可以在构建主机甚至是夜间的持续集成（CI）系统上测试补丁程序。如果系统上安装了 Git 和 GNU Compiler Collection（GCC）等通用的开发工具，使用 U-Boot 沙盒会相对简单：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397564ffa6969769930\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# git clone git://git.denx.de/u-boot; cd u-boot\r\n# make ARCH=sandbox defconfig\r\n# make; ./u-boot\r\n=&gt; printenv\r\n=&gt; help\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffa6969769930-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffa6969769930-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffa6969769930-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffa6969769930-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffa6969769930-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffa6969769930-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397564ffa6969769930-1\"><span class=\"crayon-p\"># git clone git://git.denx.de/u-boot; cd u-boot</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffa6969769930-2\"><span class=\"crayon-p\"># make ARCH=sandbox defconfig</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffa6969769930-3\"><span class=\"crayon-p\"># make; ./u-boot</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffa6969769930-4\"><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">printenv</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffa6969769930-5\"><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">help</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffa6969769930-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>在 x86_64 上运行 U-Boot，可以测试一些棘手的功能，如 <a href=\"https://github.com/chaiken/LCA2018-Demo-Code\">模拟存储设备</a> 的重新分区、基于 TPM 的密钥操作以及 USB 设备热插拔等。U-Boot 沙盒甚至可以在 GDB 调试器下单步执行。使用沙盒进行开发的速度比将引导程序刷新到电路板上的测试快 10 倍，并且可以使用 <code>Ctrl + C</code> 恢复一个“变砖”的沙盒。</p>\n<h3 id=\"toc_5\">启动内核</h3>\n<h4 id=\"toc_6\">配置引导内核</h4>\n<p>引导程序完成任务后将跳转到已加载到主内存中的内核代码，并开始执行，传递用户指定的任何命令行选项。内核是什么样的程序呢？用命令 <code>file /boot/vmlinuz</code> 可以看到它是一个 “bzImage”，意思是一个大的压缩的镜像。Linux 源代码树包含了一个可以解压缩这个文件的工具—— <a href=\"https://github.com/torvalds/linux/blob/master/scripts/extract-vmlinux\">extract-vmlinux</a>：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397564ffaa316809594\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# scripts/extract-vmlinux /boot/vmlinuz-$(uname -r) &gt; vmlinux\r\n# file vmlinux\r\nvmlinux: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically\r\nlinked, stripped\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffaa316809594-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffaa316809594-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffaa316809594-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffaa316809594-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffaa316809594-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397564ffaa316809594-1\"><span class=\"crayon-p\"># scripts/extract-vmlinux /boot/vmlinuz-$(uname -r) &gt; vmlinux</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffaa316809594-2\"><span class=\"crayon-p\"># file vmlinux</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffaa316809594-3\"><span class=\"crayon-v\">vmlinux</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ELF</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">64</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">bit </span><span class=\"crayon-e\">LSB </span><span class=\"crayon-v\">executable</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x86</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">version</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">SYSV</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">statically</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffaa316809594-4\"><span class=\"crayon-v\">linked</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">stripped</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffaa316809594-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0126 seconds] -->\r\n<p>内核是一个 <a href=\"http://man7.org/linux/man-pages/man5/elf.5.html\">可执行与可链接格式 Executable and Linking Format</a>（ELF）的二进制文件，就像 Linux 的用户空间程序一样。这意味着我们可以使用 <code>binutils</code> 包中的命令，如 <code>readelf</code> 来检查它。比较一下输出，例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397564ffae069699187\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# readelf -S /bin/date\r\n# readelf -S vmlinux\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffae069699187-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffae069699187-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffae069699187-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397564ffae069699187-1\"><span class=\"crayon-p\"># readelf -S /bin/date</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffae069699187-2\"><span class=\"crayon-p\"># readelf -S vmlinux</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffae069699187-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这两个二进制文件中的段内容大致相同。</p>\n<p>所以内核必须像其他的 Linux ELF 文件一样启动，但用户空间程序是如何启动的呢？在 <code>main()</code> 函数中？并不确切。</p>\n<p>在 <code>main()</code> 函数运行之前，程序需要一个执行上下文，包括堆栈内存以及 <code>stdio</code>、<code>stdout</code> 和 <code>stderr</code> 的文件描述符。用户空间程序从标准库（多数 Linux 系统在用 “glibc”）中获取这些资源。参照以下输出：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397564ffb1798516308\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# file /bin/date\r\n/bin/date: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically\r\nlinked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32,\r\nBuildID[sha1]=14e8563676febeb06d701dbee35d225c5a8e565a,\r\nstripped\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb1798516308-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb1798516308-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb1798516308-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb1798516308-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb1798516308-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb1798516308-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397564ffb1798516308-1\"><span class=\"crayon-p\"># file /bin/date</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb1798516308-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">date</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ELF</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">64</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">bit </span><span class=\"crayon-e\">LSB </span><span class=\"crayon-e\">shared </span><span class=\"crayon-t\">object</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x86</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">version</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">SYSV</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">dynamically</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb1798516308-3\"><span class=\"crayon-v\">linked</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">interpreter</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib64</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ld</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">linux</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x86</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">64.so.2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GNU</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">Linux</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.6.32</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb1798516308-4\"><span class=\"crayon-v\">BuildID</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sha1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">14e8563676febeb06d701dbee35d225c5a8e565a</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb1798516308-5\"><span class=\"crayon-i\">stripped</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb1798516308-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0201 seconds] -->\r\n<p>ELF 二进制文件有一个解释器，就像 Bash 和 Python 脚本一样，但是解释器不需要像脚本那样用 <code>#!</code> 指定，因为 ELF 是 Linux 的原生格式。ELF 解释器通过调用 <code>_start()</code> 函数来用所需资源 <a href=\"https://0xax.gitbooks.io/linux-insides/content/Misc/program_startup.html\">配置一个二进制文件</a>，这个函数可以从 glibc 源代码包中找到，可以 <a href=\"https://github.com/chaiken/LCA2018-Demo-Code/commit/e543d9812058f2dd65f6aed45b09dda886c5fd4e\">用 GDB 查看</a>。内核显然没有解释器，必须自我配置，这是怎么做到的呢？</p>\n<p>用 GDB 检查内核的启动给出了答案。首先安装内核的调试软件包，内核中包含一个未剥离的unstripped vmlinux，例如 <code>apt-get install linux-image-amd64-dbg</code>，或者从源代码编译和安装你自己的内核，可以参照 <a href=\"http://kernel-handbook.alioth.debian.org/\">Debian Kernel Handbook</a> 中的指令。<code>gdb vmlinux</code> 后加 <code>info files</code> 可显示 ELF 段 <code>init.text</code>。在 <code>init.text</code> 中用 <code>l *(address)</code> 列出程序执行的开头，其中 <code>address</code> 是 <code>init.text</code> 的十六进制开头。用 GDB 可以看到 x86_64 内核从内核文件 <a href=\"https://github.com/torvalds/linux/blob/master/arch/x86/boot/compressed/head_64.S\">arch/x86/kernel/head_64.S</a> 开始启动，在这个文件中我们找到了汇编函数 <code>start_cpu0()</code>，以及一段明确的代码显示在调用 <code>x86_64 start_kernel()</code> 函数之前创建了堆栈并解压了 zImage。ARM 32 位内核也有类似的文件 <a href=\"https://github.com/torvalds/linux/blob/master/arch/arm/boot/compressed/head.S\">arch/arm/kernel/head.S</a>。<code>start_kernel()</code> 不针对特定的体系结构，所以这个函数驻留在内核的 <a href=\"https://github.com/torvalds/linux/blob/master/init/main.c\">init/main.c</a> 中。<code>start_kernel()</code> 可以说是 Linux 真正的 <code>main()</code> 函数。</p>\n<h3 id=\"toc_7\">从 start_kernel() 到 PID 1</h3>\n<h4 id=\"toc_8\">内核的硬件清单：设备树和 ACPI 表</h4>\n<p>在引导时，内核需要硬件信息，不仅仅是已编译过的处理器类型。代码中的指令通过单独存储的配置数据进行扩充。有两种主要的数据存储方法：<a href=\"https://www.youtube.com/watch?v=m_NyYEBxfn8\">设备树device-tree</a> 和 <a href=\"http://events.linuxfoundation.org/sites/events/files/slides/x86-platform.pdf\">高级配置和电源接口（ACPI）表</a>。内核通过读取这些文件了解每次启动时需要运行的硬件。</p>\n<p>对于嵌入式设备，设备树是已安装硬件的清单。设备树只是一个与内核源代码同时编译的文件，通常与 <code>vmlinux</code> 一样位于 <code>/boot</code> 目录中。要查看 ARM 设备上的设备树的内容，只需对名称与 <code>/boot/*.dtb</code> 匹配的文件执行 <code>binutils</code> 包中的 <code>strings</code> 命令即可，这里 <code>dtb</code> 是指设备树二进制文件device-tree binary。显然，只需编辑构成它的类 JSON 的文件并重新运行随内核源代码提供的特殊 <code>dtc</code> 编译器即可修改设备树。虽然设备树是一个静态文件，其文件路径通常由命令行引导程序传递给内核，但近年来增加了一个 <a href=\"http://lwn.net/Articles/616859/\">设备树覆盖</a> 的功能，内核在启动后可以动态加载热插拔的附加设备。</p>\n<p>x86 系列和许多企业级的 ARM64 设备使用 <a href=\"http://events.linuxfoundation.org/sites/events/files/slides/x86-platform.pdf\">ACPI</a> 机制。与设备树不同的是，ACPI 信息存储在内核在启动时通过访问板载 ROM 而创建的 <code>/sys/firmware/acpi/tables</code> 虚拟文件系统中。读取 ACPI 表的简单方法是使用 <code>acpica-tools</code> 包中的 <code>acpidump</code> 命令。例如：</p>\n<p><img class=\"aligncenter\" title=\"ACPI tables on Lenovo laptops\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/e1c561f573bf3f14de98b441ff6443d5.png\" alt=\"ACPI tables on Lenovo laptops\"></p>\n<p style=\"text-align: center\"><em>联想笔记本电脑的 ACPI 表都是为 Windows 2001 设置的。</em></p>\n<p>是的，你的 Linux 系统已经准备好用于 Windows 2001 了，你要考虑安装吗？与设备树不同，ACPI 具有方法和数据，而设备树更多地是一种硬件描述语言。ACPI 方法在启动后仍处于活动状态。例如，运行 <code>acpi_listen</code> 命令（在 <code>apcid</code> 包中），然后打开和关闭笔记本机盖会发现 ACPI 功能一直在运行。暂时地和动态地 <a href=\"https://www.mjmwired.net/kernel/Documentation/acpi/method-customizing.txt\">覆盖 ACPI 表</a> 是可能的，而永久地改变它需要在引导时与 BIOS 菜单交互或刷新 ROM。如果你遇到那么多麻烦，也许你应该 <a href=\"https://www.coreboot.org/Supported_Motherboards\">安装 coreboot</a>，这是开源固件的替代品。</p>\n<h4 id=\"toc_9\">从 start_kernel() 到用户空间</h4>\n<p><a href=\"https://github.com/torvalds/linux/blob/master/init/main.c\">init/main.c</a> 中的代码竟然是可读的，而且有趣的是，它仍然在使用 1991 – 1992 年的 Linus Torvalds 的原始版权。在一个刚启动的系统上运行 <code>dmesg | head</code>，其输出主要来源于此文件。第一个 CPU 注册到系统中，全局数据结构被初始化，并且调度程序、中断处理程序（IRQ）、定时器和控制台按照严格的顺序逐一启动。在 <code>timekeeping_init()</code> 函数运行之前，所有的时间戳都是零。内核初始化的这部分是同步的，也就是说执行只发生在一个线程中，在最后一个完成并返回之前，没有任何函数会被执行。因此，即使在两个系统之间，<code>dmesg</code> 的输出也是完全可重复的，只要它们具有相同的设备树或 ACPI 表。Linux 的行为就像在 MCU 上运行的 RTOS（实时操作系统）一样，如 QNX 或 VxWorks。这种情况持续存在于函数 <code>rest_init()</code> 中，该函数在终止时由 <code>start_kernel()</code> 调用。</p>\n<p><img class=\"aligncenter\" title=\"Summary of early kernel boot process.\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/731faee0c0adb28504bce94e646b22a2.png\" alt=\"Summary of early kernel boot process.\"></p>\n<p style=\"text-align: center\"><em>早期的内核启动流程。</em></p>\n<p>函数 <code>rest_init()</code> 产生了一个新进程以运行 <code>kernel_init()</code>，并调用了 <code>do_initcalls()</code>。用户可以通过将 <code>initcall_debug</code> 附加到内核命令行来监控 <code>initcalls</code>，这样每运行一次 <code>initcall</code> 函数就会产生 一个 <code>dmesg</code> 条目。<code>initcalls</code> 会历经七个连续的级别：early、core、postcore、arch、subsys、fs、device 和 late。<code>initcalls</code> 最为用户可见的部分是所有处理器外围设备的探测和设置：总线、网络、存储和显示器等等，同时加载其内核模块。<code>rest_init()</code> 也会在引导处理器上产生第二个线程，它首先运行 <code>cpu_idle()</code>，然后等待调度器分配工作。</p>\n<p><code>kernel_init()</code> 也可以 <a href=\"http://free-electrons.com/pub/conferences/2014/elc/clement-smp-bring-up-on-arm-soc\">设置对称多处理（SMP）结构</a>。在较新的内核中，如果 <code>dmesg</code> 的输出中出现 “Bringing up secondary CPUs…” 等字样，系统便使用了 SMP。SMP 通过“热插拔” CPU 来进行，这意味着它用状态机来管理其生命周期，这种状态机在概念上类似于热插拔的 U 盘一样。内核的电源管理系统经常会使某个核core离线，然后根据需要将其唤醒，以便在不忙的机器上反复调用同一段的 CPU 热插拔代码。观察电源管理系统调用 CPU 热插拔代码的 <a href=\"http://www.brendangregg.com/ebpf.html\">BCC 工具</a> 称为 <code>offcputime.py</code>。</p>\n<p>请注意，<code>init/main.c</code> 中的代码在 <code>smp_init()</code> 运行时几乎已执行完毕：引导处理器已经完成了大部分一次性初始化操作，其它核无需重复。尽管如此，跨 CPU 的线程仍然要在每个核上生成，以管理每个核的中断（IRQ）、工作队列、定时器和电源事件。例如，通过 <code>ps -o psr</code> 命令可以查看服务每个 CPU 上的线程的 softirqs 和 workqueues。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397564ffb9518864872\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# ps -o pid,psr,comm $(pgrep ksoftirqd)  \r\n PID PSR COMMAND \r\n   7   0 ksoftirqd/0 \r\n  16   1 ksoftirqd/1 \r\n  22   2 ksoftirqd/2 \r\n  28   3 ksoftirqd/3 \r\n\r\n# ps -o pid,psr,comm $(pgrep kworker)\r\nPID  PSR COMMAND \r\n   4   0 kworker/0:0H \r\n  18   1 kworker/1:0H \r\n  24   2 kworker/2:0H \r\n  30   3 kworker/3:0H\r\n[ . . . ]\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb9518864872-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb9518864872-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb9518864872-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb9518864872-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb9518864872-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb9518864872-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397564ffb9518864872-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac397564ffb9518864872-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-1\"><span class=\"crayon-p\"># ps -o pid,psr,comm $(pgrep ksoftirqd)  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb9518864872-2\"><span class=\"crayon-h\"> </span><span class=\"crayon-e\">PID </span><span class=\"crayon-e\">PSR </span><span class=\"crayon-i\">COMMAND</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-3\"><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ksoftirqd</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb9518864872-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">16</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ksoftirqd</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ksoftirqd</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb9518864872-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">28</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ksoftirqd</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb9518864872-8\"><span class=\"crayon-p\"># ps -o pid,psr,comm $(pgrep kworker)</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-9\"><span class=\"crayon-e\">PID  </span><span class=\"crayon-e\">PSR </span><span class=\"crayon-i\">COMMAND</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb9518864872-10\"><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kworker</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0H</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">18</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kworker</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0H</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb9518864872-12\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">24</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kworker</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0H</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-13\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">30</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kworker</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0H</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397564ffb9518864872-14\"><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac397564ffb9518864872-15\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0061 seconds] -->\r\n<p>其中，PSR 字段代表“处理器processor”。每个核还必须拥有自己的定时器和 <code>cpuhp</code> 热插拔处理程序。</p>\n<p>那么用户空间是如何启动的呢？在最后，<code>kernel_init()</code> 寻找可以代表它执行 <code>init</code> 进程的 <code>initrd</code>。如果没有找到，内核直接执行 <code>init</code> 本身。那么为什么需要 <code>initrd</code> 呢？</p>\n<h4 id=\"toc_10\">早期的用户空间：谁规定要用 initrd？</h4>\n<p>除了设备树之外，在启动时可以提供给内核的另一个文件路径是 <code>initrd</code> 的路径。<code>initrd</code> 通常位于 <code>/boot</code> 目录中，与 x86 系统中的 bzImage 文件 vmlinuz 一样，或是与 ARM 系统中的 uImage 和设备树相同。用 <code>initramfs-tools-core</code> 软件包中的 <code>lsinitramfs</code> 工具可以列出 <code>initrd</code> 的内容。发行版的 <code>initrd</code> 方案包含了最小化的 <code>/bin</code>、<code>/sbin</code> 和 <code>/etc</code> 目录以及内核模块，还有 <code>/scripts</code> 中的一些文件。所有这些看起来都很熟悉，因为 <code>initrd</code> 大致上是一个简单的最小化 Linux 根文件系统。看似相似，其实不然，因为位于虚拟内存盘中的 <code>/bin</code> 和 <code>/sbin</code> 目录下的所有可执行文件几乎都是指向 <a href=\"https://www.mjmwired.net/kernel/Documentation/acpi/initrd_table_override.txt\">BusyBox 二进制文件</a> 的符号链接，由此导致 <code>/bin</code> 和 <code>/sbin</code> 目录比 glibc 的小 10 倍。</p>\n<p>如果要做的只是加载一些模块，然后在普通的根文件系统上启动 <code>init</code>，为什么还要创建一个 <code>initrd</code> 呢？想想一个加密的根文件系统，解密可能依赖于加载一个位于根文件系统 <code>/lib/modules</code> 的内核模块，当然还有 <code>initrd</code> 中的。加密模块可能被静态地编译到内核中，而不是从文件加载，但有多种原因不希望这样做。例如，用模块静态编译内核可能会使其太大而不能适应存储空间，或者静态编译可能会违反软件许可条款。不出所料，存储、网络和人类输入设备（HID）驱动程序也可能存在于 <code>initrd</code> 中。<code>initrd</code> 基本上包含了任何挂载根文件系统所必需的非内核代码。<code>initrd</code> 也是用户存放 <a href=\"https://www.mjmwired.net/kernel/Documentation/acpi/initrd_table_override.txt\">自定义ACPI</a> 表代码的地方。</p>\n<p><img class=\"aligncenter\" title=\"Rescue shell and a custom &lt;code&gt;initrd&lt;/code&gt;.\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/610e633892133afdd175eab9e33620d8.png\" alt=\"Rescue shell and a custom &lt;code&gt;initrd&lt;/code&gt;.\"></p>\n<p style=\"text-align: center\"><em>救援模式的 shell 和自定义的 <code>initrd</code> 还是很有意思的。</em></p>\n<p><code>initrd</code> 对测试文件系统和数据存储设备也很有用。将这些测试工具存放在 <code>initrd</code> 中，并从内存中运行测试，而不是从被测对象中运行。</p>\n<p>最后，当 <code>init</code> 开始运行时，系统就启动啦！由于第二个处理器现在在运行，机器已经成为我们所熟知和喜爱的异步、可抢占、不可预测和高性能的生物。的确，<code>ps -o pid,psr,comm -p 1</code> 很容易显示用户空间的 <code>init</code> 进程已不在引导处理器上运行了。</p>\n<h3 id=\"toc_11\">总结</h3>\n<p>Linux 引导过程听起来或许令人生畏，即使是简单嵌入式设备上的软件数量也是如此。但换个角度来看，启动过程相当简单，因为启动中没有抢占、RCU 和竞争条件等扑朔迷离的复杂功能。只关注内核和 PID 1 会忽略了引导程序和辅助处理器为运行内核执行的大量准备工作。虽然内核在 Linux 程序中是独一无二的，但通过一些检查 ELF 文件的工具也可以了解其结构。学习一个正常的启动过程，可以帮助运维人员处理启动的故障。</p>\n<p>要了解更多信息，请参阅 Alison Chaiken 的演讲——<a href=\"https://rego.linux.conf.au/schedule/presentation/16/\">Linux: The first second</a>，已于 1 月 22 日至 26 日在悉尼举行。参见 <a href=\"https://linux.conf.au/index.html\">linux.conf.au</a>。</p>\n<p>感谢 <a href=\"http://shallowsky.com/\">Akkana Peck</a> 的提议和指正。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113768\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113768votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113768\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/14452eea6b79bce0219227f298ad827f2ba7112d.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/01/1b8322e1daff605d71fc81e724421f17.jpg"], "fav_nums": 2, "url": "http://blog.jobbole.com/113793/", "url_object_id": "d750eaa333832623ef22835422172102", "comment_nums": 1, "praise_nums": "1", "create_date": "2018-03-27", "title": "如何在 Linux 上安装应用程序", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/18/1/how-install-apps-linux\">Seth Kenlon</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9486-1.html\">Linux中国/MjSeven</a>   </div><blockquote><p>学习在你的 Linux 计算机上摆弄那些软件。</p></blockquote>\n<p>如何在 Linux 上安装应用程序？因为有许多操作系统，这个问题不止有一个答案。应用程序可以可以来自许多来源 —— 几乎不可能数的清，并且每个开发团队都可以以他们认为最好的方式提供软件。知道如何安装你所得到的软件是成为操作系统高级用户的一部分。</p>\n<h3 id=\"toc_1\">仓库</h3>\n<p>十多年来，Linux 已经在使用软件库来分发软件。在这种情况下，“仓库”是一个托管可安装软件包的公共服务器。Linux 发行版提供了一条命令，以及该命令的图形界面，用于从服务器获取软件并将其安装到你的计算机。这是一个非常简单的概念，它已经成为所有主流手机操作系统的模式，最近，该模式也成为了两大闭源计算机操作系统的“应用商店”。</p>\n<p><img class=\"aligncenter\" title=\"Linux repository\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/760b92cca45081c6804cd6aaed0a77cc.png\" alt=\"Linux repository\"></p>\n<p style=\"text-align: center\"><em>不是应用程序商店</em></p>\n<p>从软件仓库安装是在 Linux 上安装应用程序的主要方法，它应该是你寻找想要安装的任何应用程序的首选地方。</p>\n<p>从软件仓库安装，通常需要一个命令，如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975238561100539557\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo dnf install inkscape\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975238561100539557-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238561100539557-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975238561100539557-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">dnf </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">inkscape</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238561100539557-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>实际使用的命令取决于你所使用的 Linux 发行版。Fedora 使用 <code>dnf</code>，OpenSUSE 使用 <code>zypper</code>，Debian 和 Ubuntu 使用 <code>apt</code>，Slackware 使用 <code>sbopkg</code>，FreeBSD 使用 <code>pkg_add</code>，而基于 lllumos 的 Openlndiana 使用 <code>pkg</code>。无论你使用什么，该命令通常要搜索你想要安装应用程序的正确名称，因为有时候你认为的软件名称不是它官方或独有的名称：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397523856c575218716\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo dnf search pyqt\r\nPyQt.x86_64 : Python bindings for Qt3\r\nPyQt4.x86_64 : Python bindings for Qt4\r\npython-qt5.x86_64 : PyQt5 is Python bindings for Qt5\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397523856c575218716-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397523856c575218716-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397523856c575218716-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397523856c575218716-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397523856c575218716-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397523856c575218716-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">dnf </span><span class=\"crayon-e\">search </span><span class=\"crayon-e\">pyqt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397523856c575218716-2\"><span class=\"crayon-v\">PyQt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86_64</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Python </span><span class=\"crayon-e\">bindings </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Qt3</span></div><div class=\"crayon-line\" id=\"crayon-5ac397523856c575218716-3\"><span class=\"crayon-v\">PyQt4</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86_64</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Python </span><span class=\"crayon-e\">bindings </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Qt4</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397523856c575218716-4\"><span class=\"crayon-v\">python</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">qt5</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86_64</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">PyQt5 </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Python </span><span class=\"crayon-e\">bindings </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Qt5</span></div><div class=\"crayon-line\" id=\"crayon-5ac397523856c575218716-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0219 seconds] -->\r\n<p>一旦你找到要安装的软件包的名称后，使用 <code>install</code> 子命令执行实际的下载和自动安装：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975238570694975657\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo dnf install python-qt5\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975238570694975657-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238570694975657-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975238570694975657-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">dnf </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">python</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">qt5</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238570694975657-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>有关从软件仓库安装的具体信息，请参阅你的 Linux 发行版的文档。</p>\n<p>图形工具通常也是如此。搜索你认为你想要的，然后安装它。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/b69db96d52abf01b5c5bca4a7945bcb0.png\" alt=\"\"></p>\n<p>与底层命令一样，图形安装程序的名称取决于你正在运行的 Linux 发行版。相关的应用程序通常使用“软件（software）”或“包（package）”等关键字进行标记，因此请在你的启动项或菜单中搜索这些词汇，然后你将找到所需的内容。 由于开源全由用户来选择，所以如果你不喜欢你的发行版提供的图形用户界面（GUI），那么你可以选择安装替代品。 你知道该如何做到这一点。</p>\n<h4 id=\"toc_2\">额外仓库</h4>\n<p>你的 Linux 发行版为其打包的软件提供了标准仓库，通常也有额外的仓库。例如，<a href=\"https://fedoraproject.org/wiki/EPEL\">EPEL</a> 服务于 Red Hat Enterprise Linux 和 CentOS，<a href=\"http://rpmfusion.org\">RPMFusion</a> 服务于 Fedora，Ubuntu 有各种级别的支持以及个人包存档（PPA），<a href=\"http://packman.links2linux.org/\">Packman</a> 为 OpenSUSE 提供额外的软件以及 <a href=\"http://slackbuilds.org\">SlackBuilds.org</a> 为 Slackware 提供社区构建脚本。</p>\n<p>默认情况下，你的 Linux 操作系统设置为只查看其官方仓库，因此如果你想使用其他软件集合，则必须自己添加额外库。你通常可以像安装软件包一样安装仓库。实际上，当你安装例如 <a href=\"https://ring.cx/en/download/gnu-linux\">GNU Ring</a> 视频聊天，<a href=\"http://vivaldi.com\">Vivaldi</a> web 浏览器，谷歌浏览器等许多软件时，你的实际安装是访问他们的私有仓库，从中将最新版本的应用程序安装到你的机器上。</p>\n<p><img class=\"aligncenter\" title=\"Installing a repo\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/9c5806b523c1a55ae242c8aa66c46bcc.png\" alt=\"Installing a repo\"></p>\n<p style=\"text-align: center\"><em>安装仓库</em></p>\n<p>你还可以通过编辑文本文件将仓库手动添加到你的软件包管理器的配置目录，或者运行命令来添加添加仓库。像往常一样，你使用的确切命令取决于 Linux 发行版本。例如，这是一个 <code>dnf</code> 命令，它将一个仓库添加到系统中：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975238575800516270\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo dnf config-manager --add-repo=http://example.com/pub/centos/7\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975238575800516270-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238575800516270-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975238575800516270-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">dnf </span><span class=\"crayon-v\">config</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">manager</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">add</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">repo</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//example.com/pub/centos/7</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238575800516270-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<h3 id=\"toc_3\">不使用仓库来安装应用程序</h3>\n<p>仓库模型非常流行，因为它提供了用户（你）和开发人员之间的链接。重要更新发布之后，系统会提示你接受更新，并且你可以从一个集中位置接受所有更新。</p>\n<p>然而，有时候一个软件包还没有放到仓库中时。这些安装包有几种形式。</p>\n<h4 id=\"toc_4\">Linux 包</h4>\n<p>有时候，开发人员会以通用的 Linux 打包格式分发软件，例如 RPM、DEB 或较新但非常流行的 FlatPak 或 Snap 格式。你不是访问仓库下载的，你只是得到了这个包。</p>\n<p>例如，视频编辑器 <a href=\"https://www.lwks.com/\">Lightworks</a> 为 APT 用户提供了一个 <code>.deb</code> 文件，RPM 用户提供了 <code>.rpm</code> 文件。当你想要更新时，可以到网站下载最新的适合的文件。</p>\n<p>这些一次性软件包可以使用从仓库进行安装时所用的一样的工具进行安装。如果双击下载的软件包，图形安装程序将启动并逐步完成安装过程。</p>\n<p>或者，你可以从终端进行安装。这里的区别在于你从互联网下载的独立包文件不是来自仓库。这是一个“本地”安装，这意味着你的软件安装包不需要下载来安装。大多数软件包管理器都是透明处理的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975238579615600726\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo dnf install ~/Downloads/lwks-14.0.0-amd64.rpm\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975238579615600726-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238579615600726-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975238579615600726-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">dnf </span><span class=\"crayon-v\">install</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Downloads</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lwks</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">14.0.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">amd64</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">rpm</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238579615600726-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>在某些情况下，你需要采取额外的步骤才能使应用程序运行，因此请仔细阅读有关你正在安装软件的文档。</p>\n<h4 id=\"toc_5\">通用安装脚本</h4>\n<p>一些开发人员以几种通用格式发布他们的包。常见的扩展名包括 <code>.run</code> 和 <code>.sh</code>。NVIDIA 显卡驱动程序、像 Nuke 和 Mari 这样的 Foundry visual FX 软件包以及来自 <a href=\"http://gog.com\">GOG</a> 的许多非 DRM 游戏都是用这种安装程序。（LCTT 译注：DRM 是数字版权管理。）</p>\n<p>这种安装模式依赖于开发人员提供安装“向导”。一些安装程序是图形化的，而另一些只是在终端中运行。</p>\n<p>有两种方式来运行这些类型的安装程序。</p>\n<p>1、 你可以直接从终端运行安装程序：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397523857c529248543\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sh ./game/gog_warsow_x.y.z.sh\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397523857c529248543-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397523857c529248543-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397523857c529248543-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">game</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gog_warsow_x</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">y</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">z</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397523857c529248543-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>2、 另外，你可以通过标记其为可执行文件来运行它。要标记为安装程序可执行文件，右键单击它的图标并选择其属性。</p>\n<p><img class=\"aligncenter\" title=\"Giving an installer executable permission\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/819db3a7089befb230a5c94d66686b4c.jpg\" alt=\"Giving an installer executable permission\"></p>\n<p style=\"text-align: center\"><em>给安装程序可执行权限。</em></p>\n<p>一旦你允许其运行，双击图标就可以安装了。</p>\n<p><img class=\"aligncenter\" title=\"GOG installer\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/53afe89b824042f9a90daabea5e29cba.jpg\" alt=\"GOG installer\"></p>\n<p style=\"text-align: center\"><em>GOG 安装程序</em></p>\n<p>对于其余的安装程序，只需要按照屏幕上的说明进行操作。</p>\n<h4 id=\"toc_6\">AppImage 便携式应用程序</h4>\n<p>AppImage 格式对于 Linux 相对来说比较新，尽管它的概念是基于 NeXT 和 Rox 的。这个想法很简单：运行应用程序所需的一切都应该放在一个目录中，然后该目录被视为一个“应用程序”。要运行该应用程序，只需双击该图标即可运行。不需要也要不应该把应用程序安装在传统意义的地方；它从你在硬盘上的任何地方运行都行。</p>\n<p>尽管它可以作为独立应用运行，但 AppImage 通常提供一些系统集成。</p>\n<p><img class=\"aligncenter\" title=\"AppImage system integration\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/59ee2073d407653a05fa297c873d7446.png\" alt=\"AppImage system integration\"></p>\n<p style=\"text-align: center\"><em>AppImage 系统集成</em></p>\n<p>如果你接受此条件，则将一个本地的 <code>.desktop</code> 文件安装到你的主目录。<code>.desktop</code> 文件是 Linux 桌面的应用程序菜单和 mimetype 系统使用的一个小配置文件。实质上，只是将桌面配置文件放置在主目录的应用程序列表中“安装”应用程序，而不实际安装它。你获得了安装某些东西的所有好处，以及能够在本地运行某些东西的好处，即“便携式应用程序”。</p>\n<h4 id=\"toc_7\">应用程序目录</h4>\n<p>有时，开发人员只是编译一个应用程序，然后将结果发布到下载中，没有安装脚本，也没有打包。通常，这意味着你下载了一个 TAR 文件，然后 <a href=\"https://opensource.com/article/17/7/how-unzip-targz-file\">解压缩</a>，然后双击可执行文件（通常是你下载软件的名称）。</p>\n<p><img class=\"aligncenter\" title=\"Twine downloaded for Linux\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/8ebbfff11cc8cda27c3cacbbc6fa7f4f.jpg\" alt=\"Twine downloaded for Linux\"></p>\n<p style=\"text-align: center\"><em>下载 Twine</em></p>\n<p>当使用这种软件方式交付时，你可以将它放在你下载的地方，当你需要它时，你可以手动启动它，或者你可以自己进行快速但是麻烦的安装。这包括两个简单的步骤：</p>\n<ol>\n<li>将目录保存到一个标准位置，并在需要时手动启动它。</li>\n<li>将目录保存到一个标准位置，并创建一个 <code>.desktop</code> 文件，将其集成到你的系统中。</li>\n</ol>\n<p>如果你只是为自己安装应用程序，那么传统上会在你的主目录中放个 <code>bin</code> （“二进制文件binary” 的简称）目录作为本地安装的应用程序和脚本的存储位置。如果你的系统上有其他用户需要访问这些应用程序，传统上将二进制文件放置在 <code>/opt</code> 中。最后，这取决于你存储应用程序的位置。</p>\n<p>下载通常以带版本名称的目录进行，如 <code>twine_2.13</code> 或者 <code>pcgen-v6.07.04</code>。由于假设你将在某个时候更新应用程序，因此将版本号删除或创建目录的符号链接是个不错的主意。这样，即使你更新应用程序本身，为应用程序创建的启动程序也可以保持不变。</p>\n<p>要创建一个 <code>.desktop</code> 启动文件，打开一个文本编辑器并创建一个名为 <code>twine.desktop</code> 的文件。<a href=\"https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html\">桌面条目规范</a> 由 <a href=\"http://freedesktop.org\">FreeDesktop.org</a> 定义。下面是一个简单的启动器，用于一个名为 Twine 的游戏开发 IDE，安装在系统范围的 <code>/opt</code> 目录中：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975238582870539519\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[Desktop Entry]\r\nEncoding=UTF-8\r\nName=Twine\r\nGenericName=Twine\r\nComment=Twine\r\nExec=/opt/twine/Twine\r\nIcon=/usr/share/icons/oxygen/64x64/categories/applications-games.png\r\nTerminal=false\r\nType=Application\r\nCategories=Development;IDE;\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975238582870539519-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238582870539519-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975238582870539519-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238582870539519-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975238582870539519-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238582870539519-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975238582870539519-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238582870539519-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975238582870539519-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238582870539519-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975238582870539519-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975238582870539519-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">Desktop </span><span class=\"crayon-v\">Entry</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238582870539519-2\"><span class=\"crayon-v\">Encoding</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">UTF</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">8</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975238582870539519-3\"><span class=\"crayon-v\">Name</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">Twine</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238582870539519-4\"><span class=\"crayon-v\">GenericName</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">Twine</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975238582870539519-5\"><span class=\"crayon-v\">Comment</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">Twine</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238582870539519-6\"><span class=\"crayon-v\">Exec</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">opt</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">twine</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">Twine</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975238582870539519-7\"><span class=\"crayon-v\">Icon</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">share</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">icons</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oxygen</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">64x64</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">categories</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">applications</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">games</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">png</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238582870539519-8\"><span class=\"crayon-v\">Terminal</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">false</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975238582870539519-9\"><span class=\"crayon-v\">Type</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">Application</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238582870539519-10\"><span class=\"crayon-v\">Categories</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">Development</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">IDE</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975238582870539519-11\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>棘手的一行是 <code>Exec</code> 行。它必须包含一个有效的命令来启动应用程序。通常，它只是你下载的东西的完整路径，但在某些情况下，它更复杂一些。例如，Java 应用程序可能需要作为 Java 自身的参数启动。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975238586254745699\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nExec=java -jar /path/to/foo.jar\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975238586254745699-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238586254745699-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975238586254745699-1\"><span class=\"crayon-v\">Exec</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">java</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">jar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">path</span><span class=\"crayon-o\">/</span><span class=\"crayon-st\">to</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">jar</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238586254745699-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0038 seconds] -->\r\n<p>有时，一个项目包含一个可以运行的包装脚本，这样你就不必找出正确的命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975238589041515606\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nExec=/opt/foo/foo-launcher.sh\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975238589041515606-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975238589041515606-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975238589041515606-1\"><span class=\"crayon-v\">Exec</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">opt</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">foo</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">foo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">launcher</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975238589041515606-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>在这个 Twine 例子中，没有与该下载的软件捆绑的图标，因此示例 <code>.desktop</code> 文件指定了 KDE 桌面附带的通用游戏图标。你可以使用类似的解决方法，但如果你更具艺术性，可以创建自己的图标，或者可以在 Internet 上搜索一个好的图标。只要 <code>Icon</code> 行指向一个有效的 PNG 或 SVG 文件，你的应用程序就会以该图标为代表。</p>\n<p>示例脚本还将应用程序类别主要设置为 Development，因此在 KDE、GNOME 和大多数其他应用程序菜单中，Twine 出现在开发类别下。</p>\n<p>为了让这个例子出现在应用程序菜单中，把 <code>twine.desktop</code> 文件放这到两个地方之一：</p>\n<ul>\n<li>如果你将应用程序存储在你自己的家目录下，那么请将其放在 <code>~/.local/share/applications</code>。</li>\n<li>如果你将应用程序存储在 <code>/opt</code> 目录或者其他系统范围的位置，并希望它出现在所有用户的应用程序菜单中，请将它放在 <code>/usr/share/applications</code> 目录中。</li>\n</ul>\n<p>现在，该应用程序已安装，因为它需要与系统的其他部分集成。</p>\n<h3 id=\"toc_8\">从源代码编译</h3>\n<p>最后，还有真正的通用格式安装格式：源代码。从源代码编译应用程序是学习如何构建应用程序，如何与系统交互以及如何定制应用程序的好方法。尽管如此，它绝不是一个点击按钮式过程。它需要一个构建环境，通常需要安装依赖库和头文件，有时还要进行一些调试。</p>\n<p>要了解更多关于从源代码编译的内容，请阅读<a href=\"https://opensource.com/article/17/10/open-source-cats\">我这篇文章</a>。</p>\n<h3 id=\"toc_9\">现在你明白了</h3>\n<p>有些人认为安装软件是一个神奇的过程，只有开发人员理解，或者他们认为它“激活”了应用程序，就好像二进制可执行文件在“安装”之前无效。学习许多不同的安装方法会告诉你安装实际上只是“将文件从一个地方复制到系统中适当位置”的简写。 没有什么神秘的。只要你去了解每次安装，不是期望应该如何发生，并且寻找开发者为安装过程设置了什么，那么通常很容易，即使它与你的习惯不同。</p>\n<p>重要的是安装器要诚实于你。 如果你遇到未经你的同意尝试安装其他软件的安装程序（或者它可能会以混淆或误导的方式请求同意），或者尝试在没有明显原因的情况下对系统执行检查，则不要继续安装。</p>\n<p>好的软件是灵活的、诚实的、开放的。 现在你知道如何在你的计算机上获得好软件了。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113793\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113793votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113793\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/14452eea6b79bce0219227f298ad827f2ba7112d.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/01/1b8322e1daff605d71fc81e724421f17.jpg"], "fav_nums": 0, "url": "http://blog.jobbole.com/113775/", "url_object_id": "1401d80b943d81d3493c295bfe34a3ab", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-03-21", "title": "Linux 新用户？来试试这 8 款重要的软件", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.maketecheasier.com/essential-linux-apps/\">Ada Ivanova</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9458-1.html\">Linux中国/ChenYi</a>   </div><p>即便您不是计算机的新手，刚接触 Linux 时，通常都会面临选择使用应用软件的问题。在数百万 Linux 应用程序中，做起选择来并不轻松。本文中，您将能发现八个重要的 Linux 应用，帮助您快速选择应用程序。</p>\n<p>下面这些应用程序大多不是 Linux 独有的。如果有过使用 Windows/Mac 的经验，您很可能会熟悉其中一些软件。根据兴趣和需求，下面的程序可能不全符合您的要求，但是在我看来，清单里大多数甚至全部的软件，对于新用户开启 Linux 之旅都是有帮助的。</p>\n<p><strong>相关链接</strong> : <a title=\"11 Portable Apps Every Linux User Should Use\" href=\"https://www.maketecheasier.com/portable-apps-for-linux/\">每一个 Linux 用户都应该使用的 11 个可移植软件</a></p>\n<h3 id=\"toc_1\">1. Chromium 网页浏览器</h3>\n<p><img title=\"linux-apps-01-chromium\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/1a4a3161971e417d60d75361bfdf7083.jpg\" alt=\"linux-apps-01-chromium\"></p>\n<p>几乎不会不需要使用网页浏览器的用户。您可以看到陈旧的 Linux 发行版几乎都会附带 Firefox（火狐浏览器）或者其他 <a href=\"https://www.maketecheasier.com/linux-browsers-you-probably-havent-heard-of/\">Linux 浏览器</a>，关于浏览器，强烈建议您尝试 <a href=\"http://www.chromium.org/\">Chromium</a>。它是谷歌浏览器的开源版。Chromium 的主要优点是速度和安全性。它同样拥有大量的附加组件。</p>\n<h3 id=\"toc_2\">2. LibreOffice</h3>\n<p><img title=\"linux-apps-02-libreoffice\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/4b02246613b823b1d7568cd8c7af6c79.jpg\" alt=\"linux-apps-02-libreoffice\"></p>\n<p><a href=\"https://www.libreoffice.org/\">LibreOffice</a> 是一个开源办公套件，其包括文字处理（Writer）、电子表格（Calc）、演示（Impress）、数据库（Base）、公式编辑器（Math）、矢量图和流程图（Draw）应用程序。它与 Microsoft Office 文档兼容，如果其基本功能不能满足需求，您可以使用 <a href=\"https://www.maketecheasier.com/best-libreoffice-extensions/\">LibreOffice 拓展</a>。</p>\n<p>LibreOffice 显然是 Linux 应用中至关重要的一员，如果您使用 Linux 的计算机，安装它是有必要的。</p>\n<h3 id=\"toc_3\">3. GIMP（GUN 图像处理程序GNU Image Manipulation Program）</h3>\n<p><img title=\"linux-apps-03-gimp\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/7c72e5b5a6595e7250a09f90ccd12e95.jpg\" alt=\"linux-apps-03-gimp\"></p>\n<p><a href=\"https://www.gimp.org/\">GIMP</a> 是一款非常强大的开源图片处理程序，它类似于 Photoshop。通过 GIMP，您可以编辑或是创建用于 Web 或是打印的光栅图（位图）。如果您对专业的图片处理没有概念，Linux 自然提供有更简单的图像编辑器，GIMP 看上去可能会复杂一点。GIMP 并不单纯提供图片裁剪和大小调整，它更覆盖了图层、滤镜、遮罩、路径和其他一些高级功能。</p>\n<h3 id=\"toc_4\">4. VLC 媒体播放器</h3>\n<p><img title=\"linux-apps-04-vlc\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/ec5bc4abf3e1daf3ee5371e3bfbc8a4a.jpg\" alt=\"linux-apps-04-vlc\"></p>\n<p><a href=\"http://www.videolan.org/\">VLC</a> 也许就是最好的影音播放器了。它是跨平台的，所以您可能在 Windows 上也听说过它。VLC 最特殊的地方是其拥有大量解码器（并不是所有的解码器都开放源代码），所以它几乎可以播放所有的影音文件。</p>\n<h3 id=\"toc_5\">5. Jitsy</h3>\n<p><img title=\"linux-apps-05-jitsi\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/106a94517baf8cca5c0302d20afdcb58.jpg\" alt=\"linux-apps-05-jitsi\"></p>\n<p><a href=\"https://jitsi.org/\">Jitsy</a> 完全是关于通讯的。您可以借助它使用 Google talk、Facebook chat、Yahoo、ICQ 和 XMPP。它是用于音视频通话（包括电话会议），桌面流desktop streaming和群组聊天的多用户工具。会话会被加密。Jistsy 同样能帮助您传输文件或记录电话。</p>\n<h3 id=\"toc_6\">6. Synaptic</h3>\n<p><img title=\"linux-apps-06-synaptic\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/a939e9ecbb8c51fa5908c7a234317cef.jpg\" alt=\"linux-apps-06-synaptic\"></p>\n<p><a href=\"http://www.nongnu.org/synaptic/\">Synaptic</a> 是一款基于 Debian 系统发行版的另一款应用程序安装程序。并不是所有基于 Debian 的 Linux 都安装有它，如果您使用基于 Debian 的 Linux 操作系统没有预装，也许您可以试一试。Synaptic 是一款用于添加或移除系统应用的 GUI 工具，甚至相对于许多发行版默认安装的 <a href=\"https://www.maketecheasier.com/are-linux-gui-software-centers-any-good/\">软件中心包管理器</a> ，经验丰富的 Linux 用户更亲睐于 Sunaptic。</p>\n<p><strong>相关链接</strong> : <a title=\"10 Free Linux Productivity Apps You Haven’t Heard Of\" href=\"https://www.maketecheasier.com/free-linux-productivity-apps-you-havent-heard-of/\">10 款您没听说过的 Linux 生产力应用程序</a></p>\n<h3 id=\"toc_7\">7. VirtualBox</h3>\n<p><img title=\"linux-apps-07-virtualbox\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/653bd651a823462de3513ae285eb14d4.jpg\" alt=\"linux-apps-07-virtualbox\"></p>\n<p><a href=\"https://www.virtualbox.org/\">VirtualBox</a> 能支持您在计算机上运行虚拟机。当您想在当前 Linux 发行版上安装其他发行版或操作系统时，使用虚拟机会方便许多。您同样可以通过它运行 Windows 应用程序，性能可能会稍弱，但是如果您有一台强大的计算机，就不会那么糟。</p>\n<h3 id=\"toc_8\">8. AisleRiot Solitaire（纸牌游戏）</h3>\n<p><img title=\"linux-apps-08-aisleriot\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/433400c4755063f31346d9ddcdf76188.jpg\" alt=\"linux-apps-08-aisleriot\"></p>\n<p>对于 Linux 的新用户来说，一款纸牌游戏并不是刚需，但是它真的太有趣了。当您进入这款纸牌游戏，您会发现，这是一款极好的纸牌游戏包。<a href=\"https://wiki.gnome.org/Aisleriot\">AisleRiot</a> 是 Linux 标志性的应用程序，原因是 – 它涵盖超过八十种纸牌游戏，包括流行的 Klondike、Bakers Dozen、Camelot 等等，作为预警 – 它是会上瘾的，您可能会花很长时间沉迷于此！</p>\n<p>根据您所使用的发行版，这些软件会有不同的安装方法。但是大多数都可以通过您使用的发行版中的包管理器安装使用，甚至它们可能会预装在您的发行版上。安装并且尝试它们想必是最好的，如果不合您的胃口，您可以轻松地删除它们。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113775\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113775votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113775\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/d1b17b98748a74826464a08e6d30a4ee1b15b171.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/77d80105fd15f2465894827e23cc4842.jpeg"], "fav_nums": 2, "url": "http://blog.jobbole.com/113780/", "url_object_id": "9f16c4dc5a6cd2f4b07fef3690f49f8b", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-03-23", "title": "du 及 df 命令的使用（附带示例）", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://linuxtechlab.com/du-df-commands-examples/\">shusain</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9457-1.html\">Linux中国/geekpi</a>   </div><p>在本文中，我将讨论 <code>du</code> 和 <code>df</code> 命令。<code>du</code> 和 <code>df</code> 命令都是 Linux 系统的重要工具，来显示 Linux 文件系统的磁盘使用情况。这里我们将通过一些例子来分享这两个命令的用法。</p>\n<ul>\n<li><strong>（推荐阅读：<a href=\"http://linuxtechlab.com/files-transfer-scp-rsync-commands/\">使用 scp 和 rsync 命令传输文件</a>）</strong></li>\n<li><strong>（另请阅读：<a href=\"http://linuxtechlab.com/linux-cloning-disks-using-dd-cat-commands/\">使用 dd 和 cat 命令为 Linux 系统克隆磁盘</a>）</strong></li>\n</ul>\n<h3 id=\"toc_1\">du 命令</h3>\n<p><code>du</code>（disk usage 的简称）是用于查找文件和目录的磁盘使用情况的命令。<code>du</code> 命令在与各种选项一起使用时能以多种格式提供结果。</p>\n<p>下面是一些例子：</p>\n<h4 id=\"toc_2\">1、 得到一个目录下所有子目录的磁盘使用概况</h4>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975409e98795863342\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ du /home\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975409e98795863342-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975409e98795863342-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975409e98795863342-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">du</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">home</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975409e98795863342-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/a7080196ba5d69aefcecf7bbf44c9556.jpg\" alt=\"du command\"></p>\n<p>该命令的输出将显示 <code>/home</code> 中的所有文件和目录以及显示块大小。</p>\n<h4 id=\"toc_3\">2、 以人类可读格式也就是 kb、mb 等显示文件/目录大小</h4>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975409ea2874384413\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ du -h /home\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975409ea2874384413-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975409ea2874384413-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975409ea2874384413-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">du</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">h</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">home</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975409ea2874384413-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/1b9dd42d7efa627e663eeb719c31051b.jpg\" alt=\"du command\"></p>\n<h4 id=\"toc_4\">3、 目录的总磁盘大小</h4>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975409ea6631803190\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ du -s /home\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975409ea6631803190-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975409ea6631803190-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975409ea6631803190-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">du</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">home</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975409ea6631803190-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/3d49dd172fc018cabd4747f4db263811.jpg\" alt=\"du command\"></p>\n<p>它是 <code>/home</code> 目录的总大小</p>\n<h3 id=\"toc_5\">df 命令</h3>\n<p>df（disk filesystem 的简称）用于显示 Linux 系统的磁盘利用率。（LCTT 译注：<code>df</code> 可能应该是 disk free 的简称。）</p>\n<p>下面是一些例子。</p>\n<h4 id=\"toc_6\">1、 显示设备名称、总块数、总磁盘空间、已用磁盘空间、可用磁盘空间和文件系统上的挂载点。</h4>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975409eaa546619330\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ df\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975409eaa546619330-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975409eaa546619330-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975409eaa546619330-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">df</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975409eaa546619330-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/ab5724c46d3e98a63c869827c65cd227.jpg\" alt=\"df command\"></p>\n<h4 id=\"toc_7\">2、 人类可读格式的信息</h4>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975409eae919120726\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ df -h\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975409eae919120726-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975409eae919120726-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975409eae919120726-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">df</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">h</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975409eae919120726-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0302 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/5e54bd24a629aad15d72114b57687e18.jpg\" alt=\"df command\"></p>\n<p>上面的命令以人类可读格式显示信息。</p>\n<h4 id=\"toc_8\">3、 显示特定分区的信息</h4>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975409eb1933958956\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ df -hT /etc\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975409eb1933958956-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975409eb1933958956-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975409eb1933958956-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">df</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">hT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">etc</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975409eb1933958956-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/5b29e87fdba47b650c6958d569d553c2.jpg\" alt=\"df command\"></p>\n<p><code>-hT</code> 加上目标目录将以可读格式显示 <code>/etc</code> 的信息。</p>\n<p>虽然 <code>du</code> 和 <code>df</code> 命令有更多选项，但是这些例子可以让你初步了解。如果在这里找不到你要找的东西，那么你可以参考有关命令的 man 页面。</p>\n<p>另外，<a href=\"http://linuxtechlab.com/tips-tricks/\"><strong>在这</strong></a>阅读我的其他帖子，在那里我分享了一些其他重要和经常使用的 Linux 命令。</p>\n<p>如往常一样，欢迎你留下评论和疑问，因此在下面留下你的评论和疑问，我会回复你。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113780\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113780votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113780\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/72fd692cdd9ccd44d3da74f6eda1119635b48c27.jpg", "front_image_url": ["http://wx3.sinaimg.cn/mw690/63918611gy1fpaca90vycj218g0tmtek.jpg"], "fav_nums": 0, "url": "http://blog.jobbole.com/113741/", "url_object_id": "346c3258b4b9bfbca9483337a14be393", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-03-12", "title": "我从 1000 份代码审查中学到了什么", "tags": "IT技术,Code Review,代码审查", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://hackernoon.com/what-i-learned-from-doing-1000-code-reviews-fe28d4d11c71\">Steven Heidel</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>我看到有些建议不断重复出现，所以我决定整理一个清单，与诸位分享。</p>\n<p id=\"ec28\" class=\"graf graf--p graf-after--p\">这是我的 3（额外 +1）个最常见的代码审查建议。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1fpaca90vycj218g0tmtek.jpg\" width=\"690\" height=\"460\"></p>\n<h3 id=\"1d0b\" class=\"graf graf--p graf-after--figure\"><strong>建议1：出错时抛出异常</strong></h3>\n<p id=\"9787\" class=\"graf graf--p graf-after--p\">我见过的一个常见模式是：</p>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39755189ce898444690\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nList&lt;String&gt; getSearchResults(...) {\r\n  try {\r\n    List&lt;String&gt; results = // make REST call to search service\r\n    return results;\r\n  } catch (RemoteInvocationException e) {\r\n    return Collections.emptyList();\r\n  }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39755189ce898444690-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189ce898444690-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189ce898444690-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189ce898444690-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189ce898444690-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189ce898444690-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189ce898444690-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189ce898444690-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39755189ce898444690-1\"><span class=\"crayon-v\">List</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">String</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">getSearchResults</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189ce898444690-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">try</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189ce898444690-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">List</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">String</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">results</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// make REST call to search service</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189ce898444690-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">results</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189ce898444690-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">catch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">RemoteInvocationException</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">e</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189ce898444690-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Collections</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">emptyList</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189ce898444690-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189ce898444690-8\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>这种模式实际上导致了我做的移动应用程序崩溃，我们当时使用的搜索后端开始抛出异常。而应用程序的 API 服务器中也有一些类似的代码。从应用程序的角度来看，它成功获取了 200 个响应，只是每个搜索请求返回的是空列表。</p>\n<p id=\"addb\" class=\"graf graf--p graf-after--p\">如果当时 API 直接抛出异常，那么我们的监控系统就会立即检测到并修复它。</p>\n<p id=\"de7a\" class=\"graf graf--p graf-after--p\">很多时候，当你捕获一个异常时，你会希望它返回一个空对象。Java 中的空对象包括 Optional.empty()、null 和空列表，而它们在 URL 解析中经常出现。如果 URL 不能从一个字符串中正确解析时，先不要返回 null，而是停下来问问自己：“为什么 URL 格式不正确？这不是我们应该在上游解决的数据问题吗？”</p>\n<p id=\"3b2d\" class=\"graf graf--p graf-after--p\">空对象不是解决此类问题的合适工具。<strong>如果有异常，你应该（及时）抛出它。</strong></p>\n<h3 id=\"9dac\" class=\"graf graf--p graf-after--p\"><strong>建议2：使用尽可能具体的类型</strong></h3>\n<p id=\"42d5\" class=\"graf graf--p graf-after--p\">这个建议基本上与<a class=\"markup--anchor markup--p-anchor\" href=\"http://wiki.c2.com/?StringlyTyped\" target=\"_blank\" rel=\"noopener\">字符串类型编程</a>相反。</p>\n<p id=\"11ce\" class=\"graf graf--p graf-after--p\">我经常看到类似这样的代码：</p>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39755189da913289279\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nvoid doOperation(String opType, Data data); \r\n// where opType is \"insert\", \"append\", or \"delete\", this should have clearly been an enum\r\n\r\nString fetchWebsite(String url);\r\n// where url is \"https://google.com\", this should have been an URN\r\n\r\nString parseId(Input input);\r\n// the return type is String but ids are actually Longs like \"6345789\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39755189da913289279-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189da913289279-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189da913289279-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189da913289279-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189da913289279-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189da913289279-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189da913289279-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189da913289279-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39755189da913289279-1\"><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">doOperation</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">opType</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Data </span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189da913289279-2\"><span class=\"crayon-c\">// where opType is \"insert\", \"append\", or \"delete\", this should have clearly been an enum</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189da913289279-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189da913289279-4\"><span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">fetchWebsite</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189da913289279-5\"><span class=\"crayon-c\">// where url is \"https://google.com\", this should have been an URN</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189da913289279-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ac39755189da913289279-7\"><span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">parseId</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Input </span><span class=\"crayon-v\">input</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189da913289279-8\"><span class=\"crayon-c\">// the return type is String but ids are actually Longs like \"6345789\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0146 seconds] -->\r\n<p>尽可能具体的类型可以让你避免整个类的错误，这基本上是大家选择强类型语言（如 Java）的原因。</p>\n<p id=\"ebee\" class=\"graf graf--p graf-after--p\">所以现在的问题是：那些想要写强类型语言的程序员，最终是怎么写出糟糕的字符串类型的代码哪？答案是：因为外部世界不是强类型的。字符串通常来自许多不同的地方，比如：</p>\n<ul class=\"postList\">\n<li class=\"graf graf--li graf-after--li\">url 中的请求和路径参数</li>\n<li class=\"graf graf--li graf-after--li\">JSON</li>\n<li class=\"graf graf--li graf-after--li\">不支持枚举的数据库</li>\n<li class=\"graf graf--li graf-after--li\">写得很差的库</li>\n</ul>\n<p id=\"bce9\" class=\"graf graf--p graf-after--li\">这些情况下，你应该使用以下策略来避免这个问题：<strong>将字符串解析和序列化保持到程序边缘</strong>。这是一个例子：</p>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39755189df205627428\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// Step 1: Take a query param representing a company name / member id pair and parse it\r\n// example: context=Pair(linkedin,456)\r\nPair&lt;String, Long&gt; companyMember = parseQueryParam(\"context\");\r\n// this should throw an exception if malformed\r\n\r\n// Step 2: Do all the stuff in your application\r\n// MOST if not all of your code should live in this area\r\n\r\n// Step 3: Convert the parameter back into a String at the very end if necessary\r\nString redirectLink = serializeQueryParam(\"context\");</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39755189df205627428-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189df205627428-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189df205627428-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189df205627428-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189df205627428-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189df205627428-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189df205627428-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189df205627428-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189df205627428-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189df205627428-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39755189df205627428-1\"><span class=\"crayon-c\">// Step 1: Take a query param representing a company name / member id pair and parse it</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189df205627428-2\"><span class=\"crayon-c\">// example: context=Pair(linkedin,456)</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189df205627428-3\"><span class=\"crayon-v\">Pair</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">String</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Long</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">companyMember</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">parseQueryParam</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"context\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189df205627428-4\"><span class=\"crayon-c\">// this should throw an exception if malformed</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189df205627428-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189df205627428-6\"><span class=\"crayon-c\">// Step 2: Do all the stuff in your application</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189df205627428-7\"><span class=\"crayon-c\">// MOST if not all of your code should live in this area</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189df205627428-8\"> </div><div class=\"crayon-line\" id=\"crayon-5ac39755189df205627428-9\"><span class=\"crayon-c\">// Step 3: Convert the parameter back into a String at the very end if necessary</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189df205627428-10\"><span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redirectLink</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">serializeQueryParam</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"context\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0167 seconds] -->\r\n<p>它带给我们许多好处：1、能够立刻发现格式不正确的数据；如果有任何问题，应用程序会提前显示并终止。2、一旦数据通过验证，你不必在整个应用程序中捕获解析异常。3、强类型使得签名具有更多信息，这样你就无需在每个方法上写 javadoc。</p>\n<h3 id=\"3981\" class=\"graf graf--p graf-after--p\"><strong>建议3：使用 Optionals 而不是 null</strong></h3>\n<p id=\"8e2f\" class=\"graf graf--p graf-after--p\"><code class=\"markup--code markup--p-code\">Optional</code>（可选）类是 Java 8 中最好的特性之一，它表示一个可以合理存在或不存在的实体。</p>\n<p id=\"d2f2\" class=\"graf graf--p graf-after--p\">问题时间：唯一用缩写来指代的异常是什么？答：NPE （Null Pointer Exception，空指针异常）。这是迄今为止 Java 中最常见的异常，被称为<a class=\"markup--anchor markup--p-anchor\" href=\"https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare\" target=\"_blank\" rel=\"noopener\">十亿美元的错误</a>。</p>\n<p id=\"2a55\" class=\"graf graf--p graf-after--p\"><code class=\"markup--code markup--p-code\">Optional</code> 允许你从程序中完全删除 NPE。但是，你必须正确地使用它。这里有一些关于如何使用 <code class=\"markup--code markup--p-code\">Optional</code> 的建议：</p>\n<ul class=\"postList\">\n<li id=\"aa71\" class=\"graf graf--li graf-after--p\">你不应该在任何时候随意调用 <code class=\"markup--code markup--li-code\">.get()</code>，而应仔细考虑 <code class=\"markup--code markup--li-code\">Optional</code> 不存在的情况，并给出合理的默认值。</li>\n<li id=\"b536\" class=\"graf graf--li graf-after--li\">如果你还没有一个合理的默认值，那么像 <code class=\"markup--code markup--li-code\">.map()</code> 和 <code class=\"markup--code markup--li-code\">.flatMap()</code> 这样的方法，可以让你晚点做这个决定。</li>\n<li id=\"c520\" class=\"graf graf--li graf-after--li\">如果外部库返回 <code class=\"markup--code markup--li-code\">null</code> 来表示空值，则立即使用 <code class=\"markup--code markup--li-code\">Optional.ofNullable()</code> 以封装它。相信我，以后你会感谢自己的。在程序内部，null 有往上“冒泡”的倾向，所以还是最好从源头上阻止它们。</li>\n<li id=\"4a95\" class=\"graf graf--li graf-after--li\">在返回类型的方法中使用 <code class=\"markup--code markup--li-code\">Optional</code>。这样做可以让你不用阅读 javadoc 就可以获知，值是否可能不存在。</li>\n</ul>\n<h3 id=\"573f\" class=\"graf graf--p graf-after--li\"><strong>额外建议：尽可能使用“Unlift”方法</strong></h3>\n<p id=\"1873\" class=\"graf graf--p graf-after--p\">你应该尽量避免类似的方法：</p>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39755189e5871888200\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// AVOID:\r\nCompletableFuture&lt;T&gt; method(CompletableFuture&lt;S&gt; param);\r\n// PREFER: \r\nT method(S param);\r\n\r\n// AVOID:\r\nList&lt;T&gt; method(List&lt;S&gt; param);\r\n// PREFER:\r\nT method(S param);\r\n\r\n// AVOID: \r\nT method(A param1, B param2, Optional&lt;C&gt; param3);\r\n// PREFER:\r\nT method(A param1, B param2, C param3);\r\nT method(A param1, B param2);\r\n// This method is clearly doing two things, it should be two methods\r\n// The same is true for boolean parameters</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755189e5871888200-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755189e5871888200-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-1\"><span class=\"crayon-c\">// AVOID:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-2\"><span class=\"crayon-v\">CompletableFuture</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">T</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">CompletableFuture</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">S</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-3\"><span class=\"crayon-c\">// PREFER: </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-4\"><span class=\"crayon-i\">T</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">S</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-6\"><span class=\"crayon-c\">// AVOID:</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-7\"><span class=\"crayon-v\">List</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">T</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">List</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">S</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-8\"><span class=\"crayon-c\">// PREFER:</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-9\"><span class=\"crayon-i\">T</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">S</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-11\"><span class=\"crayon-c\">// AVOID: </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-12\"><span class=\"crayon-i\">T</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">B</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Optional</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">C</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-13\"><span class=\"crayon-c\">// PREFER:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-14\"><span class=\"crayon-i\">T</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">B</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">C</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-15\"><span class=\"crayon-i\">T</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">method</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">B</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">param2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755189e5871888200-16\"><span class=\"crayon-c\">// This method is clearly doing two things, it should be two methods</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755189e5871888200-17\"><span class=\"crayon-c\">// The same is true for boolean parameters</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0214 seconds] -->\r\n<p>所有要避免的方法有什么共同点？他们都使用容器对象，比如 Optional，List 或 Task 作为方法的参数。当返回类型是同一类型的容器（即，一个参数的方法采用 Optional 并返回一个 Optional），情况会变得更糟糕。</p>\n<p id=\"3eb8\" class=\"graf graf--p graf-after--p\">为什么？</p>\n<p>相比 ① <code class=\"markup--code markup--p-code\">Promise&lt;A&gt; method(Promise&lt;B&gt; param)</code>，② <code class=\"markup--code markup--p-code\">A method(B param) </code>更具有灵活性。</p>\n<p>如果你有 <code class=\"markup--code markup--p-code\">Promise&lt;B&gt;</code>，那么你可以使用 ①，也可以通过  <code class=\"markup--code markup--p-code\">.map</code> 函数“提升（lifting）” （比如 <code class=\"markup--code markup--p-code\">promise.map(method)</code>）来使用 ②.</p>\n<p>但是，如果你只有 B，那么你可以很容易地使用 ②，却不能使用 ①，很明显，② 是一个更灵活的选择。</p>\n<p>我喜欢称之为“Unlift”，因为它与普通函数的实用方法“Lift”恰好相反。应用这些重写能使方法更灵活，调用更轻松。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113741\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113741votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113741\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/9667abaa540914200edd449974fb5538.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            I'm OUT, never IN.        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zhj318\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zhj318/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 50</a> · <a title=\"QQ：574375911\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/e987a29d5f8519c5dcfb6963d8ba061ebf03b879.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/03/db3f0f9a2c81173f5758eed4074b7543.jpg"], "fav_nums": 1, "url": "http://blog.jobbole.com/113778/", "url_object_id": "7a3fd4e360713292fb09393642fffc46", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-03-22", "title": "从业 24 年独立开发者：大多数同行都只看 5 年以内", "tags": "职场,游戏", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.gamelook.com.cn/2018/03/323982\">GameLook</a>   </div><p>GameLook报道/有人说，游戏行业的竞争越来越激烈，游戏数量的增加使得曝光率问题日益严重，但在Jeff Vogel看来，真正热爱游戏研发的人，是不会抱怨这些问题的，因为大多数人做开发者都是从1-5年的时间看待自己的游戏研发职业生涯，而真正想要把游戏当作职业的人，往往是考虑40年或者更长的周期。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/db3f0f9a2c81173f5758eed4074b7543.jpg\" alt=\"\" width=\"564\" height=\"293\"></p>\n<p>在24年的独立游戏研发生涯中，Spiderweb Software创始人Jeff Vogel学到了很多东西。在3月20日举行的GDC独立游戏峰会上，他分享了一些自己的心得，有些观点让人十分意外。</p>\n<p><strong>游戏是朝阳产业，创新不是唯一出路</strong></p>\n<p>Vogel强调，“游戏行业还是个朝阳产业，没有人无所不知，我们还有很多东西都需要弄明白，比如，如何设计这些游戏，如何创造、测试以及销售这些产品，如何为游戏做营销，如何给1亿美元预算的项目增加开箱子玩法而又不影响发布之后的口碑？”他提到自己的第一个游戏项目时候说，“这个项目并没有耗时太久，我当时有了一个想法，也就是小时候就喜欢的那些游戏，所以我要做的就是把小时候喜欢的游戏都回顾一遍，然后从每个游戏里汲取最好的创意。按照我的方法，我希望把它们变成让我觉得满意的游戏”。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/3ea9cfb97b6ce8d6c4919b5e34eb106f.jpg\" alt=\"\" width=\"698\" height=\"566\"></p>\n<p style=\"text-align: center\">Jeff Vogel的第一款游戏截图</p>\n<p>独立游戏非常适合做创新，但创新并不是唯一的出路。你必须知道，我们游戏行业的每个人都是站在巨人的肩膀上，所有的玩法都是在原有的玩法之上演变而来，我只了解自己喜欢的，然后复制这个想法，这就是我的创意过程，他鼓励其他开发者们用类似的方式，按照自己的个人需求去寻找创意，有人把游戏创意说的很玄，比如追求自己的灵感，这样的建议，但我的建议是千万不要这样做，这是一个非常现实的建议，我来说说原因。</p>\n<p>大多数人思考自己在游戏行业生涯的时候，往往是从1-5年的角度考虑问题，对于一些刚开始做游戏研发的人们来说，追寻自己的灵感似乎是非常合理的事情。但是，如果你把自己从事独立游戏研发行业的期限延长到40年或者更久的时间考虑，或许会有所帮助。</p>\n<p>这是一个特别长的时间，如果你在一个行业工作这么久，就会达到最高的工作效率，因为你需要维持生存，需要一个对应的生活方式，一个长久的想法，一个可持续的过程，保持自己不至于破产，因为，如果你因为一些想法而失去了立足之本，在接下来的40年里，它都会让你不断吃亏。</p>\n<p><strong>独立游戏要注重体验，远离消极玩家</strong></p>\n<p>当然，Vogel的创意也并不只是抄袭其他游戏的玩法，他对自己游戏的要求也是相对较高的，比如研发续作的时候，前作25%最差的部分需要被替换，提高整体游戏质量。他非常喜欢重复使用资源、代码和引擎，并认为所有人都不应该因此感到羞辱，比如有一个狼的icon，他在15款不同的游戏里使用过，“人们一直拿这个梗开我的玩笑，但我还是没有因此失业”。</p>\n<p>虽然Spiderweb的游戏有一定的用户群，而且口碑还不错，但这些游戏对于更大的用户群缺乏吸引力，有很大一部分原因是画质无法和3A游戏媲美，但Vogel说，“我非常反感所有人吐槽我的画面质量不够好，我也是投入了资金，专门招聘了美术师的，有些美术资源也是从比较大的渠道获得的，然而还是有人经常说，我的游戏画面很差，我以后再也不会浪费精力去专门提高美术质量了”。</p>\n<p>对于独立游戏开发者而言，这种批评的声音也是经常遇到的，人性有一部分是刻薄的，会对某些事物提出不合理的需求，而且在Steam这样的分销平台没有出现之前，Vogel做电话销售的时候就遇到过类似的问题。而到了互联网时代，这种问题就更加严重，“通常最愤怒的人不是完全匿名的，他们可能是五年前你的游戏最忠实的粉丝，然后你对游戏做出了改变，而且改掉的恰好是他们最喜欢的东西，他们就不再是你的粉丝，你要知道，有时候爱与恨之间的界限很小”。</p>\n<p>作为一个想要长期在游戏行业生存的开发者，Vogel表示，远离各种形式的骚扰是很重要的，作为一个成年人，虽然你很少会被人轻易激怒，但仍有很多事情会让你抓狂，所以Vogel基本上不会看自己的游戏在Steam平台的评论，也不访问论坛，如果被人喷，他还会暂时不登陆Twitter，等待事情平息了之后再登录，如果与一些玩家的关系闹僵，他会毫不犹豫的放弃这部分用户。Vogel说，“不要怕得罪用户，他们说客户总是对的，但实际上并非如此，用户一直是错的。但差别在于，你永远吵不赢他们。有时候你不得不对一部分玩家说，‘我的游戏不适合你，所以我不能增加你要的功能、不能做这样的资料片、不能满足你的要求’，对于你无法让他们满意的用户，退款是最好的方法”。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/b87866fb081fe1d1caf5bc8b5b63273f.jpg\" alt=\"\" width=\"714\" height=\"401\"></p>\n<p style=\"text-align: center\">《Geneforge 3》截图</p>\n<p>对于论坛管理，他说，“如果有人在论坛挑事，直接封掉就是了。但如果有人说，‘这些人又不会影响你的生意，不应该封他们’，那你可以连这些人一起封掉，这些消极的负面声音只会给你的社区带来不利影响，真正支持你的玩家会理解你的做法”。</p>\n<p>和所有的工作室一样，Spiderweb也经历了起伏，Vogel指出，2004年是最艰难的时候，那一年他的两款游戏，《Blades of Avernum》和《Geneforge 3》的销量都不佳。</p>\n<p>有人说，游戏开发者就像是艺术家，遭遇挫折在所难免，但Vogel认为，作为艺术家，你必须成长，“我们更像是玩具制造者，我们卖的是娱乐体验，我们的作品是用来给人们的大脑带来消遣的，我们卖的是惊喜，而自满、平淡无奇和重复会扼杀惊喜。如果你想做续作，很好，但你的续作最好是加入一些新东西，而且是越早越好，因为，如果玩家们开始发现你的需走只是重复，那么就会以拒绝购买的方式让你看到他们的答案”。</p>\n<p>最后，Vogel还提醒同行们不要过度消耗自己的健康，“不要因为熬夜工作而感到自豪，你需要睡眠才能活的长久，最好是挑一把好的椅子，因为有一天如果你的脊椎不行了，就会追悔莫及”。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113778\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113778votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113778\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/14452eea6b79bce0219227f298ad827f2ba7112d.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/01/1b8322e1daff605d71fc81e724421f17.jpg"], "fav_nums": 2, "url": "http://blog.jobbole.com/113771/", "url_object_id": "1c7d5802b140adefb9805592b6a7e332", "comment_nums": 1, "praise_nums": "1", "create_date": "2018-03-14", "title": "在 Linux 中自动配置 IPv6 地址", "tags": "IT技术,IPv6,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.linux.com/learn/intro-to-linux/2017/12/ipv6-auto-configuration-linux\">Carla Schroder</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9434-1.html\">Linux中国/qhwdw</a>   </div><p>在 <a href=\"https://www.linux.com/learn/intro-to-linux/2017/11/testing-ipv6-networking-kvm-part-1\">KVM 中测试 IPv6 网络：第 1 部分</a> 一文中，我们学习了关于唯一本地地址unique local addresses（ULA）的相关内容。在本文中，我们将学习如何为 ULA 自动配置 IP 地址。</p>\n<h3 id=\"toc_1\">何时使用唯一本地地址</h3>\n<p>唯一本地地址unique local addresses（ULA）使用 <code>fd00::/8</code> 地址块，它类似于我们常用的 IPv4 的私有地址：<code>10.0.0.0/8</code>、<code>172.16.0.0/12</code>、以及 <code>192.168.0.0/16</code>。但它们并不能直接替换。IPv4 的私有地址分类和网络地址转换（NAT）功能是为了缓解 IPv4 地址短缺的问题，这是个明智的解决方案，它延缓了本该被替换的 IPv4 的生命周期。IPv6 也支持 NAT，但是我想不出使用它的理由。IPv6 的地址数量远远大于 IPv4；它是不一样的，因此需要做不一样的事情。</p>\n<p>那么，ULA 存在的意义是什么呢？尤其是在我们已经有了本地链路地址link-local addresses（<code>fe80::/10</code>）时，到底需不需要我们去配置它们呢？它们之间（LCTT 译注：指的是唯一本地地址和本地链路地址）有两个重要的区别。一是，本地链路地址是不可路由的，因此，你不能跨子网使用它。二是，ULA 是你自己管理的；你可以自己选择它用于子网的地址范围，并且它们是可路由的。</p>\n<p>使用 ULA 的另一个好处是，如果你只是在局域网中“混日子”的话，你不需要为它们分配全局单播 IPv6 地址。当然了，如果你的 ISP 已经为你分配了 IPv6 的全局单播地址global unicast addresses，就不需要使用 ULA 了。你也可以在同一个网络中混合使用全局单播地址和 ULA，但是，我想不出这样使用的一个好理由，并且要一定确保你不使用网络地址转换（NAT）以使 ULA 可公共访问。在我看来，这是很愚蠢的行为。</p>\n<p>ULA 是仅为私有网络使用的，并且应该阻止其流出你的网络，不允许进入因特网。这很简单，在你的边界设备上只要阻止整个 <code>fd00::/8</code> 范围的 IPv6 地址即可实现。</p>\n<h3 id=\"toc_2\">地址自动配置</h3>\n<p>ULA 不像本地链路地址那样自动配置的，但是使用 radvd 设置自动配置是非常容易的，radva 是路由器公告守护程序。在你开始之前，运行 <code>ifconfig</code> 或者 <code>ip addr show</code> 去查看你现有的 IP 地址。</p>\n<p>在生产系统上使用时，你应该将 radvd 安装在一台单独的路由器上，如果只是测试使用，你可以将它安装在你的网络中的任意 Linux PC 上。在我的小型 KVM 测试实验室中，我使用 <code>apt-get install radvd</code> 命令把它安装在 Ubuntu 上。安装完成之后，我先不启动它，因为它还没有配置文件：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756811c6887025078\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo systemctl status radvd\r\n● radvd.service - LSB: Router Advertising Daemon\r\n   Loaded: loaded (/etc/init.d/radvd; bad; vendor preset: enabled)\r\n   Active: active (exited) since Mon 2017-12-11 20:08:25 PST; 4min 59s ago\r\n     Docs: man:systemd-sysv-generator(8)\r\n\r\nDec 11 20:08:25 ubunut1 systemd[1]: Starting LSB: Router Advertising Daemon...\r\nDec 11 20:08:25 ubunut1 radvd[3541]: Starting radvd:\r\nDec 11 20:08:25 ubunut1 radvd[3541]: * /etc/radvd.conf does not exist or is empty.\r\nDec 11 20:08:25 ubunut1 radvd[3541]: * See /usr/share/doc/radvd/README.Debian\r\nDec 11 20:08:25 ubunut1 radvd[3541]: * radvd will *not* be started.\r\nDec 11 20:08:25 ubunut1 systemd[1]: Started LSB: Router Advertising Daemon.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756811c6887025078-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811c6887025078-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811c6887025078-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811c6887025078-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811c6887025078-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811c6887025078-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811c6887025078-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811c6887025078-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811c6887025078-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811c6887025078-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811c6887025078-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811c6887025078-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811c6887025078-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756811c6887025078-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">systemctl </span><span class=\"crayon-e\">status </span><span class=\"crayon-i\">radvd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811c6887025078-2\">●<span class=\"crayon-h\"> </span><span class=\"crayon-v\">radvd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">service</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">LSB</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Router </span><span class=\"crayon-e\">Advertising </span><span class=\"crayon-e\">Daemon</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811c6887025078-3\"><span class=\"crayon-e\">   </span><span class=\"crayon-v\">Loaded</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">loaded</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">init</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">radvd</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">vendor </span><span class=\"crayon-v\">preset</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">enabled</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811c6887025078-4\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">Active</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">active</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">exited</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">since </span><span class=\"crayon-i\">Mon</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PST</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4min</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">59s</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ago</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811c6887025078-5\"><span class=\"crayon-e\">     </span><span class=\"crayon-v\">Docs</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">man</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">systemd</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">sysv</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">generator</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811c6887025078-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ac39756811c6887025078-7\"><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ubunut1 </span><span class=\"crayon-v\">systemd</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-v\">LSB</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Router </span><span class=\"crayon-e\">Advertising </span><span class=\"crayon-v\">Daemon</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811c6887025078-8\"><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ubunut1 </span><span class=\"crayon-v\">radvd</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">3541</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-v\">radvd</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811c6887025078-9\"><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ubunut1 </span><span class=\"crayon-v\">radvd</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">3541</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">radvd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">conf </span><span class=\"crayon-e\">does </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">exist </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">empty</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811c6887025078-10\"><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ubunut1 </span><span class=\"crayon-v\">radvd</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">3541</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">See</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">share</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">doc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">radvd</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">README</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Debian</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811c6887025078-11\"><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ubunut1 </span><span class=\"crayon-v\">radvd</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">3541</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">radvd </span><span class=\"crayon-e \">will *</span><span class=\"crayon-st\">not</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-v\">started</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811c6887025078-12\"><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ubunut1 </span><span class=\"crayon-v\">systemd</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Started </span><span class=\"crayon-v\">LSB</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Router </span><span class=\"crayon-e\">Advertising </span><span class=\"crayon-v\">Daemon</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811c6887025078-13\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0072 seconds] -->\r\n<p>这些所有的消息有点让人困惑，实际上 radvd 并没有运行，你可以使用经典命令 <code>ps | grep radvd</code> 来验证这一点。因此，我们现在需要去创建 <code>/etc/radvd.conf</code> 文件。拷贝这个示例，将第一行的网络接口名替换成你自己的接口名字：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756811d1481609667\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ninterface ens7 {\r\n  AdvSendAdvert on;\r\n  MinRtrAdvInterval 3;\r\n  MaxRtrAdvInterval 10;\r\n  prefix fd7d:844d:3e17:f3ae::/64\r\n        {\r\n                AdvOnLink on;\r\n                AdvAutonomous on;\r\n        };\r\n\r\n};\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d1481609667-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d1481609667-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d1481609667-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d1481609667-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d1481609667-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d1481609667-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d1481609667-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d1481609667-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d1481609667-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d1481609667-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d1481609667-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d1481609667-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756811d1481609667-1\"><span class=\"crayon-t\">interface</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ens7</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d1481609667-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">AdvSendAdvert </span><span class=\"crayon-v\">on</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811d1481609667-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-i\">MinRtrAdvInterval</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d1481609667-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-i\">MaxRtrAdvInterval</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811d1481609667-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">prefix </span><span class=\"crayon-v\">fd7d</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">844d</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3e17</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">f3ae</span><span class=\"crayon-o\">::</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">64</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d1481609667-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811d1481609667-7\"><span class=\"crayon-h\">                </span><span class=\"crayon-e\">AdvOnLink </span><span class=\"crayon-v\">on</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d1481609667-8\"><span class=\"crayon-h\">                </span><span class=\"crayon-e\">AdvAutonomous </span><span class=\"crayon-v\">on</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811d1481609667-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d1481609667-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ac39756811d1481609667-11\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d1481609667-12\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>前缀（<code>prefix</code>）定义了你的网络地址，它是地址的前 64 位。前两个字符必须是 <code>fd</code>，前缀接下来的剩余部分你自己定义它，最后的 64 位留空，因为 radvd 将去分配最后的 64 位。前缀后面的 16 位用来定义子网，剩余的地址定义为主机地址。你的子网必须总是 <code>/64</code>。RFC 4193 要求地址必须随机生成；查看 <a href=\"https://www.linux.com/learn/intro-to-linux/2017/11/testing-ipv6-networking-kvm-part-1\">在 KVM 中测试 IPv6 Networking：第 1 部分</a> 学习创建和管理 ULAs 的更多知识。</p>\n<h3 id=\"toc_3\">IPv6 转发</h3>\n<p>IPv6 转发必须要启用。下面的命令去启用它，重启后生效：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756811d6185760357\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo sysctl -w net.ipv6.conf.all.forwarding=1\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d6185760357-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d6185760357-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756811d6185760357-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">sysctl</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">w</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">net</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ipv6</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">all</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">forwarding</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d6185760357-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0065 seconds] -->\r\n<p>取消注释或者添加如下的行到 <code>/etc/sysctl.conf</code> 文件中，以使它永久生效：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756811d9286236687\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nnet.ipv6.conf.all.forwarding = 1\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756811d9286236687-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811d9286236687-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756811d9286236687-1\"><span class=\"crayon-v\">net</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ipv6</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">all</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">forwarding</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811d9286236687-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>启动 radvd 守护程序：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756811dc845630069\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ sudo systemctl stop radvd\r\n$ sudo systemctl start radvd\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756811dc845630069-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811dc845630069-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811dc845630069-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756811dc845630069-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">systemctl </span><span class=\"crayon-e\">stop </span><span class=\"crayon-i\">radvd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811dc845630069-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">systemctl </span><span class=\"crayon-e\">start </span><span class=\"crayon-i\">radvd</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811dc845630069-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0117 seconds] -->\r\n<p>这个示例在我的 Ubuntu 测试系统中遇到了一个怪事；radvd 总是停止，我查看它的状态却没有任何问题，做任何改变之后都需要重新启动 radvd。</p>\n<p>启动成功后没有任何输出，并且失败也是如此，因此，需要运行 <code>sudo systemctl status radvd</code> 去查看它的运行状态。如果有错误，<code>systemctl</code> 会告诉你。一般常见的错误都是 <code>/etc/radvd.conf</code> 中的语法错误。</p>\n<p>在 Twitter 上抱怨了上述问题之后，我学到了一件很酷的技巧：当你运行 <code>journalctl -xe --no-pager</code> 去调试 <code>systemctl</code> 错误时，你的输出会被换行，然后，你就可以看到错误信息。</p>\n<p>现在检查你的主机，查看它们自动分配的新地址：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756811e0941036827\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ ifconfig\r\nens7      Link encap:Ethernet  HWaddr 52:54:00:57:71:50  \r\n          [...]\r\n          inet6 addr: fd7d:844d:3e17:f3ae:9808:98d5:bea9:14d9/64 Scope:Global\r\n          [...]\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756811e0941036827-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811e0941036827-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811e0941036827-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811e0941036827-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756811e0941036827-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756811e0941036827-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756811e0941036827-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ifconfig</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811e0941036827-2\"><span class=\"crayon-e\">ens7      </span><span class=\"crayon-e\">Link </span><span class=\"crayon-v\">encap</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">Ethernet  </span><span class=\"crayon-i\">HWaddr</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">52</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">54</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">57</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">71</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">50</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811e0941036827-3\"><span class=\"crayon-h\">          </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811e0941036827-4\"><span class=\"crayon-h\">          </span><span class=\"crayon-e\">inet6 </span><span class=\"crayon-v\">addr</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fd7d</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">844d</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3e17</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">f3ae</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">9808</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">98d5</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">bea9</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">14d9</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">64</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Scope</span><span class=\"crayon-o\">:</span><span class=\"crayon-m\">Global</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756811e0941036827-5\"><span class=\"crayon-h\">          </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756811e0941036827-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p>本文到此为止，下周继续学习如何为 ULA 管理 DNS，这样你就可以使用一个合适的主机名来代替这些长长的 IPv6 地址。</p>\n<p>通过来自 Linux 基金会和 edX 的 <a href=\"https://training.linuxfoundation.org/linux-courses/system-administration-training/introduction-to-linux\">“Linux 入门”</a> 免费课程学习更多 Linux 的知识。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113771\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113771votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113771\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/d6573fc92df4aa98014ce9dc55320411b7b5bf1d.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/07/15cdc9eaec6ba9ac858b0eaebfb6b949.jpg"], "fav_nums": 0, "url": "http://blog.jobbole.com/112125/", "url_object_id": "c04253a00ce7d51d704df4838a462dc1", "comment_nums": 2, "praise_nums": "1", "create_date": "2018-03-19", "title": "工程师思维，做不出好产品？", "tags": "职场,工程师", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://kimix.name/%E5%B7%A5%E7%A8%8B%E5%B8%AB%E6%80%9D%E7%B6%AD%EF%BC%8C%E5%81%9A%E4%B8%8D%E5%87%BA%E5%A5%BD%E7%94%A2%E5%93%81%EF%BC%9F/\">kimix</a>   </div><p>这不是一个鸡汤文，也不是警世文，这文章没什么结论和重点，你不会从这篇文章中获得什么领悟。</p>\n<p>恭喜你，你选择继续往下看，代表你对这标题也有一定程度的好奇，或许你也有同样的疑惑？</p>\n<p>「你的想法太工程师了，不适用在「一般」用户上，怎么可能用一般用户的角度去思考产品呢？」会这样说可能是你就是从事市场或和技术半毛关系都没有的岗位上。</p>\n<p>我觉得这个指控实在很莫名其妙，农夫讲出关于种树的话，渔夫讲出关于捞鱼的话，本该是天经地义的事，然后现在我们要进森林开垦，凭什么渔夫说的就是道理，农夫说的就是歪理呢。</p>\n<p>况且重点还是，最后要操刀的是农夫啊！</p>\n<p>世间上的事，都不是完全都是两极化的对与错，一件事通常面向都会超过一个，就取决于那是站在那一面观看，我要说的正是，软件工程师如何设计好产品。</p>\n<p>马云说过一句差不多这样的话，他说：他就是 QA，他不会用的产品，大概就不是什么好产品，因为大部分人都和他一样，是一个不懂技术的人。</p>\n<p>就单凭这句话，很多人就会抛开技术思维，抛开一切，就只想自己要做的「大方向」就好，那是当然的，做为一个领导，作为一艘船的导航，确实需要一个明确的方向，大家就尽力前进。但前进的动力来自哪里呢？你可以知道人家背后有多少水手不断研究划船的方法，才可以说出这句那么铿锵有力的话。</p>\n<p>「我考第一名，我从来不念书！」</p>\n<p>马云那番话字面上理解，那个思维是成立的，但事实上，越是简单的产品，RD 就必须花更多的时间和精力去思考，如果做出「简单」而产品的「直觉和简单」仅仅只是技术演进的结果罢了，千万不要忽略过程。</p>\n<p>我只想要飞，就往断崖跳，就肯定会死的。想要飞的心情我理解，但我们能不能坐下来谈谈如何办到「飞」这回事呢？</p>\n<p>而越简单的东西，越难做出来。</p>\n<p>有一个箱子，里面很冷，食物不会坏；一个箱子，里面有画面，哎！箱子好占空间，做到跟墙一样薄行不行？我想要一个放在口袋的电脑，看到的脸就开锁，啊，要确保一定会开喔，不要让我 demo 的时候开不了。</p>\n<p>概念谁都会说，根本不需要花很多时间在这个地方上。</p>\n<p>一个好产品，重点是要解决问题，是不是废话？是。</p>\n<p>那么要解决问题，要靠技术？还是靠想法？…</p>\n<p>你开始质疑自己了吧，你没有马上选技术，或者你选了想法？</p>\n<p>因为一般人是不会有这个认知的。你不用怀疑，好产品解决问题的重点，就是技术。不是想法。这两者有什么区别？会讲不会做，就叫做想法；会讲也会做，那是技术。但产品人员最爱放在嘴巴的一句话就是「技术不难，可以做得出来」、「技术可以办到」大部分的概念都是来自于别家产品，至于如何实现，还是一种跟网恋一样的概念，还没见过本人，但是照片看起来还不错。</p>\n<p>时至今日要找出，只要好点子，就有好活路的故事太少了，技术突破不了，就是一个「和别人差不多」的东西。既然是差不多，就没有必要多一个，面对消费者，你要怎么说服人家用你家的产品呢？</p>\n<p>我写了一大堆都是在靠北，没什么重点，那我先讲一个重点。</p>\n<p>「讲 HOW 不要讲 WHAT 和 WHY」</p>\n<p>一个组织要做什么事，应该不难决定，那就是一个决定。</p>\n<p>试想想，最近我有个朋友在想开餐厅的事，我就默默的观察，他会如何思考开餐厅的流程。</p>\n<p>他从菜单一路讲到店面，从行销和定位，说到 SWOT 和五力分析。都还没说到，如何做饭这个点上。虽然只是比喻，但是你可以想像餐厅本身最关键的除了价格，就是味道，好吃！最直接的竞争力，就是要</p>\n<p>「HOW 做到很好吃」一个点就好。</p>\n<p>而 HOW 的精髓，就是技术（技巧），做菜需要技巧；写程序也需要技巧，如何用什么工具解决什么问题（这是重点，我只是没有特别强调）是很重要的一个概念。</p>\n<p>就跟为什么这个控肉饭那么好吃，它是怎么办到的？！靠，那就是靠技术啊，每天做研究啊，研究又试做啊，然后失败又再来啊，不然你以为咧。</p>\n<p>至于说，技术本身是没有意义的，除非它用来解决问题。</p>\n<p>那就是一个重点了，要讲出问题在哪里（WHAT），和为什么会发生（WHY），即便这些很有可能都是在猜的，要讲出几个点那也不是一件难的差事，只差你愿不愿意面对而已，因为就算你说错了，也没有什么证据证明你是错的，你顶多只能怀疑，这个家伙在胡说。</p>\n<p>技术本身是没有意义的，就让我想起一个名人说的话，钱本身是没有意义的，除非你利用它！说到我帐户有几万千还没开始「利用」一样。那个重点不是这句话，重点是我没有钱啊！</p>\n<p>技术本身有没有价值，我不好说，但重点是，我们要先研究出技术啊！</p>\n<p>而很多时候，我们只需要一个菜单，就那么简单。但是可怕的事还不是没有菜单，而是有菜单还有一叠厚厚的明细，随着不懂做菜的人进厨房，然后还帮你为每个做菜步骤列名时间和顺序，然后当你仔细一看，那个根本不是做菜步骤，是上菜和吃饭的步骤，里面写的跟做菜一点屁关系都没有。</p>\n<p>这群人根本不在乎怎么做菜啊。</p>\n<p>但不要误会，半点也没有怪他们「为何不关心」做菜这事上。</p>\n<p>因为很多时候，甚至极大部分时候，工程师也是不关心如何「上菜」的，也不关心味道如何，只要时间内上菜，老板没有埋怨，客户没有中毒死，更也别说口碑好不好，有的厨师本来就是抱着能吃就好的心情做菜，竟然吃不死，就是好料理啦。</p>\n<p>但这主题是说「好产品」就不是能吃就好的东西了，要对味道和整个用餐过程都很有要求。</p>\n<p>就算不是五星，也要老板亲切啊，服务态度 UX 要好，UX 不是一个人的工作，UX 是一个团队的工作，一个集体带来的效益。大部分团队就是设计出图，PM 画 flow，RD 写 code；就跟打传说有人坦克，有人输出，有人牵制，但如果要胜出，就可能互相帮打，坦克输出会补刀，输出火力也要帮忙牵制，但是如果规定了坦克就只能挨打，牵制就只能在那边躲起来发功，那就死定了。</p>\n<p>分工的结果就如参加一个比赛，的确是顺利的把比赛结束了，但也别想说有什么惊喜的表现。</p>\n<p>写程序的人就会用工具了，尤其是前端，现在光是设一个开发环境，就用了一堆东西，有些太久没有用它还更新改版了，有天有个朋友请我帮忙做个事，我就拿着笔电狂 Key，滴滴答答的，一个多小时之后，我就「yeah」喊了一声，他就问「你弄好咯，感谢啦」</p>\n<p>我说「还没，但可以开始弄了！yeah」</p>\n<p>但我以一个消费者的立场，做出产品，至于好不好，是消费者自己的看法。千万不要一直和我说你东西有多好吃，我自己有嘴巴好嘛！如果不好吃，你和我说一百遍也不会好吃啊。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112125\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112125votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112125\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/280c8276f25da11c38fa166860dc2754091de28f.jpg", "front_image_url": ["http://wx3.sinaimg.cn/large/7cc829d3gy1fo80ho6bhuj20fu09twfy.jpg"], "fav_nums": 4, "url": "http://blog.jobbole.com/113631/", "url_object_id": "2796ee392f681a8f36e227ce37a3b069", "comment_nums": 2, "praise_nums": "2", "create_date": "2018-03-12", "title": "邪恶的编程咒语", "tags": "开发,编程语言", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/chenyahui\">精算狗</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://9tabs.com/random/2017/12/23/evil-coding-incantations.html\">9tabs</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>自从我看了 Gary Bernhardt 备受推崇的一个视频 <a href=\"https://www.destroyallsoftware.com/talks/wat\">Wat</a>，就惊异于特定编程语言的怪异行为。相较于其他编程语言来说，某些编程语言的行为更出乎意料。例如，有<a href=\"http://amzn.to/2zoCGSn\">一整本书</a>是针对 Java 的边缘案例和古怪情况。同样，差不多只要 200 美元你就可以阅读 <a href=\"https://www.iso.org/standard/68564.html\">C++ 规范说明</a>了。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fo80ho6bhuj20fu09twfy.jpg\"></p>\n<p>下面是我最喜欢的、惊奇的、滑稽的并仍然有效的咒语集合。一般来讲，利用这些古怪的行为被视为<em>坏事</em>，因为代码不应该出乎意料。值得庆幸的是，如果你尝试以下大多数蠢事，有很多代码校检工具（linters）已经准备好嘲笑你了。说了这么多，知识就是力量，那就开始吧。</p>\n<h3>Python 2 中对 True 邪恶的重赋值</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975634388564940725\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; True = False\r\n&gt;&gt;&gt; True\r\nFalse</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975634388564940725-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634388564940725-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634388564940725-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975634388564940725-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">True</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">False</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634388564940725-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">True</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975634388564940725-3\"><span class=\"crayon-t\">False</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>谢天谢地，这在 Python 3 中会导致 <span style=\"text-decoration: underline;\">SyntaxError</span>，因为<a href=\"https://docs.python.org/3.0/whatsnew/3.0.html\"> True、False 和 None 现在是保留字</a>。它仍远没有 C++ 的那个恶作剧那么邪恶，把 <span style=\"text-decoration: underline;\">#define true false</span> 悄悄写进同事的开发机器的标准头文件中。</p>\n<h3>Java 和 Python 中的诡异行为实例</h3>\n<p>对 Java 新手程序员来说，<span style=\"color: #ff0000;\">==</span> 的语义往往使人困惑。甚至在微不足道的情境下，这个操作符的前后矛盾也会使情况变得复杂，即使性能效益是值得的。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975634393136464341\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nInteger a = 100;\r\nInteger b = 100;\r\nSystem.out.print(a == b); // prints true\r\n\r\nInteger c = 200;\r\nInteger d = 200;\r\nSystem.out.print(c == d); // prints false</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975634393136464341-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634393136464341-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634393136464341-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634393136464341-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634393136464341-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634393136464341-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634393136464341-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975634393136464341-1\"><span class=\"crayon-t\">Integer</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634393136464341-2\"><span class=\"crayon-t\">Integer</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975634393136464341-3\"><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// prints true</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634393136464341-4\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975634393136464341-5\"><span class=\"crayon-t\">Integer</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634393136464341-6\"><span class=\"crayon-t\">Integer</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975634393136464341-7\"><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">d</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// prints false</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>JVM 会对区间 [-128, 127] 内的值使用相同的引用。更奇怪的是，Python 中也有同样的行为。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975634398218906073\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; x = 256\r\n&gt;&gt;&gt; y = 256\r\n&gt;&gt;&gt; x is y\r\nTrue\r\n\r\n&gt;&gt;&gt; x = 257\r\n&gt;&gt;&gt; y = 257\r\n&gt;&gt;&gt; x is y\r\nFalse</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975634398218906073-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634398218906073-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634398218906073-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634398218906073-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634398218906073-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634398218906073-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634398218906073-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975634398218906073-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975634398218906073-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975634398218906073-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">256</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634398218906073-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">256</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975634398218906073-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">y</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634398218906073-4\"><span class=\"crayon-t\">True</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975634398218906073-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634398218906073-6\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">257</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975634398218906073-7\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">257</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975634398218906073-8\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">y</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975634398218906073-9\"><span class=\"crayon-t\">False</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>目前为止，还没有特别出乎意料的。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397563439b596030004\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; x = -5\r\n&gt;&gt;&gt; y = -5\r\n&gt;&gt;&gt; x is y\r\nTrue\r\n\r\n&gt;&gt;&gt; x = -6\r\n&gt;&gt;&gt; y = -6\r\n&gt;&gt;&gt; x is y\r\nFalse</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397563439b596030004-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397563439b596030004-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397563439b596030004-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397563439b596030004-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397563439b596030004-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397563439b596030004-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397563439b596030004-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397563439b596030004-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac397563439b596030004-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397563439b596030004-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397563439b596030004-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5</span></div><div class=\"crayon-line\" id=\"crayon-5ac397563439b596030004-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">y</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397563439b596030004-4\"><span class=\"crayon-t\">True</span></div><div class=\"crayon-line\" id=\"crayon-5ac397563439b596030004-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397563439b596030004-6\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6</span></div><div class=\"crayon-line\" id=\"crayon-5ac397563439b596030004-7\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397563439b596030004-8\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">y</span></div><div class=\"crayon-line\" id=\"crayon-5ac397563439b596030004-9\"><span class=\"crayon-t\">False</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0054 seconds] -->\r\n<p>似乎 python 解释器使用相同例子的下限是……-5。区间 [-5, 256] 内的整数有同样的 ID。不知怎地，这变得更奇怪了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397563439f749336478\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&gt;&gt;&gt; x = -10\r\n&gt;&gt;&gt; y = -10\r\n&gt;&gt;&gt; x is y\r\nFalse\r\n&gt;&gt;&gt; x, y = [-10, -10]\r\n&gt;&gt;&gt; x is y\r\nTrue</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397563439f749336478-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397563439f749336478-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397563439f749336478-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397563439f749336478-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397563439f749336478-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397563439f749336478-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397563439f749336478-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397563439f749336478-1\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397563439f749336478-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10</span></div><div class=\"crayon-line\" id=\"crayon-5ac397563439f749336478-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">y</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397563439f749336478-4\"><span class=\"crayon-t\">False</span></div><div class=\"crayon-line\" id=\"crayon-5ac397563439f749336478-5\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397563439f749336478-6\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">y</span></div><div class=\"crayon-line\" id=\"crayon-5ac397563439f749336478-7\"><span class=\"crayon-t\">True</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>似乎使用解构赋值改变了这里的规则。我不确定为什么是这样。事实上，我在 <a href=\"https://stackoverflow.com/questions/47958141/what-is-the-difference-between-destructured-assignment-and-normal-assignment\" target=\"_blank\">Stack Overflow 上提了一个问题</a>来试着理解它。我的猜测是，一个列表中的重复值指向同一个对象，用以节省内存。</p>\n<h3>C 中颠倒的下标符号</h3>\n<p>颠倒的下标符号，会使所有开发者都头疼。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756343a2441892029\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nint x[1] = { 0xdeadbeef };\r\n\r\nprintf(\"%xn\", 0[x]); // prints deadbeef</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756343a2441892029-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756343a2441892029-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756343a2441892029-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756343a2441892029-1\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0xdeadbeef</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756343a2441892029-2\"> </div><div class=\"crayon-line\" id=\"crayon-5ac39756343a2441892029-3\"><span class=\"crayon-e\">printf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"%xn\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// prints deadbeef</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>这行得通的原因是，<span style=\"text-decoration: underline;\">array[index]</span> 确实只是 <span style=\"text-decoration: underline;\">*(array + index)</span> 的语法糖。由于加法的交换性，我们可以交换数组和索引，并得到同样的结果。</p>\n<h3>C 中的“倒数”操作符</h3>\n<p><span style=\"color: #ff0000;\">–&gt;</span> 操作符第一次被看到时，似乎是句法错误。在你意识到它可编译时，它看起来像未被记载的语言特性。幸运的是，两者都不是。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756343a6741883342\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor (x = 3; x --&gt; 0;) {\r\n    printf(\"%d \", x); // prints 2 1 0\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756343a6741883342-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756343a6741883342-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756343a6741883342-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756343a6741883342-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756343a6741883342-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">printf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"%d \"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// prints 2 1 0</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756343a6741883342-3\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p><span style=\"color: #ff0000;\">–&gt;</span> “操作符”实际上是两个操作符，在这个背景下解析为<span style=\"text-decoration: underline;\"> (x–) &gt; 0</span>。众所周知，大量使用会导致困惑，这完全是邪恶的。</p>\n<h3>C 中的 <span style=\"text-decoration: underline;\">sizeof</span> 操作符</h3>\n<p><span style=\"text-decoration: underline;\">sizeof</span> 操作符是一个编译时操作符，这给予了它有趣的属性。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756343a9431781987\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nint x = 0;\r\nsizeof(x += 1);\r\nif (x == 0) {\r\n    printf(\"wtf?\"); // this will be printed\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756343a9431781987-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756343a9431781987-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756343a9431781987-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756343a9431781987-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756343a9431781987-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756343a9431781987-1\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756343a9431781987-2\"><span class=\"crayon-e\">sizeof</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756343a9431781987-3\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756343a9431781987-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">printf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"wtf?\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// this will be printed</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756343a9431781987-5\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0034 seconds] -->\r\n<p>由于 <span style=\"text-decoration: underline;\">sizeof</span> 操作符的例子是对编译时进行评估的，<span style=\"text-decoration: underline;\">(x += 1) </span>不会运行。另一件趣事是，研究表明 <span style=\"text-decoration: underline;\">printf(“wtf?”)</span> 是最普遍的没有被 push 的代码。</p>\n<h3>Lua、Smalltalk、MATLAB 及其他语言，索引由 1 开始</h3>\n<p><a href=\"https://www.reddit.com/r/ProgrammerHumor/\">/r/programminghumor</a> 一直在用“<a href=\"https://goo.gl/QreBLU\">indexing</a> <a href=\"https://goo.gl/bm8Akz\">starts</a> <a href=\"https://goo.gl/joQ9gt\">at</a> <a href=\"https://goo.gl/MM5BwP\">1</a>”表情包取乐。令人震惊的是，有大量编程语言使用从 1 开始的数组索引。可以在<a href=\"https://goo.gl/kASpE7\">这里</a>找到更全面的清单。</p>\n<h3>Ruby 中的 0 被判为 true</h3>\n<p>… and only Ruby. *</p>\n<p>在 Ruby 中是这样。*</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756343ad523660892\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nif 0 then print 'thanks, ruby' end # prints thanks, ruby</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756343ad523660892-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756343ad523660892-1\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">print</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'thanks, ruby'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">end</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># prints thanks, ruby</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>* edit: It was pointed out on <a href=\"https://goo.gl/gnm654\">reddit</a> that this is true for Lua, Lisp, and Erlang as well.</p>\n<p>* 修订：Reddit 上有人指出，这在 Lua、Lisp 和 Erlang 中也成立。</p>\n<p>Trigraph, Digraphs, and Tokens in C</p>\n<h3>C 中的 Trigraph、Digraph 和 Token</h3>\n<p>由于历史原因，C 语言中的非字母符号有替代品。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fo80hoo0iij20cz0993zc.jpg\"></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39756343b1007404353\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nif (true and true) { // same as if (true &amp;&amp; true)\r\n    printf(\"thanks, c\");\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39756343b1007404353-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39756343b1007404353-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39756343b1007404353-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39756343b1007404353-1\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">true</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// same as if (true &amp;&amp; true)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39756343b1007404353-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">printf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"thanks, c\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac39756343b1007404353-3\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>有些外国设备，例如 IBM 3270，在 C/C++ 中不提供某些常用符号，所以提供了 digraph、trigraph 和 token 来避免排斥特定字符集。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113631\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113631votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113631\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/chenyahui\">精算狗</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/chenyahui\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/chenyahui\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/chenyahui/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/chenyahui/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a> · <a title=\"QQ：564968845\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：564968845\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/eadb28355fab57e9672e5c965147ef4caca04ac4.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/04/ff247977ac3e5237654ad324e8c880ed.jpg"], "fav_nums": 1, "url": "http://blog.jobbole.com/113740/", "url_object_id": "23b91f36b0e3c52751b33dea744a641b", "comment_nums": 0, "praise_nums": "2", "create_date": "2018-03-12", "title": "AI 从业者都会用到的 10 个深度学习方法", "tags": "IT技术,机器学习,深度学习", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/2010222395\">MentosZ</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://towardsdatascience.com/the-10-deep-learning-methods-ai-practitioners-need-to-apply-885259f402c1\">James Le</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>过去十年里，人们对机器学习的兴趣经历了爆炸式的整长。我们几乎每天都可以在计算机程序、行业会议和媒体上看到机器学习的身影。很多关于机器学习的讨论都混淆了“机器学习能做什么”和“人类希望机器学习能做什么”。从根本上讲，机器学习是运用算法从原始数据中提取信息，并用某种类型的模型进行表示，然后使用该模型对一些尚未用模型表示的其他数据来进行推断。</p>\n<p>神经网络就是机器学习各类模型中的其中一类，并且已经存在了至少50年。神经网络的基本单位是节点，它的想法大致来源于哺乳动物大脑中的生物神经元。生物大脑中的神经元节点之间的链接是随着时间推移不断演化的，而神经网络中的神经元节点链接也借鉴了这一点，会不断演化（通过“训练”的方式）。</p>\n<p>神经网络中很多重要框架的建立和改进都完成于二十世纪八十年代中期和九十年代初期。然而，要想获得较好结果需要大量的时间和数据，由于当时计算机的能力有限，神经网络的发展受到了一定的阻碍，人们的关注度也随之下降。二十一世纪初期，计算机的运算能力呈指数级增长，业界也见证了计算机技术发展的“寒武纪爆炸”——这在之前都是无法想象的。深度学习以一个竞争者的姿态出现，在计算能力爆炸式增长的十年里脱颖而出，并且赢得了许多重要的机器学习竞赛。其热度在2017年仍然不减。如今，在机器学习的出现的地方我们都能看到深度学习的身影。</p>\n<p>为了跟上时代的潮流，我参加了 Udacity 的“深度学习”课程。这是一个很好的入门课程，包括深度学习的动机和在 TensorFlow 中针对复杂的和/或大规模数据集进行学习的智能系统的设计。 对于课程作业，我使用和开发了用于图像识别的卷积神经网络，带有嵌入的自然语言处理以及运用递归神经网络/长期短期记忆的基于字符的文本生成程序。所有 Jupyter Notebook 的代码都在我的 <a href=\"https://github.com/khanhnamle1994/deep-learning\">GitHub</a>。</p>\n<p>下图是课程作业的一个结果，词向量的 t-SNE 投影，通过相似性进行聚类。<a href=\"https://cdn-images-1.medium.com/max/1600/1*5gUqFLOyQrB4kgjAicn0og.png\"><br>\n</a></p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fpa4ymntinj20m80legrb.jpg\" width=\"690\" height=\"664\"></p>\n<p>最近，我开始阅读关于深度学习的学术论文。根据我的个人研究，以下文章对这个领域的发展产生了巨大的影响：</p>\n<ul>\n<li>NYU 1998 年的文章<a href=\"http://yann.lecun.com/exdb/publis/pdf/lecun-01a.pdf\">《基于梯度学习的文档识别》（Gradient-Based Learning Applied to Document Recognition）</a> 介绍了卷积神经网络在机器学习中的应用。</li>\n<li>Toronto 2009年的文章<a href=\"http://proceedings.mlr.press/v5/salakhutdinov09a/salakhutdinov09a.pdf\">《深度波兹曼机器》（Deep Boltzmann Machines）</a> 针对波兹曼机提出了一种新的学习算法，其中包含许多隐藏层。</li>\n<li>Stanford 和 Google 2012年联合发表的文章<a href=\"http://icml.cc/2012/papers/73.pdf\">《使用大规模非监督学习构建高层特征》（Building High-Level Features Using Large-Scale Unsupervised Learning）</a> 解决了仅利用未标记的数据构建高级、特定类的特征检测器的问题。</li>\n<li>Berkeley 2013年的文章<a href=\"http://proceedings.mlr.press/v32/donahue14.pdf\">《用于一般视觉识别的深层卷积激活特征》（DeCAF——A Deep Convolutional Activation Feature for Generic Visual Recognition）</a> 发布了名为 DeCAF 的算法，这是深度卷积激活特征的一个开源实现，使用相关的网络参数，视觉研究人员能够利用一系列视觉概念学习范例进行深入实验。</li>\n<li>DeepMind 2016年的文章<a href=\"https://www.cs.toronto.edu/~vmnih/docs/dqn.pdf\">《用深度强化学习玩Atari》（Playing Atari with Deep Reinforcement Learning）</a> 提出了第一个可以成功地通过强化学习从高维感官输入中直接学习控制策略的深度学习模型。</li>\n</ul>\n<p>通过研究和学习，我学到了大量关于深度学习的相关知识。在这里，我想分享人工智能工程师 10 个用于解决机器学习问题的强大的深度学习方法。但是，我们首先需要定义什么是深度学习。</p>\n<p>如何定义深度学习是很多人面临的一个挑战，因为它的形式在过去的十年中已经慢慢地发生了改变。下图直观地展示了人工智能，机器学习和深度学习之间的关系。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fpa4ynluzaj20m80mjgmr.jpg\" width=\"690\" height=\"699\"></p>\n<p>人工智能领域广泛，存在时间较长。深度学习是机器学习领域的一个子集，而机器学习是人工智能领域的一个子集。一般将深度学习网络与“典型”前馈多层网络从如下方面进行区分：</p>\n<ul>\n<li>深度学习网络具有比前馈网络更多的神经元</li>\n<li>深度学习网络连接层之间的方式更复杂</li>\n<li>深度学习网络需要有像“寒武纪大爆发”式的计算能力进行训练</li>\n<li>深度学习网络能够自动提取特征</li>\n</ul>\n<p>上文提到的“更多的神经元”是指近年来神经元的数量不断增加，就可以用更复杂的模型来表示。层也从多层网络中每一层完全连接，发展到卷积神经网络中神经元片段的局部连接，以及与递归神经网络中的同一神经元的循环连接（与前一层的连接除外）。</p>\n<p>因此，深度学习可以被定义为以下四个基本网络框架中具有大量参数和层数的神经网络：</p>\n<ul>\n<li>无监督预训练网络</li>\n<li>卷积神经网络</li>\n<li>循环神经网络</li>\n<li>递归神经网络</li>\n</ul>\n<p>在这篇文章中，我主要讨论三个框架：</p>\n<ol>\n<li><strong>卷积神经网络（</strong><strong>Convolutional Neural Network</strong><strong>）</strong>基本上就是用共享权重在空间中进行扩展的标准神经网络。卷积神经网络主要是通过内部卷积来识别图片，内部卷积可以看到图像上识别对象的边缘。</li>\n<li><strong>循环神经网络（</strong><strong>Recurrent Neural Network</strong><strong>）</strong>基本上就是在时间上进行扩展的标准神经网络，它提取进入下一时间步的边沿，而不是在同一时间进入下一层。循环神经网络主要是为了识别序列，例如语音信号或者文本。其内部的循环意味着网络中存在短期记忆。</li>\n<li><strong>递归神经网络（</strong><strong>Recursive Neural Network</strong><strong>）</strong>更类似于分层网络，其中输入序列没有真正的时间面，但是必须以树状方式分层处理。以下10种方法均可应用于这些框架。</li>\n</ol>\n<h2>1、反向传播</h2>\n<p>反向传播是一种计算函数偏导数（或梯度）的简单方法，它的形式是函数组合（如神经网络）。在使用基于梯度的方法求解最优化问题（梯度下降只是其中之一）时，需要在每次迭代中计算函数梯度。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1fpa4yox71ej20go0csju0.jpg\" width=\"600\" height=\"460\"></p>\n<p>对于一个神经网络，其目标函数是组合形式。那么应该如何计算梯度呢？有2种常规方法：（i）<strong>微分解析法</strong>。函数形式已知的情况下，只需要用链式法则（基础微积分）计算导数。（ii）<strong>有限差分法近似微分</strong>。这种方法运算量很大，因为函数评估的数量级是 O(N)，其中 N 是参数的个数。与微分解析法相比，这种方法运算量更大，但是在调试时，通常会使用有限差分验证反向传播的效果。</p>\n<h2>2、随机梯度下降</h2>\n<p>梯度下降的一个直观理解就是想象一条源自山顶的河流。这条河流会沿着山势的方向流向山麓的最低点，而这也正是梯度下降法的目标。</p>\n<p>我们所期望的最理想的情况就是河流在到达最终目的地（最低点）之前不会停下。在机器学习中，这等价于我们已经找到了从初始点（山顶）开始行走的全局最小值（或最优值）。然而，可能由于地形原因，河流的路径中会出现很多坑洼，而这会使得河流停滞不前。在机器学习术语中，这种坑洼称为局部最优解，而这不是我们想要的结果。有很多方法可以解决局部最优问题（这里不再讨论）。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fpa4yq0fr5j20ld0fvq5h.jpg\" width=\"690\" height=\"512\"></p>\n<p>因此，由于地形（即函数性质）的限制，梯度下降算法很容易卡在局部最小值。但是，如果能够找到一个特殊的山地形状（比如碗状，术语称作凸函数），那么算法总是能够找到最优点。在进行最优化时，遇到这些特殊的地形（凸函数）自然是最好的。另外，山顶初始位置（即函数的初始值）不同，最终到达山底的路径也完全不同。同样，不同的流速（即梯度下降算法的学习速率或步长）也会导致到达目的地的方式有差异。是否会陷入或避开一个坑洼（局部最小值），都会受到这两个因素的影响。</p>\n<h2>3、学习率衰减</h2>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fpa4yqxkkhj20go09d3zd.jpg\" width=\"600\" height=\"337\"></p>\n<p>调整随机梯度下降优化算法的学习速率可以提升性能并减少训练时间。这被称作学习率退火或自适应学习率。训练中最简单也最常用的学习率自适应方法就是逐渐降低学习率。在训练初期使用较大的学习率，可以对学习率进行大幅调整；在训练后期，降低学习率，以一个较小的速率更新权重。这种方法在早期可以快速学习获得较好的权重，并在后期对权重进行微调。</p>\n<p>两个流行而简单的学习率衰减方法如下：</p>\n<ul>\n<li>线性地逐步降低学习率</li>\n<li>在特定时点大幅降低学习率</li>\n</ul>\n<h2>4、Dropout</h2>\n<p>拥有大量参数的深度神经网络是非常强大的机器学习系统。然而，在这样的网络中,过拟合是一个很严重的问题。而且大型网络的运行速度很慢，这就使得在测试阶段通过结合多个不同的大型神经网络的预测来解决过拟合问题是很困难的。Dropout 方法可以解决这个问题。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1fpa4yrul7ij20h2094jsu.jpg\" width=\"614\" height=\"328\"></p>\n<p>其主要思想是，在训练过程中随机地从神经网络中删除单元（以及相应的连接），这样可以防止单元间的过度适应。训练过程中，在指数级不同“稀疏度”的网络中剔除样本。在测试阶段，很容易通过使用具有较小权重的单解开网络（single untwined network），将这些稀疏网络的预测结果求平均来进行近似。这能有效地避免过拟合，并且相对于其他正则化方法能得到更大的性能提升。Dropout 技术已经被证明在计算机视觉、语音识别、文本分类和计算生物学等领域的有监督学习任务中能提升神经网络的性能，并在多个基准数据集中达到最优秀的效果。</p>\n<h2>5、最大池</h2>\n<p>最大池是一种基于样本的离散化方法。目标是对输入表征（图像、隐藏层输出矩阵等）进行下采样，降低维度并且允许对子区域中的特征进行假设。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1fpa4ysgia7j20ea0ba3z0.jpg\" width=\"514\" height=\"406\"></p>\n<p>通过提供表征的抽象形式，这种方法可以在某种程度上解决过拟合问题。同样，它也通过减少学习参数的数目以及提供基本的内部表征转换不变性来减少计算量。最大池是通过将最大过滤器应用于通常不重叠的初始表征子区域来完成的。</p>\n<h2>6、批量标准化</h2>\n<p>当然，包括深度网络在内的神经网络需要仔细调整权重初始值和学习参数。批量标准化能够使这个过程更加简单。</p>\n<p><strong>权重问题：</strong></p>\n<ul>\n<li>无论怎么设置权重初始值，比如随机或按经验选择，初始权重和学习后的权重差别都很大。考虑一小批权重，在最初时，对于所需的特征激活可能会有很多异常值。</li>\n<li>深度神经网络本身就具有病态性，即初始层的微小变化就会导致后一层的巨大变化。</li>\n</ul>\n<p>在反向传播过程中，这些现象会导致梯度的偏移，这就意味着在学习权重以产生所需要的输出之前，梯度必须补偿异常值。而这将导致需要额外的时间才能收敛。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1fpa4ytiz1qj20m80g0myk.jpg\" width=\"690\" height=\"497\"></p>\n<p>批量标准化将这些梯度从异常值调整为正常值，并在小批量范围内（通过标准化）使其向共同的目标收敛。</p>\n<p><strong>学习率问题：</strong>通常来说，学习率都比较小，这样只有一小部分的梯度用来校正权重，因为异常激活的梯度不应该影响已经学习好的权重。通过批量标准化，这些异常激活的可能性会被降低，就可以使用更大的学习率加速学习过程。</p>\n<h2>7、长短期记忆</h2>\n<p>长短期记忆网络（LSTM）和其他递归神经网络中的神经元有以下三个不同点：</p>\n<ul>\n<li>它可以决定何时让输入进入神经元</li>\n<li>它可以决定何时记住上一个时间步中计算的内容</li>\n<li>它可以决定何时让输出传递到下一个时间戳</li>\n</ul>\n<p>LSTM的强大之处在于它可以只基于当前的输入就决定上述所有。请看下方的图表：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1fpa4yu8kw1j20m10clwf0.jpg\" width=\"690\" height=\"394\"></p>\n<p>当前时间戳的输入信号 x(t) 决定了上述三点。输入门（input gate）决定了第一点，遗忘门（forget gate）决定了第二点，输出门（output gate）决定了第三点。只依赖输入就可以完成这三项决定。这是受到大脑工作机制的启发，大脑可以基于输入来处理突然的上下文语境切换。</p>\n<h2>8、Skip-gram</h2>\n<p>词嵌入模型的目的是针对每个词学习一个高维密集表征，其中嵌入向量之间的相似性显示了相应词语之间语义或句法的相似性。Skip-gram 是一种学习词嵌入算法的模型。</p>\n<p>skip-gram 模型（包括很多其它词嵌入模型）背后的主要思想是：<em>如果两个词汇项有相似的上下文，则它们是相似的。</em></p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1fpa4yux250j20go0ci74u.jpg\" width=\"600\" height=\"450\"></p>\n<p>换句话说，假设有一个句子，比如“cats are mammals”，如果用“dogs”替换“cats”，该句子仍然是有意义的。因此在这个例子中，“dogs”和“cats”有相似的上下文（即“are mammals”）。</p>\n<p>基于以上假设，我们可以考虑一个上下文窗口（包含 K 个连续项）。然后跳过其中一个词，试着学习一个可以得到除了跳过的这个词以外所有词项，并且可以预测跳过的词的神经网络。因此，如果两个词在一个大语料库中多次具有相似的上下文，那么这些词的嵌入向量将会是相似的。</p>\n<h2>9、连续词袋模型</h2>\n<p>在自然语言处理中，我们希望将文档中的每一个单词表示为一个数值向量，使得出现在相似上下文中的单词具有相似或相近的向量表示。在连续词袋模型中，我们的目标是利用一个特定单词的上下文，预测该词。</p>\n<p> </p>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/63918611gy1fpa4yvt7j6j20go09d3yv.jpg\"></p>\n<p>首先在一个大的语料库中抽取大量的句子，每看到一个单词，同时抽取它的上下文。然后我们将上下文单词输入到一个神经网络，并预测在这个上下文中心的单词。</p>\n<p>当我们有成千上万个这样的上下文词汇和中心词时，我们就得到了一个神经网络数据集的实例。然后训练这个神经网络，在经过编码的隐藏层的最终输出中，我们得到了特定单词的嵌入式表达。当我们对大量的句子进行训练时也能发现，类似上下文中的单词都可以得到相似的向量。</p>\n<h2>10、迁移学习</h2>\n<p>我们来考虑一下卷积神经网络是如何处理图像的。假设有一张图像，对其应用卷积，并得到像素的组合作为输出。假设这些输出是边缘，再次应用卷积，那么现在的输出将是边缘或线的组合。然后再次应用卷积，此时的输出将是线的组合，以此类推。可以把它想象成是在每一层寻找一个特定的模式。神经网络的最后一层通常会变得非常特别。如果基于 ImageNet 进行训练，那么神经网络的最后一层或许就是在寻找儿童、狗或者飞机之类的完整图像。再往后倒退几层，可能会看到神经网络在寻找眼睛、耳朵、嘴巴或者轮子等组成部分。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1fpa4ywms3fj20hq09zgm8.jpg\" width=\"638\" height=\"359\"></p>\n<p>深度卷积神经网络中的每一层逐步建立起越来越高层次的特征表征，最后几层通常是专门针对输入数据。另一方面，前面的层则更为通用，主要用来在一大类图片中有找到许多简单的模式。</p>\n<p>迁移学习就是在一个数据集上训练卷积神经网络时，去掉最后一层，在不同的数据集上重新训练模型的最后一层。直观来讲，就是重新训练模型以识别不同的高级特征。因此，训练时间会减少很多，所以在没有足够的数据或者需要太多的资源时，迁移学习是一个很有用的工具。</p>\n<p>本文只是简单地对这些方法进行了概述，若想深入理解，建议继续阅读以下文章：</p>\n<ul>\n<li>Andrew Beam 的 <a href=\"http://beamandrew.github.io/deeplearning/2017/02/23/deep_learning_101_part1.html\">“Deep Learning 101”</a></li>\n<li>Andrey Kurenkov 的 <a href=\"http://www.andreykurenkov.com/writing/a-brief-history-of-neural-nets-and-deep-learning/\">“A Brief History of Neural Nets and Deep Learning”</a></li>\n<li>Adit Deshpande 的  <a href=\"https://adeshpande3.github.io/adeshpande3.github.io/A-Beginner%27s-Guide-To-Understanding-Convolutional-Neural-Networks/\">“A Beginner’s Guide to Understanding Convolutional Neural Networks”</a></li>\n<li>Chris Olah： <a href=\"http://colah.github.io/posts/2015-08-Understanding-LSTMs/\">“Understanding LSTM Networks”</a></li>\n<li>Algobean： <a href=\"https://algobeans.com/2016/03/13/how-do-computers-recognise-handwriting-using-artificial-neural-networks/\">“Artificial Neural Networks”</a></li>\n<li>Andrej Karpathy： <a href=\"http://karpathy.github.io/2015/05/21/rnn-effectiveness/\">“The Unreasonable Effectiveness of Recurrent Neural Networks”</a></li>\n</ul>\n<p>深度学习是非常注重技术实践的。本文对每个新想法都没有太多具体的解释。大多数新想法的提出都会附带实验结果以证明它们的可行性。学习深度学习就像玩乐高，玩好乐高和掌握其他艺术一样具有挑战性，但是入门就相对容易很多的。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113740\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113740votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113740\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/2010222395\">MentosZ</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/2010222395\">\r\n\t\t\t<img src=\"http://tp4.sinaimg.cn/2010222395/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            统计学小硕，R/Python，数据挖掘，机器学习        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/2010222395\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/2010222395/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/2010222395/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a> · <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/2010222395\"><i class=\"fa fa-weibo\"></i></a> <a title=\"QQ：676462459\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：13306016503\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/MentosZ\"><i class=\"fa fa-github\"></i></a> <a title=\"Facebook主页\" target=\"_blank\" href=\"https://www.facebook.com/mengtao.zhao\"><i class=\"fa fa-facebook\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/d102994dcc342e0686843d89a7518432502d5ff3.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/03/4f255bd43f956c3db484a99d448b198e.jpg"], "fav_nums": 4, "url": "http://blog.jobbole.com/112048/", "url_object_id": "c8f7206fc12fb03862d494d19208fd22", "comment_nums": 3, "praise_nums": "1", "create_date": "2018-03-13", "title": "程序员如何规划职业路线？", "tags": "职场,程序员,职场", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/huangyong/blog/1633257\">黄勇</a>   </div><p>社区中并不缺少有关软件工程师职业发展的文章，甚至可以说是泛滥。很多人都能在这个话题上说两句，三五年工作经验的编程老鸟也好，架构师也好，技术 VP 也好，CTO 也好，都有各自的看法与实践经验。没有哪一套方法是适用于所有人的，这一套软件工程师职业发展纲要，也不过是在你踽踽前行的路上，迷茫时可用来参考借鉴。你的核心竞争力，永远是你的自身实力。切记！</p>\n<h1 id=\"h1_0\">一、专业技能学习捷径</h1>\n<h2 id=\"h2_1\">1、爱上你的编码神器</h2>\n<p>众所周知，软件工程师要做的工作就是写代码，准确地说，你的目标应该是写出满足业务需求并且无法找出 Bug 的代码，而不是写一大堆没用的文字。既然你的任务是写出高质量的代码，那么你首先应该训练的就是打字速度，你需要掌握键盘盲打技能，甚至还要爱上你的“编码神器”，并做到将此工具的用法烂熟于心，闭上眼睛都能正确敲中你想要的快捷键。</p>\n<h2 id=\"h2_2\">2、熟悉底层技术原理</h2>\n<p>当你完全驾驭了计算机的输入设备以后，你需要进一步了解计算机的内部工作原理，不是让你把机器大卸八块，而是你需要全面了解计算机的组成结构与工作原理。如果你不是计算机科班出生也没关系，在网上买一本关于计算机组成原理的书自学即可。你无需做到精通，能全面了解即可，因为接下来你需要在编程的世界中，慢慢去体会计算机的工作感受，你就是计算机的管理者。</p>\n<h2 id=\"h2_3\">3、深入一门编程语言</h2>\n<p>好了，现在是时候学习一门编程语言了，最好的选择是 Java，为什么呢？原因很简单，因为市场需求量最大，我敢保证，你学 Java 肯定比学 PHP 更容易找到工作（希望 PHP 程序员们淡定一些，其实我始终认为 PHP 是世界上最好的编程语言）。当你在学习 Java 时，首先需要掌握它啰里吧嗦的编程语法，此时没有什么比写一个“Hello World”来得更爽快一些。随后你需要深刻理解的是 Java 的面向对象概念（每次我说到面向对象，总会被一些单身汉吐槽，其实我想说，对象是可以 new 出来的），这些概念看上去比较虚，但是它们却能撑起一个强大的软件架构。所以，在面向对象技术上面花再多功夫都不为过，因为它能训练我们对业务的抽象能力，就像当初我们学习数学一样，它能训练我们的逻辑思维能力。</p>\n<h2 id=\"h2_4\">4、选择一位对的老师</h2>\n<p>看书、看视频、看源码、看技术文档，其实这些都是较为低效的学习方法，掌握编程技能的捷径就是拜一位资深的程序员为师，你可以尊称他为“码神”，记得一定要把他伺候好，让他愿意传授一些编程技能给你，其实也就是一个微笑外加一顿小龙虾的事情，他就能被你征服。一定要看他写的代码，思考为什么他会这样写，一定要将你不理解的地方记录下来，并且在下班之前紧紧地抓住他，让他一次给你讲个够，此时你一定会有一种打通任督二脉的畅快之感。所谓“师傅领进门，修行在个人”，你需要比你师傅更加努力，甚至十倍于他人的付出，才能在编程之路上尝到甜头。此时你需要学习更加高深的武功，研究更加优秀的源码，实践更有挑战的项目，还需要花整块时间，系统地看技术文档以及技术参考书。假如你想成为架构师，不妨看看我所著的《架构探险》这本书，也许它会对你的专业技能有所帮助。</p>\n<h2 id=\"h2_5\">5、乐于分享你的技能</h2>\n<p>你最好要让自己变成一位豁达开朗之人，千万不要吝啬，一定要懂得分享你所学的专业技能。可以尝试做点自己的开源项目，并让这个开源项目变得更加开放，不妨结合开源，写点技术博客，并厚着脸皮给你身边的朋友阅读。这件事情一定要持之以恒，不要担心有人吐槽你，你肯定会被吐槽，那是因为大家在关注你，此时你需要更加努力，让自己变得足够专业。当你成为真正的“大神”时，就不会有人再吐槽你了，他们只会吐槽自己的技术不如你，此时你将得到的是无限的膜拜和称赞。相信我，这绝不是奇迹。在学习专业技能之路上，多一点自信，多一点勤奋，多一点思考，再争取一点机会，你就会成功。</p>\n<h1 id=\"h1_6\">二、不可或缺的软技能</h1>\n<h2 id=\"h2_7\">1、软技能 ≠ 务虚</h2>\n<p>如果将专业技能比喻为“硬技能”，那么在我们的职场中，与专业性无关的技能就可以归纳为“软技能”了。但每当我提到软技能时，难免会让人误解为这是“务虚”的一种功夫，我们虽然是“吃软饭的”（做软件开发的），但我们却十分讨厌虚伪。没错！我也很厌恶虚伪之人，尤其是在职场中遇到这样的人物，我从心底鄙视他们，但我从来不会和他们发生任何冲突，反而还能和他们愉快地共事，这种本领靠的就是软技能。</p>\n<p>软件工程师每天都在和机器打交道，机器是没有感情的，你告诉它是0，它一定不会认为是1。但我们与人打交道却不一样，你告诉他是真，他却可能认为是假。与人打交道，正是软件工程师们最为欠缺的方面，有些软件工程师甚至害怕与人交流，害怕在公开场合讲话，害怕抛头露面，害怕做一些组织性的工作。如果你也有以上这些心里负担，那么恭喜你！因为你即将从本文中找到克服这些困难的灵丹妙药，至少我希望是这样。</p>\n<p>需要强调的是，软技能是一种职场必备的核心技能，我敢直言，如果缺乏这方面的技能，你的职业生涯将会变得非常糟糕。软技能包括的方面非常广泛，沟通、协调、组织、气场这些都是最基本的软技能，甚至情商也是一种软技能，会不会讲话，听不听得明白，这些都是软技能。那么我们不妨先从沟通这项软技能开始吧，因为我认为他是软件工程师最重要的软技能之一。</p>\n<h2 id=\"h2_8\">2、口语流利 ≠ 会沟通</h2>\n<p>很多人都容易将沟通理解为讲话，说一个人语言很流利，很会讲话，口若悬河，夸夸其谈，其实并非他的沟通能力很强。我认为，沟通可以理解为两方面，即“沟”和“通”。“沟”指的是你将心中所想很清晰地表达出来给对方听，考验的是你的表达能力；“通”指的是让你确信对方是否真明白你所表达的意思，考验的是你的倾听能力。所以，我们很多时候都是在“沟”，往往忽略了“通”，从而形成了“沟而不通”的情况，因此，现在全世界人民都在提倡如何“有效沟通”。还是用一个示例来说话吧。</p>\n<p>当领导交给你一项棘手的工作，但你不知道如何开始进行这项工作，此时你应该如何应对当前的挑战呢？绝大多数人会硬着头皮去做，他们希望通过自己的努力，可以顺利完成任务，但结果往往却无法让领导满意。少数人会主动向领导咨询，以寻求领导对自己的帮助。此时应该如何与领导对话呢？似乎并非很多人都清楚。下面这段话是我的套路，仅供参考。</p>\n<blockquote><p>我：勇哥（他是我的领导），最近我遇到了一点麻烦的事情，想听听您的看法（勾起领导的兴趣，让他认真听我说下去，记得一定要说“您”，而不是“你”）。</p>\n<p>领导：哦？说来听听（证明领导此时不忙，他有时间让我占用，如果他此时很忙，你应该能感受出来的）。</p>\n<p>我：感谢您对我的信任，昨天您交给我一项任务，回到家我一直都在想这项任务，我在想……（一定要对领导表示感激，是他给了我这次锻炼自己的机会，并强调我是“回到家”都在思考，而不是只在在公司里思考，道理你懂的）</p>\n<p>领导：可能是我没说清楚，你把这项任务想复杂了，其实……（可见这是一位 nice 的领导，跟着他，你能学到很多东西）</p>\n<p>我：我还想再清楚一下，您期待这项工作的结果是怎样的？（一定要明确领导想要的结果，他只会为结果买单）</p>\n<p>领导：我希望……（领导娓娓道来，此处省略1万字，你千万不要打断领导的讲话，他讲累了自然就会停，你只需要认真听他怎么讲）</p>\n<p>我：好的，我明白了，您希望我……（一定要学会复述领导讲过的话，而且要用自己的理解来表达，不要当复读机）</p>\n<p>领导：没错，就是这样。（领导表示认可了，此时你应该表示给领导一个微笑，让他感到欣慰）</p>\n<p>我：感谢勇哥！如果我在执行过程中遇到问题，可以再向您请教吗？（一定要感谢，而且要表现出虚心向领导请教，为下一次求救做好准备）</p>\n<p>领导：当然，随时交流。（你真心拿他当领导，他才会无条件帮助你，你不懂得用好这位领导，那是你自己的损失）</p></blockquote>\n<p>沟通是不是很有趣？其实沟通是一门学问，我们花一辈子时间都在学习，都在改进自己的沟通方式，目的仅为愉快地和身边的人一起“玩耍”，让此生感到愉悦。</p>\n<p>当你已经掌握了必备的专业技能，也具备了让你脱颖而出的软技能，那么接下来你将思考的是自己该走那条路了，继续做软件工程师，还是做软件工程师的 leader？下面这段话将告诉你答案。</p>\n<h1 id=\"h1_9\">三、正确制定职业路线</h1>\n<h2 id=\"h2_10\">1、给自己提几个问题</h2>\n<p>首先要澄清的是：我并非职业导师，更不是人生教父，所有的路都由你自己选择，我的责任是告诉你，我认为行之有效的方法。</p>\n<p>当你正走在职场的十字路口徘徊，思考走技术，还是走管理？我的答案只有一个：根据你自己的优势来决定。合理利用好自己的优势，会让自己走的更加顺畅，让自己无怨无悔。还是举一个例子来说明吧。</p>\n<p>前段时间有位朋友在微信上私聊我，他也遇到了这个问题，继续做技术，还是转管理？我当时是这样问他的，但我希望你可以用这样的方式来问自己。</p>\n<blockquote><p>我：你工作多久了？</p>\n<p>朋友：时间不长，写了10年的代码。</p>\n<p>我：那相当资深啊，现在还对写代码有激情吗？</p>\n<p>朋友：喜欢写，周末有时都会宅在家里写。</p>\n<p>我：那你还在纠结什么呢？</p>\n<p>朋友：我都工作10年了，身边的人要么当 CTO，要么做总监，自己却还在撸代码，我现在到底该不该转管理？</p>\n<p>我：你为什么会考虑转管理？说说你在管理上的优势吧。</p>\n<p>朋友：我觉得自己对技术有一定深度，可以帮助团队解决一些技术难题。</p>\n<p>我：如果你团队中有位小伙伴遇到一个很棘手的技术问题，没辙了，你会做些什么？</p>\n<p>朋友：撸起袖子，就地帮他解决掉。</p>\n<p>我：建议你走技术专家路线，这条路也许更加适合你。</p>\n<p>朋友：……</p></blockquote>\n<h2 id=\"h2_11\">2、转管理之前，先理解管理</h2>\n<p>当我们在纠结是否应该转管理时，不妨首先理解一下什么是管理？以及什么是管理者？只有当我们正确理解了这些概念以后，再来思考自己是否具备这样的特征，才能顺利帮助自己转型。</p>\n<p>管理（management）是协调和监督他人的工作，从而使他人的工作可以有效率且有成效地完成。效率（efficiency）指的是以尽可能少的投入，以获得尽可能多的产出，效率常常被说成“正确地做事”，即不浪费资源。成效（effectiveness）常常被称为“做正确的事”，即做那些可以实现目标的工作活动。管理者（manager）就是完成所有管理工作，并使组织目标能够实现的人。管理者的工作包括计划（planning）、组织（organizing）、领导（leading）和控制（controlling）四种职能。</p>\n<p>以上都是管理学告诉我们的知识，如果你想成为一名管理者，那么你必须首先正确理解这些概念的真实含义，才能完全驾驭管理者的岗位，否则你会从管理岗位上摔下来，自己一定伤得不轻。</p>\n<p>如果你想成为一名优秀的管理者，那么你需要做些什么呢？</p>\n<ul>\n<li>亲自且专业地给团队激励。</li>\n<li>激励团队完成你无法独立完成的任务。</li>\n<li>对问题提供指导和指引。</li>\n<li>对团队的表现给予反馈。</li>\n<li>帮助团队改善绩效。</li>\n<li>使团队对组织的改变知情。</li>\n<li>改善团队小伙伴们的生活。</li>\n</ul>\n<p>如果团队和你共事过，那么团队应该觉得他们是幸运的，因为你能够让他们更加愉快和高效地工作。</p>\n<h1 id=\"h1_12\">写在最后</h1>\n<p>不论选择技术还是管理，在任何时候都不要放弃你的硬技能，因为它是你的“生存之本”，同时你也需要具备强大的软技能，因为它是你的“发展之源”。</p>\n<p>学习硬技能其实是有捷径的，你无需一味地学习这些知识点，更多的其实是与人交流以及加以应用。软技能其实是可以训练的，你只需抓住一切可以抓住的机会，有意识地加以训练和反思，你就能悟出很多宝贵的经验。软件开发是一门艺术，你需要能够静得下心，不断地优化和雕琢你的作品，因此你需要具备工匠精神。如果你想成为一名工匠领袖，那么你就应该比他人思考得更多、更高、更深、更全面，你需要更多的软技能。你只有认识到自己的优势，才能正确地选择自己的职业路线。</p>\n<p>祝你成功！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112048\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112048votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112048\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/c766feed221138f7946130756cddfc7e86e388b4.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/04/49961db8952e63d98b519b76a2daa5e2.png"], "fav_nums": 3, "url": "http://blog.jobbole.com/113760/", "url_object_id": "a47361c034c83e65bad8c6c27ce61a3b", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-03-13", "title": "Redis 集群部署及踩过的坑", "tags": "IT技术,Redis,数据库", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/gaoenwei/blog/1623214\">码上青天</a>   </div><h2><strong>本文目标</strong></h2>\n<blockquote><p>要在单台机器上搭建Redis集群，方式是通过不同的TCP端口启动多个实例，然后组成集群，同时记录在搭建过程中踩过的坑。</p></blockquote>\n<h2>安装准备</h2>\n<blockquote><p>centos版本：6.7</p>\n<p>redis版本：3.2.3</p>\n<p>安装方式：源码安装</p>\n<p>服务器：1台</p></blockquote>\n<h2>操作步骤</h2>\n<p>此处默认已安装好单台redis，如果不会可以参照《<a href=\"https://my.oschina.net/gaoenwei/blog/1622588\" rel=\"nofollow\">centos上安装redis</a>》</p>\n<p> </p>\n<h3>1、启动Redis多个实例</h3>\n<p>我们在Redis安装目录下创建目录cluster，并编写7000.conf~7005.conf 6个配置文件，这6个配置文件用来启动6个实例，后面将使用这6个实例组成集群。</p>\n<p>以7000.conf为例，配置文件需要填写如下几项：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512e5f544358299\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nport  7000                                        //端口7000,7001,7002,7003,7004,7005        \r\nbind 192.168.186.91                                     //默认ip为127.0.0.1 需要改为其他节点机器可访问的ip 否则创建集群时无法访问对应的端口，无法创建集群\r\ndaemonize    yes                               //redis后台运行\r\npidfile  ./redis_7000.pid          //pidfile文件对应7000,7001,7002,7003,7004,7005 \r\ncluster-enabled  yes                           //开启集群  把注释#去掉\r\ncluster-config-file  nodes_7000.conf   //集群的配置  配置文件首次启动自动生成 7000,7001,7002,7003,7004,7005 \r\ncluster-node-timeout  15000                //请求超时  默认15秒，可自行设置\r\nappendonly  yes                           //aof日志开启  有需要就开启，它会每次写操作都记录一条日志　</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e5f544358299-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e5f544358299-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e5f544358299-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e5f544358299-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e5f544358299-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e5f544358299-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e5f544358299-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e5f544358299-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512e5f544358299-1\"><span class=\"crayon-i\">port</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">7000</span><span class=\"crayon-h\">                                        </span><span class=\"crayon-c\">//端口7000,7001,7002,7003,7004,7005        </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e5f544358299-2\"><span class=\"crayon-i\">bind</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-h\">                                     </span><span class=\"crayon-c\">//默认ip为127.0.0.1 需要改为其他节点机器可访问的ip 否则创建集群时无法访问对应的端口，无法创建集群</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e5f544358299-3\"><span class=\"crayon-e\">daemonize    </span><span class=\"crayon-v\">yes</span><span class=\"crayon-h\">                               </span><span class=\"crayon-c\">//redis后台运行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e5f544358299-4\"><span class=\"crayon-i\">pidfile</span><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis_7000</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-h\">          </span><span class=\"crayon-c\">//pidfile文件对应7000,7001,7002,7003,7004,7005 </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e5f544358299-5\"><span class=\"crayon-v\">cluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">enabled  </span><span class=\"crayon-v\">yes</span><span class=\"crayon-h\">                           </span><span class=\"crayon-c\">//开启集群  把注释#去掉</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e5f544358299-6\"><span class=\"crayon-v\">cluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">config</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">file  </span><span class=\"crayon-v\">nodes_7000</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span><span class=\"crayon-h\">   </span><span class=\"crayon-c\">//集群的配置  配置文件首次启动自动生成 7000,7001,7002,7003,7004,7005 </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e5f544358299-7\"><span class=\"crayon-v\">cluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">node</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">timeout</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">15000</span><span class=\"crayon-h\">                </span><span class=\"crayon-c\">//请求超时  默认15秒，可自行设置</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e5f544358299-8\"><span class=\"crayon-e\">appendonly  </span><span class=\"crayon-v\">yes</span><span class=\"crayon-h\">                           </span><span class=\"crayon-c\">//aof日志开启  有需要就开启，它会每次写操作都记录一条日志　</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0217 seconds] -->\r\n<p>分别启动6个实例</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512e6a155420658\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nredis-server redis_cluster/7000/redis.conf\r\nredis-server redis_cluster/7001/redis.conf \r\nredis-server redis_cluster/7002/redis.conf \r\nredis-server redis_cluster/7003/redis.conf \r\nredis-server redis_cluster/7004/redis.conf \r\nredis-server redis_cluster/7005/redis.conf </textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e6a155420658-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e6a155420658-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e6a155420658-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e6a155420658-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e6a155420658-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e6a155420658-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512e6a155420658-1\"><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">server </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">7000</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">conf</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e6a155420658-2\"><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">server </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">7001</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">conf </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e6a155420658-3\"><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">server </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">conf </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e6a155420658-4\"><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">server </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">conf </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e6a155420658-5\"><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">server </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">conf </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e6a155420658-6\"><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">server </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">conf</span><span class=\"crayon-h\"> </span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>启动成功后，看一下进程</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512e6f419107482\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# ps -ef | grep redis | grep cluster\r\nidata    15711 22329  0 18:40 pts/10   00:00:00 ./bin/redis-server 192.168.186.91:7000 [cluster]\r\nidata    15740 22329  0 18:40 pts/10   00:00:00 ./bin/redis-server 192.168.186.91:7001 [cluster]\r\nidata    15810 22329  0 18:40 pts/10   00:00:00 ./bin/redis-server 192.168.186.91:7002 [cluster]\r\nidata    17023 22329  0 18:42 pts/10   00:00:00 ./bin/redis-server 192.168.186.91:7003 [cluster]\r\nidata    17030 22329  0 18:42 pts/10   00:00:00 ./bin/redis-server 192.168.186.91:7004 [cluster]\r\nidata    17035 22329  0 18:42 pts/10   00:00:00 ./bin/redis-server 192.168.186.91:7005 [cluster]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e6f419107482-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e6f419107482-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e6f419107482-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e6f419107482-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e6f419107482-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e6f419107482-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e6f419107482-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512e6f419107482-1\"><span class=\"crayon-p\"># ps -ef | grep redis | grep cluster</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e6f419107482-2\"><span class=\"crayon-i\">idata</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">15711</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22329</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">40</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">server</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e6f419107482-3\"><span class=\"crayon-i\">idata</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">15740</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22329</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">40</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">server</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e6f419107482-4\"><span class=\"crayon-i\">idata</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">15810</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22329</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">40</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">server</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e6f419107482-5\"><span class=\"crayon-i\">idata</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">17023</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22329</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">42</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">server</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e6f419107482-6\"><span class=\"crayon-i\">idata</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">17030</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22329</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">42</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">server</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e6f419107482-7\"><span class=\"crayon-i\">idata</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">17035</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22329</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">42</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">server</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0221 seconds] -->\r\n<p>至此，ip=192.168.186.91机器上创建了6个实例，端口号为port=7000~7005。</p>\n<p> </p>\n<h3><strong>2、安装ruby</strong></h3>\n<p><strong>1）yum安装ruby和依赖的包。</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512e79911507123\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst redis_cluster]# yum -y install ruby ruby-devel rubygems rpm-build\r\n已加载插件：fastestmirror\r\n设置安装进程\r\nLoading mirror speeds from cached hostfile\r\n * base: mirrors.cn99.com\r\n * extras: mirrors.cn99.com\r\n * updates: mirrors.cn99.com\r\nbase                                                                                                                                                                                                                                                   | 3.7 kB     00:00     \r\nextras                                                                                                                                                                                                                                                 | 3.4 kB     00:00     \r\nmysql-connectors-community                                                                                                                                                                                                                             | 2.5 kB     00:00     \r\nmysql-tools-community                                                                                                                                                                                                                                  | 2.5 kB     00:00     \r\nmysql56-community                                                                                                                                                                                                                                      | 2.5 kB     00:00     \r\nupdates                                                                                                                                                                                                                                                | 3.4 kB     00:00     \r\n解决依赖关系\r\n--&gt; 执行事务检查\r\n---&gt; Package rpm-build.x86_64 0:4.8.0-55.el6 will be 安装\r\n--&gt; 处理依赖关系 patch &gt;= 2.5，它被软件包 rpm-build-4.8.0-55.el6.x86_64 需要\r\n--&gt; 处理依赖关系 elfutils &gt;= 0.128，它被软件包 rpm-build-4.8.0-55.el6.x86_64 需要\r\n--&gt; 处理依赖关系 xz，它被软件包 rpm-build-4.8.0-55.el6.x86_64 需要\r\n--&gt; 处理依赖关系 system-rpm-config，它被软件包 rpm-build-4.8.0-55.el6.x86_64 需要\r\n--&gt; 处理依赖关系 lzma，它被软件包 rpm-build-4.8.0-55.el6.x86_64 需要\r\n--&gt; 处理依赖关系 /usr/bin/gdb-add-index，它被软件包 rpm-build-4.8.0-55.el6.x86_64 需要\r\n---&gt; Package ruby.x86_64 0:1.8.7.374-5.el6 will be 安装\r\n--&gt; 处理依赖关系 ruby-libs = 1.8.7.374-5.el6，它被软件包 ruby-1.8.7.374-5.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libruby.so.1.8()(64bit)，它被软件包 ruby-1.8.7.374-5.el6.x86_64 需要\r\n---&gt; Package ruby-devel.x86_64 0:1.8.7.374-5.el6 will be 安装\r\n---&gt; Package rubygems.noarch 0:1.3.7-5.el6 will be 安装\r\n--&gt; 处理依赖关系 ruby-rdoc，它被软件包 rubygems-1.3.7-5.el6.noarch 需要\r\n--&gt; 执行事务检查\r\n---&gt; Package elfutils.x86_64 0:0.164-2.el6 will be 安装\r\n--&gt; 处理依赖关系 elfutils-libs(x86-64) = 0.164-2.el6，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.158)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.149)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.148)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.138)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.130)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.127)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.126)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1(ELFUTILS_0.122)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libasm.so.1(ELFUTILS_1.0)(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libdw.so.1()(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n--&gt; 处理依赖关系 libasm.so.1()(64bit)，它被软件包 elfutils-0.164-2.el6.x86_64 需要\r\n---&gt; Package gdb.x86_64 0:7.2-92.el6 will be 安装\r\n---&gt; Package patch.x86_64 0:2.6-6.el6 will be 安装\r\n---&gt; Package redhat-rpm-config.noarch 0:9.0.3-51.el6.centos will be 安装\r\n---&gt; Package ruby-libs.x86_64 0:1.8.7.374-5.el6 will be 安装\r\n--&gt; 处理依赖关系 libreadline.so.5()(64bit)，它被软件包 ruby-libs-1.8.7.374-5.el6.x86_64 需要\r\n---&gt; Package ruby-rdoc.x86_64 0:1.8.7.374-5.el6 will be 安装\r\n--&gt; 处理依赖关系 ruby-irb = 1.8.7.374-5.el6，它被软件包 ruby-rdoc-1.8.7.374-5.el6.x86_64 需要\r\n---&gt; Package xz.x86_64 0:4.999.9-0.5.beta.20091007git.el6 will be 安装\r\n---&gt; Package xz-lzma-compat.x86_64 0:4.999.9-0.5.beta.20091007git.el6 will be 安装\r\n--&gt; 执行事务检查\r\n---&gt; Package compat-readline5.x86_64 0:5.2-17.1.el6 will be 安装\r\n---&gt; Package elfutils-libs.x86_64 0:0.164-2.el6 will be 安装\r\n---&gt; Package ruby-irb.x86_64 0:1.8.7.374-5.el6 will be 安装\r\n--&gt; 完成依赖关系计算\r\n\r\n依赖关系解决\r\n\r\n==============================================================================================================================================================================================================================================================================\r\n 软件包                                                              架构                                                     版本                                                                               仓库                                                    大小\r\n==============================================================================================================================================================================================================================================================================\r\n正在安装:\r\n rpm-build                                                           x86_64                                                   4.8.0-55.el6                                                                       base                                                   131 k\r\n ruby                                                                x86_64                                                   1.8.7.374-5.el6                                                                    base                                                   538 k\r\n ruby-devel                                                          x86_64                                                   1.8.7.374-5.el6                                                                    base                                                   318 k\r\n rubygems                                                            noarch                                                   1.3.7-5.el6                                                                        base                                                   207 k\r\n为依赖而安装:\r\n compat-readline5                                                    x86_64                                                   5.2-17.1.el6                                                                       base                                                   130 k\r\n elfutils                                                            x86_64                                                   0.164-2.el6                                                                        base                                                   240 k\r\n elfutils-libs                                                       x86_64                                                   0.164-2.el6                                                                        base                                                   230 k\r\n gdb                                                                 x86_64                                                   7.2-92.el6                                                                         base                                                   2.3 M\r\n patch                                                               x86_64                                                   2.6-6.el6                                                                          base                                                    90 k\r\n redhat-rpm-config                                                   noarch                                                   9.0.3-51.el6.centos                                                                base                                                    60 k\r\n ruby-irb                                                            x86_64                                                   1.8.7.374-5.el6                                                                    base                                                   318 k\r\n ruby-libs                                                           x86_64                                                   1.8.7.374-5.el6                                                                    base                                                   1.7 M\r\n ruby-rdoc                                                           x86_64                                                   1.8.7.374-5.el6                                                                    base                                                   381 k\r\n xz                                                                  x86_64                                                   4.999.9-0.5.beta.20091007git.el6                                                   base                                                   137 k\r\n xz-lzma-compat                                                      x86_64                                                   4.999.9-0.5.beta.20091007git.el6                                                   base                                                    16 k\r\n\r\n事务概要\r\n==============================================================================================================================================================================================================================================================================\r\nInstall      15 Package(s)\r\n\r\n总下载量：6.7 M\r\nInstalled size: 20 M\r\n下载软件包：\r\n(1/15): compat-readline5-5.2-17.1.el6.x86_64.rpm                                                                                                                                                                                                       | 130 kB     00:00     \r\n(2/15): elfutils-0.164-2.el6.x86_64.rpm                                                                                                                                                                                                                | 240 kB     00:00     \r\n(3/15): elfutils-libs-0.164-2.el6.x86_64.rpm                                                                                                                                                                                                           | 230 kB     00:00     \r\n(4/15): gdb-7.2-92.el6.x86_64.rpm                                                                                                                                                                                                                      | 2.3 MB     00:00     \r\n(5/15): patch-2.6-6.el6.x86_64.rpm                                                                                                                                                                                                                     |  90 kB     00:00     \r\n(6/15): redhat-rpm-config-9.0.3-51.el6.centos.noarch.rpm                                                                                                                                                                                               |  60 kB     00:00     \r\n(7/15): rpm-build-4.8.0-55.el6.x86_64.rpm                                                                                                                                                                                                              | 131 kB     00:00     \r\n(8/15): ruby-1.8.7.374-5.el6.x86_64.rpm                                                                                                                                                                                                                | 538 kB     00:00     \r\n(9/15): ruby-devel-1.8.7.374-5.el6.x86_64.rpm                                                                                                                                                                                                          | 318 kB     00:00     \r\n(10/15): ruby-irb-1.8.7.374-5.el6.x86_64.rpm                                                                                                                                                                                                           | 318 kB     00:00     \r\n(11/15): ruby-libs-1.8.7.374-5.el6.x86_64.rpm                                                                                                                                                                                                          | 1.7 MB     00:00     \r\n(12/15): ruby-rdoc-1.8.7.374-5.el6.x86_64.rpm                                                                                                                                                                                                          | 381 kB     00:00     \r\n(13/15): rubygems-1.3.7-5.el6.noarch.rpm                                                                                                                                                                                                               | 207 kB     00:00     \r\n(14/15): xz-4.999.9-0.5.beta.20091007git.el6.x86_64.rpm                                                                                                                                                                                                | 137 kB     00:00     \r\n(15/15): xz-lzma-compat-4.999.9-0.5.beta.20091007git.el6.x86_64.rpm                                                                                                                                                                                    |  16 kB     00:00     \r\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n总计                                                                                                                                                                                                                                          4.6 MB/s | 6.7 MB     00:01     \r\n运行 rpm_check_debug \r\n执行事务测试\r\n事务测试成功\r\n执行事务\r\n  正在安装   : xz-4.999.9-0.5.beta.20091007git.el6.x86_64                                                                                                                                                                                                                1/15 \r\n  正在安装   : xz-lzma-compat-4.999.9-0.5.beta.20091007git.el6.x86_64                                                                                                                                                                                                    2/15 \r\n  正在安装   : elfutils-libs-0.164-2.el6.x86_64                                                                                                                                                                                                                          3/15 \r\n  正在安装   : elfutils-0.164-2.el6.x86_64                                                                                                                                                                                                                               4/15 \r\n  正在安装   : redhat-rpm-config-9.0.3-51.el6.centos.noarch                                                                                                                                                                                                              5/15 \r\n  正在安装   : patch-2.6-6.el6.x86_64                                                                                                                                                                                                                                    6/15 \r\n  正在安装   : compat-readline5-5.2-17.1.el6.x86_64                                                                                                                                                                                                                      7/15 \r\n  正在安装   : ruby-libs-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                          8/15 \r\n  正在安装   : ruby-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                               9/15 \r\n  正在安装   : ruby-irb-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                          10/15 \r\n  正在安装   : ruby-rdoc-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                         11/15 \r\n  正在安装   : gdb-7.2-92.el6.x86_64                                                                                                                                                                                                                                    12/15 \r\n  正在安装   : rpm-build-4.8.0-55.el6.x86_64                                                                                                                                                                                                                            13/15 \r\n  正在安装   : rubygems-1.3.7-5.el6.noarch                                                                                                                                                                                                                              14/15 \r\n  正在安装   : ruby-devel-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                        15/15 \r\n  Verifying  : gdb-7.2-92.el6.x86_64                                                                                                                                                                                                                                     1/15 \r\n  Verifying  : compat-readline5-5.2-17.1.el6.x86_64                                                                                                                                                                                                                      2/15 \r\n  Verifying  : ruby-rdoc-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                          3/15 \r\n  Verifying  : xz-lzma-compat-4.999.9-0.5.beta.20091007git.el6.x86_64                                                                                                                                                                                                    4/15 \r\n  Verifying  : patch-2.6-6.el6.x86_64                                                                                                                                                                                                                                    5/15 \r\n  Verifying  : redhat-rpm-config-9.0.3-51.el6.centos.noarch                                                                                                                                                                                                              6/15 \r\n  Verifying  : ruby-irb-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                           7/15 \r\n  Verifying  : ruby-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                               8/15 \r\n  Verifying  : rpm-build-4.8.0-55.el6.x86_64                                                                                                                                                                                                                             9/15 \r\n  Verifying  : elfutils-libs-0.164-2.el6.x86_64                                                                                                                                                                                                                         10/15 \r\n  Verifying  : rubygems-1.3.7-5.el6.noarch                                                                                                                                                                                                                              11/15 \r\n  Verifying  : xz-4.999.9-0.5.beta.20091007git.el6.x86_64                                                                                                                                                                                                               12/15 \r\n  Verifying  : elfutils-0.164-2.el6.x86_64                                                                                                                                                                                                                              13/15 \r\n  Verifying  : ruby-devel-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                        14/15 \r\n  Verifying  : ruby-libs-1.8.7.374-5.el6.x86_64                                                                                                                                                                                                                         15/15 \r\n\r\n已安装:\r\n  rpm-build.x86_64 0:4.8.0-55.el6                                    ruby.x86_64 0:1.8.7.374-5.el6                                    ruby-devel.x86_64 0:1.8.7.374-5.el6                                    rubygems.noarch 0:1.3.7-5.el6                                   \r\n\r\n作为依赖被安装:\r\n  compat-readline5.x86_64 0:5.2-17.1.el6  elfutils.x86_64 0:0.164-2.el6       elfutils-libs.x86_64 0:0.164-2.el6  gdb.x86_64 0:7.2-92.el6                       patch.x86_64 0:2.6-6.el6                                  redhat-rpm-config.noarch 0:9.0.3-51.el6.centos \r\n  ruby-irb.x86_64 0:1.8.7.374-5.el6       ruby-libs.x86_64 0:1.8.7.374-5.el6  ruby-rdoc.x86_64 0:1.8.7.374-5.el6  xz.x86_64 0:4.999.9-0.5.beta.20091007git.el6  xz-lzma-compat.x86_64 0:4.999.9-0.5.beta.20091007git.el6 \r\n\r\n完毕！\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-62\">62</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-63\">63</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-64\">64</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-65\">65</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-66\">66</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-67\">67</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-68\">68</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-69\">69</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-70\">70</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-71\">71</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-72\">72</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-73\">73</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-74\">74</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-75\">75</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-76\">76</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-77\">77</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-78\">78</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-79\">79</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-80\">80</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-81\">81</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-82\">82</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-83\">83</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-84\">84</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-85\">85</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-86\">86</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-87\">87</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-88\">88</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-89\">89</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-90\">90</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-91\">91</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-92\">92</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-93\">93</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-94\">94</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-95\">95</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-96\">96</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-97\">97</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-98\">98</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-99\">99</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-100\">100</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-101\">101</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-102\">102</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-103\">103</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-104\">104</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-105\">105</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-106\">106</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-107\">107</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-108\">108</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-109\">109</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-110\">110</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-111\">111</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-112\">112</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-113\">113</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-114\">114</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-115\">115</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-116\">116</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-117\">117</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-118\">118</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-119\">119</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-120\">120</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-121\">121</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-122\">122</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-123\">123</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-124\">124</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-125\">125</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-126\">126</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-127\">127</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-128\">128</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-129\">129</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-130\">130</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-131\">131</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-132\">132</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-133\">133</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-134\">134</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-135\">135</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-136\">136</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-137\">137</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-138\">138</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-139\">139</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-140\">140</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-141\">141</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-142\">142</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-143\">143</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-144\">144</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-145\">145</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-146\">146</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e79911507123-147\">147</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e79911507123-148\">148</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># yum -y install ruby ruby-devel rubygems rpm-build</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-2\">已加载插件：<span class=\"crayon-i\">fastestmirror</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-3\">设置安装进程</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-4\"><span class=\"crayon-e\">Loading </span><span class=\"crayon-e\">mirror </span><span class=\"crayon-e\">speeds </span><span class=\"crayon-e\">from </span><span class=\"crayon-e\">cached </span><span class=\"crayon-e \">hostfile</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-5\"><span class=\"crayon-e \"> *</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">base</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mirrors</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">cn99</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e \">com</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-6\"><span class=\"crayon-e \"> *</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">extras</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mirrors</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">cn99</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e \">com</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-7\"><span class=\"crayon-e \"> *</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">updates</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mirrors</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">cn99</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">com</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-8\"><span class=\"crayon-v\">base</span><span class=\"crayon-h\">                                                                                                                                                                                                                                                   </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.7</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-9\"><span class=\"crayon-v\">extras</span><span class=\"crayon-h\">                                                                                                                                                                                                                                                 </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-10\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">connectors</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">community</span><span class=\"crayon-h\">                                                                                                                                                                                                                             </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-11\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">tools</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">community</span><span class=\"crayon-h\">                                                                                                                                                                                                                                  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-12\"><span class=\"crayon-v\">mysql56</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">community</span><span class=\"crayon-h\">                                                                                                                                                                                                                                      </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-13\"><span class=\"crayon-v\">updates</span><span class=\"crayon-h\">                                                                                                                                                                                                                                                </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-14\">解决依赖关系</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-15\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>执行事务检查</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-16\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-17\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">patch</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.5</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-18\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.128</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-19\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-i\">xz</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-20\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">system</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">config</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-21\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-i\">lzma</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-22\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gdb</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">add</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">index</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-23\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-24\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-25\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libruby</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1.8</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-26\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-27\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rubygems</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">noarch</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-28\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">rdoc</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rubygems</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.noarch</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-29\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>执行事务检查</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-30\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-31\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">libs</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">x86</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">64</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-32\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">158</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-33\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">149</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-34\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">148</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-35\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">138</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-36\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">130</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-37\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">127</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-38\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">126</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-39\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_0</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">122</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-40\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libasm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ELFUTILS_1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-41\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libdw</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-42\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libasm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-43\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">92.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-44\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">patch</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2.6</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-45\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redhat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">config</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">noarch</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">9.0.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">51.el6.centos</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-46\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-47\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">libreadline</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">so</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">64bit</span><span class=\"crayon-sy\">)</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-48\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdoc</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-49\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>处理依赖关系<span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">irb</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span>，它被软件包<span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdoc</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\"> </span>需要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-50\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-51\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lzma</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">compat</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-52\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>执行事务检查</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-53\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">readline5</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">17.1.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-54\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-55\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">irb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">will </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span>安装</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-56\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span>完成依赖关系计算</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-57\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-58\">依赖关系解决</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-59\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-60\"><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-61\"><span class=\"crayon-h\"> </span>软件包<span class=\"crayon-h\">                                                              </span>架构<span class=\"crayon-h\">                                                     </span>版本<span class=\"crayon-h\">                                                                               </span>仓库<span class=\"crayon-h\">                                                    </span>大小</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-62\"><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-63\">正在安装<span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-64\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">build                                                           </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6</span><span class=\"crayon-h\">                                                                       </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">131</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-65\"><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ruby                                                                </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                                                    </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">538</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-66\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">devel                                                          </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                                                    </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">318</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-67\"><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rubygems                                                            </span><span class=\"crayon-i\">noarch</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                                                        </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">207</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-68\">为依赖而安装<span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-69\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">readline5                                                    </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">5.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">17.1.el6</span><span class=\"crayon-h\">                                                                       </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">130</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-70\"><span class=\"crayon-h\"> </span><span class=\"crayon-e\">elfutils                                                            </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6</span><span class=\"crayon-h\">                                                                        </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-71\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">libs                                                       </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6</span><span class=\"crayon-h\">                                                                        </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">230</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-72\"><span class=\"crayon-h\"> </span><span class=\"crayon-e\">gdb                                                                 </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">7.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">92.el6</span><span class=\"crayon-h\">                                                                         </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">2.3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">M</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-73\"><span class=\"crayon-h\"> </span><span class=\"crayon-e\">patch                                                               </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">2.6</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6.el6</span><span class=\"crayon-h\">                                                                          </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                    </span><span class=\"crayon-cn\">90</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-74\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redhat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">config                                                   </span><span class=\"crayon-i\">noarch</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">9.0.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">51.el6.centos</span><span class=\"crayon-h\">                                                                </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                    </span><span class=\"crayon-cn\">60</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-75\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">irb                                                            </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                                                    </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">318</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-76\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">libs                                                           </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                                                    </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">1.7</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">M</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-77\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">rdoc                                                           </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                                                    </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">381</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-78\"><span class=\"crayon-h\"> </span><span class=\"crayon-e\">xz                                                                  </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">137</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-79\"><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lzma</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">compat                                                      </span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\">                                                   </span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6</span><span class=\"crayon-h\">                                                   </span><span class=\"crayon-i\">base</span><span class=\"crayon-h\">                                                    </span><span class=\"crayon-cn\">16</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-80\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-81\">事务概要</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-82\"><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span><span class=\"crayon-o\">===</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-83\"><span class=\"crayon-i\">Install</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Package</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-84\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-85\">总下载量：<span class=\"crayon-cn\">6.7</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">M</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-86\"><span class=\"crayon-e\">Installed </span><span class=\"crayon-v\">size</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">M</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-87\">下载软件包：</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-88\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">readline5</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">17.1.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                       </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">130</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-89\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                                </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-90\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                           </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">230</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-91\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">gdb</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">92.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                                      </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">MB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-92\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">patch</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.6</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                                     </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">90</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-93\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">6</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redhat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">config</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">9.0.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">51.el6.centos.noarch.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                               </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">60</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-94\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                              </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">131</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-95\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">8</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                                </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">538</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-96\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">9</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                          </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">318</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-97\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">irb</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                           </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">318</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-98\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                          </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.7</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">MB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-99\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdoc</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                          </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">381</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-100\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rubygems</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.noarch.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                               </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">207</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-101\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                                </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">137</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-102\"><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">15</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lzma</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6.x86_64.rpm</span><span class=\"crayon-h\">                                                                                                                                                                                    </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">16</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-103\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-104\">总计<span class=\"crayon-h\">                                                                                                                                                                                                                                          </span><span class=\"crayon-cn\">4.6</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">MB</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6.7</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">MB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-105\">运行<span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm_check</span><span class=\"crayon-sy\">_</span>debug<span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-106\">执行事务测试</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-107\">事务测试成功</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-108\">执行事务</div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-109\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                </span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-110\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lzma</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                    </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-111\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                          </span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-112\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                               </span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-113\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redhat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">config</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">9.0.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">51.el6.centos.noarch</span><span class=\"crayon-h\">                                                                                                                                                                                                              </span><span class=\"crayon-cn\">5</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-114\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">patch</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.6</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                                    </span><span class=\"crayon-cn\">6</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-115\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">readline5</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">17.1.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                      </span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-116\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                          </span><span class=\"crayon-cn\">8</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-117\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                               </span><span class=\"crayon-cn\">9</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-118\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">irb</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                          </span><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-119\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdoc</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                         </span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-120\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">gdb</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">92.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                                    </span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-121\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                            </span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-122\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rubygems</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.noarch</span><span class=\"crayon-h\">                                                                                                                                                                                                                              </span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-123\"><span class=\"crayon-h\">  </span>正在安装<span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                        </span><span class=\"crayon-cn\">15</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-124\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">gdb</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">92.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                                     </span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-125\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">readline5</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">17.1.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                      </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-126\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdoc</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                          </span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-127\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lzma</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                    </span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-128\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">patch</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.6</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                                    </span><span class=\"crayon-cn\">5</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-129\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redhat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">config</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">9.0.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">51.el6.centos.noarch</span><span class=\"crayon-h\">                                                                                                                                                                                                              </span><span class=\"crayon-cn\">6</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-130\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">irb</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                           </span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-131\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                               </span><span class=\"crayon-cn\">8</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-132\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                             </span><span class=\"crayon-cn\">9</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-133\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                         </span><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-134\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rubygems</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.noarch</span><span class=\"crayon-h\">                                                                                                                                                                                                                              </span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-135\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                               </span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-136\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                              </span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-137\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                        </span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-138\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Verifying</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.x86_64</span><span class=\"crayon-h\">                                                                                                                                                                                                                         </span><span class=\"crayon-cn\">15</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-139\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-140\">已安装<span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-141\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">build</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4.8.0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">55.el6</span><span class=\"crayon-h\">                                    </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                    </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                    </span><span class=\"crayon-v\">rubygems</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">noarch</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">                                   </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-142\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-143\">作为依赖被安装<span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-144\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">compat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">readline5</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">17.1.el6</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">elfutils</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0.164</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.el6</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7.2</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">92.el6</span><span class=\"crayon-h\">                       </span><span class=\"crayon-v\">patch</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2.6</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">6.el6</span><span class=\"crayon-h\">                                  </span><span class=\"crayon-v\">redhat</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rpm</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">config</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">noarch</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">9.0.3</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">51.el6.centos</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-145\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">irb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">libs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdoc</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1.8.7.374</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">xz</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">xz</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lzma</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">compat</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">x86</span><span class=\"crayon-sy\">_</span>64<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4.999.9</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.5.beta.20091007git.el6</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-146\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e79911507123-147\">完毕！</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e79911507123-148\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.2271 seconds] -->\r\n<p><strong>2）使用gem这个命令来安装redis接口</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512e8b733096333\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst redis_cluster]# gem install redis\r\nERROR:  Error installing redis:\r\n\tredis requires Ruby version &gt;= 2.2.2.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e8b733096333-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e8b733096333-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e8b733096333-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e8b733096333-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512e8b733096333-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># gem install redis</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e8b733096333-2\"><span class=\"crayon-v\">ERROR</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">  </span><span class=\"crayon-e\">Error </span><span class=\"crayon-e\">installing </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e8b733096333-3\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">redis </span><span class=\"crayon-e\">requires </span><span class=\"crayon-e\">Ruby </span><span class=\"crayon-v\">version</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.2.2.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e8b733096333-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>这一步骤中出现了bug,度娘告诉我是Ruby版本太低，需要升级版本。</p>\n<p><strong>3）升级Ruby的版本</strong></p>\n<p>安装rvm，我不知道这是个什么东西，但是感觉像是Ruby的一个包管理器。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512e9d886886423\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst redis_cluster]# curl -L get.rvm.io | bash -s stable\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 24090  100 24090    0     0  10919      0  0:00:02  0:00:02 --:--:-- 91242\r\nDownloading https://github.com/rvm/rvm/archive/1.29.3.tar.gz\r\nDownloading https://github.com/rvm/rvm/releases/download/1.29.3/1.29.3.tar.gz.asc\r\ngpg: 于 2017年09月11日 星期一 04时59分21秒 CST 创建的签名，使用 RSA，钥匙号 BF04FF17\r\ngpg: 无法检查签名：No public key\r\nWarning, RVM 1.26.0 introduces signed releases and automated check of signatures when GPG software found. Assuming you trust Michal Papis import the mpapis public key (downloading the signatures).\r\n\r\nGPG signature verification failed for '/usr/local/rvm/archives/rvm-1.29.3.tgz' - 'https://github.com/rvm/rvm/releases/download/1.29.3/1.29.3.tar.gz.asc'! Try to install GPG v2 and then fetch the public key:\r\n\r\n    gpg2 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3\r\n\r\nor if it fails:\r\n\r\n    command curl -sSL https://rvm.io/mpapis.asc | gpg2 --import -\r\n\r\nthe key can be compared with:\r\n\r\n    https://rvm.io/mpapis.asc\r\n    https://keybase.io/mpapis\r\n\r\nNOTE: GPG version 2.1.17 have a bug which cause failures during fetching keys from remote server. Please downgrade or upgrade to newer version (if available) or use the second method described above.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512e9d886886423-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512e9d886886423-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># curl -L get.rvm.io | bash -s stable</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Total</span><span class=\"crayon-h\">    </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Received</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Xferd  </span><span class=\"crayon-e\">Average </span><span class=\"crayon-e\">Speed   </span><span class=\"crayon-e\">Time    </span><span class=\"crayon-e\">Time     </span><span class=\"crayon-e\">Time  </span><span class=\"crayon-e\">Current</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-3\"><span class=\"crayon-e\">                                 </span><span class=\"crayon-e\">Dload  </span><span class=\"crayon-e\">Upload   </span><span class=\"crayon-e\">Total   </span><span class=\"crayon-e\">Spent    </span><span class=\"crayon-e\">Left  </span><span class=\"crayon-i\">Speed</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-4\"><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">24090</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">24090</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">10919</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">02</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">02</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">91242</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-5\"><span class=\"crayon-e\">Downloading </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//github.com/rvm/rvm/archive/1.29.3.tar.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-6\"><span class=\"crayon-e\">Downloading </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//github.com/rvm/rvm/releases/download/1.29.3/1.29.3.tar.gz.asc</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-7\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>于<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span>年<span class=\"crayon-cn\">09</span>月<span class=\"crayon-cn\">11</span>日<span class=\"crayon-h\"> </span>星期一<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">04</span>时<span class=\"crayon-cn\">59</span>分<span class=\"crayon-cn\">21</span>秒<span class=\"crayon-h\"> </span><span class=\"crayon-i\">CST</span><span class=\"crayon-h\"> </span>创建的签名，使用<span class=\"crayon-h\"> </span><span class=\"crayon-i\">RSA</span>，钥匙号<span class=\"crayon-h\"> </span><span class=\"crayon-e\">BF04FF17</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-8\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>无法检查签名：<span class=\"crayon-e\">No </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">key</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-9\"><span class=\"crayon-v\">Warning</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">RVM</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.26.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">introduces </span><span class=\"crayon-t\">signed</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">releases </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">automated </span><span class=\"crayon-e\">check </span><span class=\"crayon-e\">of </span><span class=\"crayon-e\">signatures </span><span class=\"crayon-e\">when </span><span class=\"crayon-e\">GPG </span><span class=\"crayon-e\">software </span><span class=\"crayon-v\">found</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Assuming </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">trust </span><span class=\"crayon-e\">Michal </span><span class=\"crayon-e\">Papis </span><span class=\"crayon-e\">import </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">mpapis </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">key</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">downloading </span><span class=\"crayon-e\">the </span><span class=\"crayon-v\">signatures</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-10\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-11\"><span class=\"crayon-e\">GPG </span><span class=\"crayon-e\">signature </span><span class=\"crayon-e\">verification </span><span class=\"crayon-e\">failed </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/usr/local/rvm/archives/rvm-1.29.3.tgz'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'https://github.com/rvm/rvm/releases/download/1.29.3/1.29.3.tar.gz.asc'</span><span class=\"crayon-o\">!</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">Try</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">install </span><span class=\"crayon-e\">GPG </span><span class=\"crayon-e\">v2 </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">fetch </span><span class=\"crayon-e\">the </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">key</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-12\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">gpg2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">recv</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">keys</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">409B6B1796C275462A1703113804BB82D39DC0E3</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-15\"><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">fails</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-16\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-17\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">command </span><span class=\"crayon-v\">curl</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">sSL </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//rvm.io/mpapis.asc | gpg2 --import -</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-18\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-19\"><span class=\"crayon-e\">the </span><span class=\"crayon-e\">key </span><span class=\"crayon-e\">can </span><span class=\"crayon-e\">be </span><span class=\"crayon-e\">compared </span><span class=\"crayon-v\">with</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-20\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//rvm.io/mpapis.asc</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-22\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//keybase.io/mpapis</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-23\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512e9d886886423-24\"><span class=\"crayon-v\">NOTE</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GPG </span><span class=\"crayon-i\">version</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.1.17</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">have</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bug </span><span class=\"crayon-e\">which </span><span class=\"crayon-e\">cause </span><span class=\"crayon-e\">failures </span><span class=\"crayon-e\">during </span><span class=\"crayon-e\">fetching </span><span class=\"crayon-e\">keys </span><span class=\"crayon-e\">from </span><span class=\"crayon-e\">remote </span><span class=\"crayon-v\">server</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Please </span><span class=\"crayon-e\">downgrade </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">upgrade </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">newer </span><span class=\"crayon-e\">version</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">available</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">use</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">second </span><span class=\"crayon-e\">method </span><span class=\"crayon-e\">described </span><span class=\"crayon-v\">above</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512e9d886886423-25\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0161 seconds] -->\r\n<p>这一操作得到了：</p>\n<p>gpg2 –recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3</p>\n<p>然后利用该密钥下载Ruby并升级。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ea2896753176\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst redis_cluster]# gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3\r\ngpg: 下载密钥‘D39DC0E3’，从 hkp 服务器 keys.gnupg.net\r\ngpg: /root/.gnupg/trustdb.gpg：建立了信任度数据库\r\ngpg: 密钥 D39DC0E3：公钥“Michal Papis (RVM signing) &lt;mpapis@gmail.com&gt;”已导入\r\ngpg: 没有找到任何绝对信任的密钥\r\ngpg: 合计被处理的数量：1\r\ngpg:           已导入：1  (RSA: 1)\r\n[root@itfirst redis_cluster]# curl -sSL https://get.rvm.io | bash -s stable\r\nDownloading https://github.com/rvm/rvm/archive/1.29.3.tar.gz\r\nDownloading https://github.com/rvm/rvm/releases/download/1.29.3/1.29.3.tar.gz.asc\r\ngpg: 于 2017年09月11日 星期一 04时59分21秒 CST 创建的签名，使用 RSA，钥匙号 BF04FF17\r\ngpg: 完好的签名，来自于“Michal Papis (RVM signing) &lt;mpapis@gmail.com&gt;”\r\ngpg:               亦即“Michal Papis &lt;mpapis@gmail.com&gt;”\r\ngpg:               亦即“[jpeg image of size 5015]”\r\ngpg: 警告：这把密钥未经受信任的签名认证！\r\ngpg:       没有证据表明这个签名属于它所声称的持有者。\r\n主钥指纹： 409B 6B17 96C2 7546 2A17  0311 3804 BB82 D39D C0E3\r\n子钥指纹： 62C9 E5F4 DA30 0D94 AC36  166B E206 C29F BF04 FF17\r\nGPG verified '/usr/local/rvm/archives/rvm-1.29.3.tgz'\r\nCreating group 'rvm'\r\n\r\nInstalling RVM to /usr/local/rvm/\r\nInstallation of RVM in /usr/local/rvm/ is almost complete:\r\n\r\n  * First you need to add all users that will be using rvm to 'rvm' group,\r\n    and logout - login again, anyone using rvm will be operating with `umask u=rwx,g=rwx,o=rx`.\r\n\r\n  * To start using RVM you need to run `source /etc/profile.d/rvm.sh`\r\n    in all your open shell windows, in rare cases you need to reopen all shell windows.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea2896753176-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ea2896753176-30\">30</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-2\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>下载密钥‘<span class=\"crayon-i\">D39DC0E3</span>’，从<span class=\"crayon-h\"> </span><span class=\"crayon-i\">hkp</span><span class=\"crayon-h\"> </span>服务器<span class=\"crayon-h\"> </span><span class=\"crayon-v\">keys</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">gnupg</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">net</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-3\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">gnupg</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">trustdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">gpg</span>：建立了信任度数据库</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-4\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>密钥<span class=\"crayon-h\"> </span><span class=\"crayon-i\">D39DC0E3</span>：公钥“<span class=\"crayon-e\">Michal </span><span class=\"crayon-e\">Papis</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">RVM </span><span class=\"crayon-v\">signing</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">mpapis</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">gmail</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">com</span><span class=\"crayon-o\">&gt;</span>”已导入</div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-5\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>没有找到任何绝对信任的密钥</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-6\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>合计被处理的数量：<span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-7\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">           </span>已导入：<span class=\"crayon-cn\">1</span><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">RSA</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-8\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">redis_cluster</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># curl -sSL https://get.rvm.io | bash -s stable</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-9\"><span class=\"crayon-e\">Downloading </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//github.com/rvm/rvm/archive/1.29.3.tar.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-10\"><span class=\"crayon-e\">Downloading </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//github.com/rvm/rvm/releases/download/1.29.3/1.29.3.tar.gz.asc</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-11\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>于<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span>年<span class=\"crayon-cn\">09</span>月<span class=\"crayon-cn\">11</span>日<span class=\"crayon-h\"> </span>星期一<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">04</span>时<span class=\"crayon-cn\">59</span>分<span class=\"crayon-cn\">21</span>秒<span class=\"crayon-h\"> </span><span class=\"crayon-i\">CST</span><span class=\"crayon-h\"> </span>创建的签名，使用<span class=\"crayon-h\"> </span><span class=\"crayon-i\">RSA</span>，钥匙号<span class=\"crayon-h\"> </span><span class=\"crayon-e\">BF04FF17</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-12\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>完好的签名，来自于“<span class=\"crayon-e\">Michal </span><span class=\"crayon-e\">Papis</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">RVM </span><span class=\"crayon-v\">signing</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">mpapis</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">gmail</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">com</span><span class=\"crayon-o\">&gt;</span>”</div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-13\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">               </span>亦即“<span class=\"crayon-e\">Michal </span><span class=\"crayon-v\">Papis</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">mpapis</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">gmail</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">com</span><span class=\"crayon-o\">&gt;</span>”</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-14\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">               </span>亦即“<span class=\"crayon-sy\">[</span><span class=\"crayon-e\">jpeg </span><span class=\"crayon-e\">image </span><span class=\"crayon-e\">of </span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5015</span><span class=\"crayon-sy\">]</span>”</div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-15\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span>警告：这把密钥未经受信任的签名认证！</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-16\"><span class=\"crayon-v\">gpg</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">       </span>没有证据表明这个签名属于它所声称的持有者。</div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-17\">主钥指纹：<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">409B</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6B17</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">96C2</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7546</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2A17</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0311</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3804</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">BB82 </span><span class=\"crayon-e\">D39D </span><span class=\"crayon-i\">C0E3</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-18\">子钥指纹：<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">62C9</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">E5F4 </span><span class=\"crayon-i\">DA30</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0D94</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">AC36</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">166B</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">E206 </span><span class=\"crayon-e\">C29F </span><span class=\"crayon-e\">BF04 </span><span class=\"crayon-e\">FF17</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-19\"><span class=\"crayon-e\">GPG </span><span class=\"crayon-i\">verified</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/usr/local/rvm/archives/rvm-1.29.3.tgz'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-20\"><span class=\"crayon-e\">Creating </span><span class=\"crayon-i\">group</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'rvm'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-21\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-22\"><span class=\"crayon-e\">Installing </span><span class=\"crayon-e\">RVM </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-23\"><span class=\"crayon-e\">Installation </span><span class=\"crayon-e\">of </span><span class=\"crayon-e\">RVM </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">almost </span><span class=\"crayon-v\">complete</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-24\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-25\"><span class=\"crayon-h\">  </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">First </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">need </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">add </span><span class=\"crayon-e\">all </span><span class=\"crayon-e\">users </span><span class=\"crayon-e\">that </span><span class=\"crayon-e\">will </span><span class=\"crayon-e\">be </span><span class=\"crayon-e\">using </span><span class=\"crayon-e\">rvm </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'rvm'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">group</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-26\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">logout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">login </span><span class=\"crayon-v\">again</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">anyone </span><span class=\"crayon-e\">using </span><span class=\"crayon-e\">rvm </span><span class=\"crayon-e\">will </span><span class=\"crayon-e\">be </span><span class=\"crayon-e\">operating </span><span class=\"crayon-i\">with</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">umask</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">u</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">rwx</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">rwx</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">o</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">rx</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-27\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-28\"><span class=\"crayon-h\">  </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">To</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">start </span><span class=\"crayon-e\">using </span><span class=\"crayon-e\">RVM </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">need </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">run</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">profile</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ea2896753176-29\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">all </span><span class=\"crayon-e\">your </span><span class=\"crayon-e\">open </span><span class=\"crayon-e\">shell </span><span class=\"crayon-v\">windows</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rare </span><span class=\"crayon-e\">cases </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">need </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">reopen </span><span class=\"crayon-e\">all </span><span class=\"crayon-e\">shell </span><span class=\"crayon-v\">windows</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ea2896753176-30\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0284 seconds] -->\r\n<p>接着，source环境，让rvm可用。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ea6308380358\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst ~]# source /usr/local/rvm/scripts/rvm</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ea6308380358-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ea6308380358-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># source /usr/local/rvm/scripts/rvm</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>查看Ruby可用版本</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512eac844865121\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst ~]# rvm list known\r\n# MRI Rubies\r\n[ruby-]1.8.6[-p420]\r\n[ruby-]1.8.7[-head] # security released on head\r\n[ruby-]1.9.1[-p431]\r\n[ruby-]1.9.2[-p330]\r\n[ruby-]1.9.3[-p551]\r\n[ruby-]2.0.0[-p648]\r\n[ruby-]2.1[.10]\r\n[ruby-]2.2[.7]\r\n[ruby-]2.3[.4]\r\n[ruby-]2.4[.1]\r\nruby-head\r\n\r\n# for forks use: rvm install ruby-head-&lt;name&gt; --url https://github.com/github/ruby.git --branch 2.2\r\n\r\n# JRuby\r\njruby-1.6[.8]\r\njruby-1.7[.27]\r\njruby[-9.1.13.0]\r\njruby-head\r\n\r\n# Rubinius\r\nrbx-1[.4.3]\r\nrbx-2.3[.0]\r\nrbx-2.4[.1]\r\nrbx-2[.5.8]\r\nrbx-3[.84]\r\nrbx-head\r\n\r\n# Opal\r\nopal\r\n\r\n# Minimalistic ruby implementation - ISO 30170:2012\r\nmruby-1.0.0\r\nmruby-1.1.0\r\nmruby-1.2.0\r\nmruby-1[.3.0]\r\nmruby[-head]\r\n\r\n# Ruby Enterprise Edition\r\nree-1.8.6\r\nree[-1.8.7][-2012.02]\r\n\r\n# Topaz\r\ntopaz\r\n\r\n# MagLev\r\nmaglev[-head]\r\nmaglev-1.0.0\r\n\r\n# Mac OS X Snow Leopard Or Newer\r\nmacruby-0.10\r\nmacruby-0.11\r\nmacruby[-0.12]\r\nmacruby-nightly\r\nmacruby-head\r\n\r\n# IronRuby\r\nironruby[-1.1.3]\r\nironruby-head\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eac844865121-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eac844865121-62\">62</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># rvm list known</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-2\"><span class=\"crayon-p\"># MRI Rubies</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">1.8.6</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">p420</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">1.8.7</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># security released on head</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-5\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">1.9.1</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">p431</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-6\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">1.9.2</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">p330</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-7\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">1.9.3</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">p551</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-8\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">2.0.0</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">p648</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-9\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">2.1</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-10\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">2.2</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-11\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">2.3</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-12\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-cn\">2.4</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-13\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-15\"><span class=\"crayon-p\"># for forks use: rvm install ruby-head-&lt;name&gt; --url https://github.com/github/ruby.git --branch 2.2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-16\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-17\"><span class=\"crayon-p\"># JRuby</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-18\"><span class=\"crayon-v\">jruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.6</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-19\"><span class=\"crayon-v\">jruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.7</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">27</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-20\"><span class=\"crayon-v\">jruby</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">9.1.13.0</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-21\"><span class=\"crayon-v\">jruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-22\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-23\"><span class=\"crayon-p\"># Rubinius</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-24\"><span class=\"crayon-v\">rbx</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">4.3</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-25\"><span class=\"crayon-v\">rbx</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-26\"><span class=\"crayon-v\">rbx</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.4</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-27\"><span class=\"crayon-v\">rbx</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">5.8</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-28\"><span class=\"crayon-v\">rbx</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">84</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-29\"><span class=\"crayon-v\">rbx</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-30\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-31\"><span class=\"crayon-p\"># Opal</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-32\"><span class=\"crayon-v\">opal</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-33\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-34\"><span class=\"crayon-p\"># Minimalistic ruby implementation - ISO 30170:2012</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-35\"><span class=\"crayon-v\">mruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-36\"><span class=\"crayon-v\">mruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.1.0</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-37\"><span class=\"crayon-v\">mruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.2.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-38\"><span class=\"crayon-v\">mruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">3.0</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-39\"><span class=\"crayon-v\">mruby</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-40\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-41\"><span class=\"crayon-p\"># Ruby Enterprise Edition</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-42\"><span class=\"crayon-v\">ree</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.6</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-43\"><span class=\"crayon-v\">ree</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2012.02</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-44\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-45\"><span class=\"crayon-p\"># Topaz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-46\"><span class=\"crayon-v\">topaz</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-47\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-48\"><span class=\"crayon-p\"># MagLev</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-49\"><span class=\"crayon-v\">maglev</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-50\"><span class=\"crayon-v\">maglev</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0.0</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-51\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-52\"><span class=\"crayon-p\"># Mac OS X Snow Leopard Or Newer</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-53\"><span class=\"crayon-v\">macruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.10</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-54\"><span class=\"crayon-v\">macruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.11</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-55\"><span class=\"crayon-v\">macruby</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0.12</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-56\"><span class=\"crayon-v\">macruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">nightly</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-57\"><span class=\"crayon-v\">macruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-58\"> </div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-59\"><span class=\"crayon-p\"># IronRuby</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-60\"><span class=\"crayon-v\">ironruby</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.1.3</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eac844865121-61\"><span class=\"crayon-v\">ironruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">head</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eac844865121-62\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0177 seconds] -->\r\n<p>可以看到最新的版本是2.4.1，本文安装2.3.0</p>\n<p>至此，我们升级了Ruby的版本。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512eb2331381240\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst ~]# rvm install 2.3.0\r\nSearching for binary rubies, this might take some time.\r\nFound remote file https://rvm_io.global.ssl.fastly.net/binaries/centos/6/x86_64/ruby-2.3.0.tar.bz2\r\nChecking requirements for centos.\r\nInstalling requirements for centos.\r\nInstalling required packages: autoconf, automake, bison, libffi-devel, libtool, readline-devel, sqlite-devel, libyaml-devel..........\r\nRequirements installation successful.\r\nruby-2.3.0 - #configure\r\nruby-2.3.0 - #download\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 21.9M  100 21.9M    0     0   266k      0  0:01:24  0:01:24 --:--:--  278k\r\nNo checksum for downloaded archive, recording checksum in user configuration.\r\nruby-2.3.0 - #validate archive\r\nruby-2.3.0 - #extract\r\nruby-2.3.0 - #validate binary\r\nruby-2.3.0 - #setup\r\nruby-2.3.0 - #gemset created /usr/local/rvm/gems/ruby-2.3.0@global\r\nruby-2.3.0 - #importing gemset /usr/local/rvm/gemsets/global.gems..............................\r\nruby-2.3.0 - #generating global wrappers........\r\nruby-2.3.0 - #gemset created /usr/local/rvm/gems/ruby-2.3.0\r\nruby-2.3.0 - #importing gemsetfile /usr/local/rvm/gemsets/default.gems evaluated to empty gem list\r\nruby-2.3.0 - #generating default wrappers........\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb2331381240-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb2331381240-24\">24</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># rvm install 2.3.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-2\"><span class=\"crayon-e\">Searching </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">binary </span><span class=\"crayon-v\">rubies</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">might </span><span class=\"crayon-e\">take </span><span class=\"crayon-e\">some </span><span class=\"crayon-v\">time</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-3\"><span class=\"crayon-e\">Found </span><span class=\"crayon-e\">remote </span><span class=\"crayon-e\">file </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//rvm_io.global.ssl.fastly.net/binaries/centos/6/x86_64/ruby-2.3.0.tar.bz2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-4\"><span class=\"crayon-e\">Checking </span><span class=\"crayon-e\">requirements </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">centos</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-5\"><span class=\"crayon-e\">Installing </span><span class=\"crayon-e\">requirements </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">centos</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-6\"><span class=\"crayon-e\">Installing </span><span class=\"crayon-e\">required </span><span class=\"crayon-v\">packages</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">autoconf</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">automake</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bison</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">libffi</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">libtool</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">readline</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sqlite</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">libyaml</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">devel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-7\"><span class=\"crayon-e\">Requirements </span><span class=\"crayon-e\">installation </span><span class=\"crayon-v\">successful</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-8\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#configure</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-9\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#download</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-10\"><span class=\"crayon-h\">  </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Total</span><span class=\"crayon-h\">    </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Received</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Xferd  </span><span class=\"crayon-e\">Average </span><span class=\"crayon-e\">Speed   </span><span class=\"crayon-e\">Time    </span><span class=\"crayon-e\">Time     </span><span class=\"crayon-e\">Time  </span><span class=\"crayon-e\">Current</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-11\"><span class=\"crayon-e\">                                 </span><span class=\"crayon-e\">Dload  </span><span class=\"crayon-e\">Upload   </span><span class=\"crayon-e\">Total   </span><span class=\"crayon-e\">Spent    </span><span class=\"crayon-e\">Left  </span><span class=\"crayon-i\">Speed</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-12\"><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">21.9M</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">21.9M</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">266k</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">01</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">24</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">01</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">24</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">278k</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-13\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">checksum </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">downloaded </span><span class=\"crayon-v\">archive</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">recording </span><span class=\"crayon-e\">checksum </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">user </span><span class=\"crayon-v\">configuration</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-14\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#validate archive</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-15\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#extract</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-16\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#validate binary</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-17\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#setup</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-18\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#gemset created /usr/local/rvm/gems/ruby-2.3.0@global</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-19\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#importing gemset /usr/local/rvm/gemsets/global.gems..............................</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-20\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#generating global wrappers........</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-21\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#gemset created /usr/local/rvm/gems/ruby-2.3.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-22\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#importing gemsetfile /usr/local/rvm/gemsets/default.gems evaluated to empty gem list</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb2331381240-23\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#generating default wrappers........</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb2331381240-24\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0150 seconds] -->\r\n<p><strong>4）安装gem redis接口</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512eb6963560288\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst ~]# rvm use 2.3.0\r\nUsing /usr/local/rvm/gems/ruby-2.3.0\r\n[root@itfirst ~]# rvm remove 1.8.7\r\nruby-1.8.7-head - #already gone\r\nUsing /usr/local/rvm/gems/ruby-2.3.0\r\n[root@itfirst ~]#  ruby --version\r\nruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-linux]\r\n[root@itfirst ~]# gem install redis\r\nFetching: redis-4.0.1.gem (100%)\r\nSuccessfully installed redis-4.0.1\r\nParsing documentation for redis-4.0.1\r\nInstalling ri documentation for redis-4.0.1\r\nDone installing documentation for redis after 0 seconds\r\n1 gem installed\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb6963560288-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb6963560288-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb6963560288-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb6963560288-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb6963560288-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb6963560288-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512eb6963560288-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eb6963560288-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># rvm use 2.3.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb6963560288-2\"><span class=\"crayon-v\">Using</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># rvm remove 1.8.7</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb6963560288-4\"><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.8.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">head</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#already gone</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-5\"><span class=\"crayon-v\">Using</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb6963560288-6\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\">#  ruby --version</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-7\"><span class=\"crayon-i\">ruby</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2.3.0p0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2015</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">revision</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">53290</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">x86_64</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">linux</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb6963560288-8\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># gem install redis</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-9\"><span class=\"crayon-v\">Fetching</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1.gem</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">100</span><span class=\"crayon-o\">%</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb6963560288-10\"><span class=\"crayon-e\">Successfully </span><span class=\"crayon-e\">installed </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-11\"><span class=\"crayon-e\">Parsing </span><span class=\"crayon-e\">documentation </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb6963560288-12\"><span class=\"crayon-e\">Installing </span><span class=\"crayon-e\">ri </span><span class=\"crayon-e\">documentation </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-13\"><span class=\"crayon-e\">Done </span><span class=\"crayon-e\">installing </span><span class=\"crayon-e\">documentation </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">redis </span><span class=\"crayon-i\">after</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">seconds</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512eb6963560288-14\"><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">gem </span><span class=\"crayon-i\">installed</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512eb6963560288-15\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0032 seconds] -->\r\n<p><strong>5）安装rubygems</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ebd433800652\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# yum install -y rubygems\r\nLoaded plugins: fastestmirror, security\r\nSetting up Install Process\r\nLoading mirror speeds from cached hostfile\r\nbase                                                                                                                                                   | 3.7 kB     00:00     \r\ndidi_jenkins_enable                                                                                                                                    | 1.5 kB     00:00     \r\ndidi_op_toa_enable                                                                                                                                     | 1.5 kB     00:00     \r\ndidi_txjenkins_enable                                                                                                                                  | 1.5 kB     00:00     \r\ndidi_update                                                                                                                                            | 1.5 kB     00:00     \r\nepel                                                                                                                                                   | 4.3 kB     00:00     \r\nextras                                                                                                                                                 | 3.4 kB     00:00     \r\ntmprepo                                                                                                                                                | 1.5 kB     00:00     \r\nupdates                                                                                                                                                | 3.4 kB     00:00     \r\nPackage rubygems-1.3.7-5.el6.noarch already installed and latest version\r\nNothing to do</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ebd433800652-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ebd433800652-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ebd433800652-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ebd433800652-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ebd433800652-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ebd433800652-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ebd433800652-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ebd433800652-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-1\"><span class=\"crayon-p\"># yum install -y rubygems</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ebd433800652-2\"><span class=\"crayon-e\">Loaded </span><span class=\"crayon-v\">plugins</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fastestmirror</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">security</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-3\"><span class=\"crayon-e\">Setting </span><span class=\"crayon-e\">up </span><span class=\"crayon-e\">Install </span><span class=\"crayon-e\">Process</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ebd433800652-4\"><span class=\"crayon-e\">Loading </span><span class=\"crayon-e\">mirror </span><span class=\"crayon-e\">speeds </span><span class=\"crayon-e\">from </span><span class=\"crayon-e\">cached </span><span class=\"crayon-e\">hostfile</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-5\"><span class=\"crayon-v\">base</span><span class=\"crayon-h\">                                                                                                                                                   </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.7</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ebd433800652-6\"><span class=\"crayon-v\">didi_jenkins_enable</span><span class=\"crayon-h\">                                                                                                                                    </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-7\"><span class=\"crayon-v\">didi_op_toa_enable</span><span class=\"crayon-h\">                                                                                                                                     </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ebd433800652-8\"><span class=\"crayon-v\">didi_txjenkins_enable</span><span class=\"crayon-h\">                                                                                                                                  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-9\"><span class=\"crayon-v\">didi_update</span><span class=\"crayon-h\">                                                                                                                                            </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ebd433800652-10\"><span class=\"crayon-v\">epel</span><span class=\"crayon-h\">                                                                                                                                                   </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4.3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-11\"><span class=\"crayon-v\">extras</span><span class=\"crayon-h\">                                                                                                                                                 </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ebd433800652-12\"><span class=\"crayon-v\">tmprepo</span><span class=\"crayon-h\">                                                                                                                                                </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-13\"><span class=\"crayon-v\">updates</span><span class=\"crayon-h\">                                                                                                                                                </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ebd433800652-14\"><span class=\"crayon-t\">Package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rubygems</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.3.7</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5.el6.noarch</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">already </span><span class=\"crayon-e\">installed </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">latest </span><span class=\"crayon-e\">version</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ebd433800652-15\"><span class=\"crayon-e\">Nothing </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0040 seconds] -->\r\n<p>到目前为止，我们的Ruby和运行redis-trib.rb需要的环境安装完成了。</p>\n<p> </p>\n<h3>3、Redis集群搭建</h3>\n<p>有了Ruby执行环境，可以开始将之前的6个实例组建成集群了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ec1875661658\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nredis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ec1875661658-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ec1875661658-1\"><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">rb  </span><span class=\"crayon-v\">create</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">replicas</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>有三个master，有三个是slave。 后面跟上6个实例就好了，形式就是ip:port</p>\n<p>【此处有坑】</p>\n<p>第一坑</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ec5451795131\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst src]# redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 \r\n-bash: redis-trib.rb: command not found\r\n[root@itfirst src]# cp redis-trib.rb /usr/local/bin\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ec5451795131-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ec5451795131-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ec5451795131-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ec5451795131-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ec5451795131-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ec5451795131-2\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bash</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">command </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">found</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ec5451795131-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cp redis-trib.rb /usr/local/bin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ec5451795131-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>需要将redis-trib.rb复制到/usr/local/bin目录下。</p>\n<p>第二坑</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ec8402044636\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst bin]# redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 \r\n&gt;&gt;&gt; Creating cluster\r\n[ERR] Node 192.168.186.91:7000 is not empty. Either the node already knows other nodes (check with CLUSTER NODES) or contains some key in database 0.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ec8402044636-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ec8402044636-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ec8402044636-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ec8402044636-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ec8402044636-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">bin</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ec8402044636-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Creating </span><span class=\"crayon-i\">cluster</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ec8402044636-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ERR</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Node</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">empty</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Either </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">node </span><span class=\"crayon-e\">already </span><span class=\"crayon-e\">knows </span><span class=\"crayon-e\">other </span><span class=\"crayon-e\">nodes</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">check </span><span class=\"crayon-e\">with </span><span class=\"crayon-e\">CLUSTER </span><span class=\"crayon-v\">NODES</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">contains </span><span class=\"crayon-e\">some </span><span class=\"crayon-e\">key </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">database</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ec8402044636-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>踩完第一坑后，继续执行，发现了第二坑，还好有度娘，但是网上各种说法都有（主要参照了《<a href=\"http://blog.csdn.net/u014756827/article/details/52061987\" rel=\"nofollow\">极客on之路</a>》的博客），发现错误的原因是redis数据库没有清除。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ecc689017359\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst src]# redis-cli -h 192.168.186.91 -p 7001\r\n192.168.186.91:7001&gt; flushdb\r\nOK\r\n192.168.186.91:7001&gt; quit\r\n[root@itfirst src]# redis-cli -h 192.168.186.91 -p 7002\r\n192.168.186.91:7002&gt; flushdb\r\nOK\r\n192.168.186.91:7002&gt; quit\r\n[root@itfirst src]# redis-cli -h 192.168.186.91 -p 7003\r\n192.168.186.91:7003&gt; flushdb\r\nOK\r\n192.168.186.91:7003&gt; quit\r\n[root@itfirst src]# redis-cli -h 192.168.186.91 -p 7004\r\n192.168.186.91:7004&gt; flushdb\r\nOK\r\n192.168.186.91:7004&gt; quit\r\n[root@itfirst src]# redis-cli -h 192.168.186.91 -p 7005\r\n192.168.186.91:7005&gt; flushdb\r\nOK\r\n192.168.186.91:7005&gt; quit\r\n[root@itfirst src]# redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 \r\n&gt;&gt;&gt; Creating cluster\r\n&gt;&gt;&gt; Performing hash slots allocation on 6 nodes...\r\nUsing 3 masters:\r\n192.168.186.91:7000\r\n192.168.186.91:7001\r\n192.168.186.91:7002\r\nAdding replica 192.168.186.91:7003 to 192.168.186.91:7000\r\nAdding replica 192.168.186.91:7004 to 192.168.186.91:7001\r\nAdding replica 192.168.186.91:7005 to 192.168.186.91:7002\r\nM: 61b2b608177374fd0382c872f996a2c25f62daac 192.168.186.91:7000\r\n   slots:0-5460,9189 (5462 slots) master\r\nM: 50e678c98c31baa4ece1cba096cc34b4545456f3 192.168.186.91:7001\r\n   slots:5461-10922 (5462 slots) master\r\nM: b8dc855a92d1c9a6e358380286a757011c40601d 192.168.186.91:7002\r\n   slots:9189,10923-16383 (5462 slots) master\r\nS: 42392d8b4665500b3229b5c5b9dcebed311c9cdf 192.168.186.91:7003\r\n   replicates 61b2b608177374fd0382c872f996a2c25f62daac\r\nS: 4e8cd9bae1dc0ffa63a3b8315e3f92b0490e65f8 192.168.186.91:7004\r\n   replicates 50e678c98c31baa4ece1cba096cc34b4545456f3\r\nS: 3344981c3290c39b0d9f427842398c17de835293 192.168.186.91:7005\r\n   replicates b8dc855a92d1c9a6e358380286a757011c40601d\r\nCan I set the above configuration? (type 'yes' to accept): yes\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis/client.rb:119:in `call': ERR Slot 9189 is already busy (Redis::CommandError)\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2764:in `block in method_missing'\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:45:in `block in synchronize'\r\n\tfrom /usr/local/rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:45:in `synchronize'\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2763:in `method_missing'\r\n\tfrom /usr/local/bin/redis-trib.rb:212:in `flush_node_config'\r\n\tfrom /usr/local/bin/redis-trib.rb:776:in `block in flush_nodes_config'\r\n\tfrom /usr/local/bin/redis-trib.rb:775:in `each'\r\n\tfrom /usr/local/bin/redis-trib.rb:775:in `flush_nodes_config'\r\n\tfrom /usr/local/bin/redis-trib.rb:1296:in `create_cluster_cmd'\r\n\tfrom /usr/local/bin/redis-trib.rb:1696:in `&lt;main&gt;'\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ecc689017359-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ecc689017359-56\">56</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-cli -h 192.168.186.91 -p 7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-2\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">flushdb</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-3\"><span class=\"crayon-i\">OK</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-4\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">quit</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-5\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-cli -h 192.168.186.91 -p 7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-6\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">flushdb</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-7\"><span class=\"crayon-i\">OK</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-8\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">quit</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-9\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-cli -h 192.168.186.91 -p 7003</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-10\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">flushdb</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-11\"><span class=\"crayon-i\">OK</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-12\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">quit</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-13\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-cli -h 192.168.186.91 -p 7004</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-14\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">flushdb</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-15\"><span class=\"crayon-i\">OK</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-16\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">quit</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-17\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-cli -h 192.168.186.91 -p 7005</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-18\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">flushdb</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-19\"><span class=\"crayon-i\">OK</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-20\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">quit</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-21\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-22\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Creating </span><span class=\"crayon-v\">cluster</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-23\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Performing </span><span class=\"crayon-e\">hash </span><span class=\"crayon-e\">slots </span><span class=\"crayon-e\">allocation </span><span class=\"crayon-i\">on</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-24\"><span class=\"crayon-i\">Using</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">masters</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-25\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-26\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-27\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-28\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-29\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-30\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-31\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">61b2b608177374fd0382c872f996a2c25f62daac</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-32\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5460</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">9189</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-33\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">50e678c98c31baa4ece1cba096cc34b4545456f3</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-34\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10922</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-35\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">b8dc855a92d1c9a6e358380286a757011c40601d</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-36\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">9189</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">10923</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">16383</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-37\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">42392d8b4665500b3229b5c5b9dcebed311c9cdf</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-38\"><span class=\"crayon-h\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">61b2b608177374fd0382c872f996a2c25f62daac</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-39\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4e8cd9bae1dc0ffa63a3b8315e3f92b0490e65f8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-40\"><span class=\"crayon-h\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">50e678c98c31baa4ece1cba096cc34b4545456f3</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-41\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3344981c3290c39b0d9f427842398c17de835293</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-42\"><span class=\"crayon-h\">   </span><span class=\"crayon-e\">replicates </span><span class=\"crayon-e\">b8dc855a92d1c9a6e358380286a757011c40601d</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-43\"><span class=\"crayon-i\">Can</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">I</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">configuration</span><span class=\"crayon-sy\">?</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yes'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">accept</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">yes</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-44\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">119</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">call</span><span class=\"crayon-s\">': ERR Slot 9189 is already busy (Redis::CommandError)</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-45\"><span class=\"crayon-s\">\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2764:in `block in method_missing'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-46\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">45</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">block </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">synchronize</span><span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-47\"><span class=\"crayon-s\">\tfrom /usr/local/rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-48\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">45</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">synchronize</span><span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-49\"><span class=\"crayon-s\">\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2763:in `method_missing'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-50\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">212</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">flush_node</span><span class=\"crayon-sy\">_</span>config<span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-51\"><span class=\"crayon-s\">\tfrom /usr/local/bin/redis-trib.rb:776:in `block in flush_nodes_config'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-52\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">775</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-st\">each</span><span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-53\"><span class=\"crayon-s\">\tfrom /usr/local/bin/redis-trib.rb:775:in `flush_nodes_config'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-54\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1296</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">create_cluster</span><span class=\"crayon-sy\">_</span>cmd<span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ecc689017359-55\"><span class=\"crayon-s\">\tfrom /usr/local/bin/redis-trib.rb:1696:in `&lt;main&gt;'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ecc689017359-56\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0185 seconds] -->\r\n<p>第三坑</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ed3934533922\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst src]# redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 \r\n&gt;&gt;&gt; Creating cluster\r\n&gt;&gt;&gt; Performing hash slots allocation on 6 nodes...\r\nUsing 3 masters:\r\n192.168.186.91:7000\r\n192.168.186.91:7001\r\n192.168.186.91:7002\r\nAdding replica 192.168.186.91:7003 to 192.168.186.91:7000\r\nAdding replica 192.168.186.91:7004 to 192.168.186.91:7001\r\nAdding replica 192.168.186.91:7005 to 192.168.186.91:7002\r\nM: 61b2b608177374fd0382c872f996a2c25f62daac 192.168.186.91:7000\r\n   slots:0-5460,9189 (5462 slots) master\r\nM: 50e678c98c31baa4ece1cba096cc34b4545456f3 192.168.186.91:7001\r\n   slots:5461-10922 (5462 slots) master\r\nM: b8dc855a92d1c9a6e358380286a757011c40601d 192.168.186.91:7002\r\n   slots:9189,10923-16383 (5462 slots) master\r\nS: 42392d8b4665500b3229b5c5b9dcebed311c9cdf 192.168.186.91:7003\r\n   replicates 61b2b608177374fd0382c872f996a2c25f62daac\r\nS: 4e8cd9bae1dc0ffa63a3b8315e3f92b0490e65f8 192.168.186.91:7004\r\n   replicates 50e678c98c31baa4ece1cba096cc34b4545456f3\r\nS: 3344981c3290c39b0d9f427842398c17de835293 192.168.186.91:7005\r\n   replicates b8dc855a92d1c9a6e358380286a757011c40601d\r\nCan I set the above configuration? (type 'yes' to accept): yes\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis/client.rb:119:in `call': ERR Slot 9189 is already busy (Redis::CommandError)\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2764:in `block in method_missing'\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:45:in `block in synchronize'\r\n\tfrom /usr/local/rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:45:in `synchronize'\r\n\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2763:in `method_missing'\r\n\tfrom /usr/local/bin/redis-trib.rb:212:in `flush_node_config'\r\n\tfrom /usr/local/bin/redis-trib.rb:776:in `block in flush_nodes_config'\r\n\tfrom /usr/local/bin/redis-trib.rb:775:in `each'\r\n\tfrom /usr/local/bin/redis-trib.rb:775:in `flush_nodes_config'\r\n\tfrom /usr/local/bin/redis-trib.rb:1296:in `create_cluster_cmd'\r\n\tfrom /usr/local/bin/redis-trib.rb:1696:in `&lt;main&gt;'\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed3934533922-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed3934533922-36\">36</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Creating </span><span class=\"crayon-v\">cluster</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Performing </span><span class=\"crayon-e\">hash </span><span class=\"crayon-e\">slots </span><span class=\"crayon-e\">allocation </span><span class=\"crayon-i\">on</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-4\"><span class=\"crayon-i\">Using</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">masters</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-5\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-6\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-7\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-8\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-9\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-10\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-11\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">61b2b608177374fd0382c872f996a2c25f62daac</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-12\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5460</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">9189</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-13\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">50e678c98c31baa4ece1cba096cc34b4545456f3</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-14\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10922</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-15\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">b8dc855a92d1c9a6e358380286a757011c40601d</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-16\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">9189</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">10923</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">16383</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-17\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">42392d8b4665500b3229b5c5b9dcebed311c9cdf</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-18\"><span class=\"crayon-h\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">61b2b608177374fd0382c872f996a2c25f62daac</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-19\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4e8cd9bae1dc0ffa63a3b8315e3f92b0490e65f8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-20\"><span class=\"crayon-h\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">50e678c98c31baa4ece1cba096cc34b4545456f3</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-21\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3344981c3290c39b0d9f427842398c17de835293</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-22\"><span class=\"crayon-h\">   </span><span class=\"crayon-e\">replicates </span><span class=\"crayon-e\">b8dc855a92d1c9a6e358380286a757011c40601d</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-23\"><span class=\"crayon-i\">Can</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">I</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">configuration</span><span class=\"crayon-sy\">?</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yes'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">accept</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">yes</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-24\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">119</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">call</span><span class=\"crayon-s\">': ERR Slot 9189 is already busy (Redis::CommandError)</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-25\"><span class=\"crayon-s\">\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2764:in `block in method_missing'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-26\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">45</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">block </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">synchronize</span><span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-27\"><span class=\"crayon-s\">\tfrom /usr/local/rvm/rubies/ruby-2.3.0/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-28\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rvm</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ruby</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2.3.0</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">gems</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">4.0.1</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">45</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">synchronize</span><span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-29\"><span class=\"crayon-s\">\tfrom /usr/local/rvm/gems/ruby-2.3.0/gems/redis-4.0.1/lib/redis.rb:2763:in `method_missing'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-30\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">212</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">flush_node</span><span class=\"crayon-sy\">_</span>config<span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-31\"><span class=\"crayon-s\">\tfrom /usr/local/bin/redis-trib.rb:776:in `block in flush_nodes_config'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-32\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">775</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-st\">each</span><span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-33\"><span class=\"crayon-s\">\tfrom /usr/local/bin/redis-trib.rb:775:in `flush_nodes_config'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-34\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rb</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1296</span><span class=\"crayon-o\">:</span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">create_cluster</span><span class=\"crayon-sy\">_</span>cmd<span class=\"crayon-s\">'</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed3934533922-35\"><span class=\"crayon-s\">\tfrom /usr/local/bin/redis-trib.rb:1696:in `&lt;main&gt;'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed3934533922-36\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0272 seconds] -->\r\n<p>还是度娘靠谱，在《<a href=\"http://blog.csdn.net/tengdazhang770960436/article/details/49962979\" rel=\"nofollow\">redis 跨机器集群启动出错</a>》博客中找到了答案。</p>\n<p>这是由于之间创建集群没有成功,需要将nodes.conf和dir里面的文件全部删除。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ed8807527323\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst 7000]# find / -name \"nodes-7000.conf\"\r\n/usr/local/redis-3.2.3/src/nodes-7000.conf\r\n[root@itfirst 7000]# cd ../../\r\n[root@itfirst src]# ls\r\nadlist.c     bitops.o      dict.h         lzf_c.o          notify.c         redis-benchmark.c  rio.c           slowlog.h       t_zset.o\r\nadlist.h     blocked.c     dict.o         lzf_d.c          notify.o         redis-benchmark.o  rio.h           slowlog.o       util.c\r\nadlist.o     blocked.o     dump.rdb       lzf_d.o          object.c         redis-check-aof    rio.o           solarisfixes.h  util.h\r\nae.c         cluster.c     endianconv.c   lzf.h            object.o         redis-check-aof.c  scripting.c     sort.c          util.o\r\nae_epoll.c   cluster.h     endianconv.h   lzfP.h           pqsort.c         redis-check-aof.o  scripting.o     sort.o          valgrind.sup\r\nae_evport.c  cluster.o     endianconv.o   Makefile         pqsort.h         redis-check-rdb    sdsalloc.h      sparkline.c     version.h\r\nae.h         config.c      fmacros.h      Makefile.dep     pqsort.o         redis-check-rdb.c  sds.c           sparkline.h     ziplist.c\r\nae_kqueue.c  config.h      geo.c          memtest.c        pubsub.c         redis-check-rdb.o  sds.h           sparkline.o     ziplist.h\r\nae.o         config.o      geo.h          memtest.o        pubsub.o         redis-cli          sds.o           syncio.c        ziplist.o\r\nae_select.c  crc16.c       geo.o          mkreleasehdr.sh  quicklist.c      redis-cli.c        sentinel.c      syncio.o        zipmap.c\r\nanet.c       crc16.o       help.h         multi.c          quicklist.h      redis-cli.o        sentinel.o      testhelp.h      zipmap.h\r\nanet.h       crc64.c       hyperloglog.c  multi.o          quicklist.o      redis_cluster      server.c        t_hash.c        zipmap.o\r\nanet.o       crc64.h       hyperloglog.o  networking.c     rand.c           redis-sentinel     server.h        t_hash.o        zmalloc.c\r\naof.c        crc64.o       intset.c       networking.o     rand.h           redis-server       server.o        t_list.c        zmalloc.h\r\naof.o        db.c          intset.h       nodes-7000.conf  rand.o           redis-trib.rb      setproctitle.c  t_list.o        zmalloc.o\r\nasciilogo.h  db.o          intset.o       nodes-7001.conf  rdb.c            release.c          setproctitle.o  t_set.c\r\nbio.c        debug.c       latency.c      nodes-7002.conf  rdb.h            release.h          sha1.c          t_set.o\r\nbio.h        debugmacro.h  latency.h      nodes-7003.conf  rdb.o            release.o          sha1.h          t_string.c\r\nbio.o        debug.o       latency.o      nodes-7004.conf  redisassert.h    replication.c      sha1.o          t_string.o\r\nbitops.c     dict.c        lzf_c.c        nodes-7005.conf  redis-benchmark  replication.o      slowlog.c       t_zset.c\r\n[root@itfirst src]# rm -rf nodes-700*\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ed8807527323-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ed8807527323-26\">26</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7000</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># find / -name \"nodes-7000.conf\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">3.2.3</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">src</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nodes</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7000.conf</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">itfirst</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7000</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cd ../../</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ls</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-5\"><span class=\"crayon-v\">adlist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">bitops</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">dict</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">lzf_c</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">notify</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">benchmark</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">rio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">slowlog</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">t_zset</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-6\"><span class=\"crayon-v\">adlist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">blocked</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">dict</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">lzf_d</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">notify</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">benchmark</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">rio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">slowlog</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-7\"><span class=\"crayon-v\">adlist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">blocked</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">dump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">rdb       </span><span class=\"crayon-v\">lzf_d</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-t\">object</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">check</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">aof    </span><span class=\"crayon-v\">rio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">solarisfixes</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-8\"><span class=\"crayon-v\">ae</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">endianconv</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">lzf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">            </span><span class=\"crayon-t\">object</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">check</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">aof</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">scripting</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">sort</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">util</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-9\"><span class=\"crayon-v\">ae_epoll</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">endianconv</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">lzfP</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">pqsort</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">check</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">aof</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">scripting</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">sort</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">valgrind</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sup</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-10\"><span class=\"crayon-v\">ae_evport</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">cluster</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">endianconv</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">Makefile         </span><span class=\"crayon-v\">pqsort</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">check</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">rdb    </span><span class=\"crayon-v\">sdsalloc</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">sparkline</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">version</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-11\"><span class=\"crayon-v\">ae</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">config</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">fmacros</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">Makefile</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dep     </span><span class=\"crayon-v\">pqsort</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">check</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">sds</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">sparkline</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">ziplist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-12\"><span class=\"crayon-v\">ae_kqueue</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">config</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">geo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">memtest</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">pubsub</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">check</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">sds</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">sparkline</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">ziplist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-13\"><span class=\"crayon-v\">ae</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">config</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">geo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">memtest</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">pubsub</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">cli          </span><span class=\"crayon-v\">sds</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">syncio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">ziplist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-14\"><span class=\"crayon-v\">ae_select</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">crc16</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">geo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">mkreleasehdr</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sh  </span><span class=\"crayon-v\">quicklist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">cli</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sentinel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">syncio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">zipmap</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-15\"><span class=\"crayon-v\">anet</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">crc16</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">help</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">         </span><span class=\"crayon-v\">multi</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">quicklist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">cli</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sentinel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">testhelp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">zipmap</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-16\"><span class=\"crayon-v\">anet</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">crc64</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">hyperloglog</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">multi</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">quicklist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">      </span><span class=\"crayon-e\">redis_cluster      </span><span class=\"crayon-v\">server</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">t_hash</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">zipmap</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-17\"><span class=\"crayon-v\">anet</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">crc64</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">hyperloglog</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">networking</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">rand</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">sentinel     </span><span class=\"crayon-v\">server</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">t_hash</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">zmalloc</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-18\"><span class=\"crayon-v\">aof</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">crc64</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">intset</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">networking</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">rand</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">server       </span><span class=\"crayon-v\">server</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">t_list</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">zmalloc</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-19\"><span class=\"crayon-v\">aof</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">db</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">intset</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7000.conf</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">rand</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">           </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">trib</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">rb      </span><span class=\"crayon-v\">setproctitle</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">t_list</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">zmalloc</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-20\"><span class=\"crayon-v\">asciilogo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">db</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">intset</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7001.conf</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">rdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">            </span><span class=\"crayon-v\">release</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">setproctitle</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">t_set</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-21\"><span class=\"crayon-v\">bio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">debug</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">latency</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7002.conf</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">rdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">            </span><span class=\"crayon-v\">release</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">sha1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">t_set</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-22\"><span class=\"crayon-v\">bio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">debugmacro</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">latency</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7003.conf</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">rdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">            </span><span class=\"crayon-v\">release</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">sha1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">t_string</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-23\"><span class=\"crayon-v\">bio</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">debug</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">latency</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7004.conf</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">redisassert</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">    </span><span class=\"crayon-v\">replication</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">sha1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">          </span><span class=\"crayon-v\">t_string</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-24\"><span class=\"crayon-v\">bitops</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">dict</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">lzf_c</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">        </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7005.conf</span><span class=\"crayon-h\">  </span><span class=\"crayon-v\">redis</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">benchmark  </span><span class=\"crayon-v\">replication</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">slowlog</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\">       </span><span class=\"crayon-v\">t_zset</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">c</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ed8807527323-25\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># rm -rf nodes-700*</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ed8807527323-26\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0160 seconds] -->\r\n<p>然后重启redis服务。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ee0247019201\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst src]# redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 \r\n&gt;&gt;&gt; Creating cluster\r\n&gt;&gt;&gt; Performing hash slots allocation on 6 nodes...\r\nUsing 3 masters:\r\n192.168.186.91:7000\r\n192.168.186.91:7001\r\n192.168.186.91:7002\r\nAdding replica 192.168.186.91:7003 to 192.168.186.91:7000\r\nAdding replica 192.168.186.91:7004 to 192.168.186.91:7001\r\nAdding replica 192.168.186.91:7005 to 192.168.186.91:7002\r\nM: 319da27d8668a15d2d2d02afe433247694343459 192.168.186.91:7000\r\n   slots:0-5460 (5461 slots) master\r\nM: 3da756265e301ac0210760f13e990473f87a3017 192.168.186.91:7001\r\n   slots:5461-10922 (5462 slots) master\r\nM: 6f336da48c892d8e0c541a864765978ebfbca6d5 192.168.186.91:7002\r\n   slots:10923-16383 (5461 slots) master\r\nS: ff4cf9d8a141d85c478b9af0358c93bca342c236 192.168.186.91:7003\r\n   replicates 319da27d8668a15d2d2d02afe433247694343459\r\nS: 43c2e0d7799e84b449803a68d557c3431e9e047e 192.168.186.91:7004\r\n   replicates 3da756265e301ac0210760f13e990473f87a3017\r\nS: 3f174fae106cb6cf7e7f21ed844895ed7c18f793 192.168.186.91:7005\r\n   replicates 6f336da48c892d8e0c541a864765978ebfbca6d5\r\nCan I set the above configuration? (type 'yes' to accept): yes\r\n&gt;&gt;&gt; Nodes configuration updated\r\n&gt;&gt;&gt; Assign a different config epoch to each node\r\n&gt;&gt;&gt; Sending CLUSTER MEET messages to join the cluster\r\nWaiting for the cluster to join....\r\n&gt;&gt;&gt; Performing Cluster Check (using node 192.168.186.91:7000)\r\nM: 319da27d8668a15d2d2d02afe433247694343459 192.168.186.91:7000\r\n   slots:0-5460 (5461 slots) master\r\nM: 3da756265e301ac0210760f13e990473f87a3017 192.168.186.91:7001\r\n   slots:5461-10922 (5462 slots) master\r\nM: 6f336da48c892d8e0c541a864765978ebfbca6d5 192.168.186.91:7002\r\n   slots:10923-16383 (5461 slots) master\r\nM: ff4cf9d8a141d85c478b9af0358c93bca342c236 192.168.186.91:7003\r\n   slots: (0 slots) master\r\n   replicates 319da27d8668a15d2d2d02afe433247694343459\r\nM: 43c2e0d7799e84b449803a68d557c3431e9e047e 192.168.186.91:7004\r\n   slots: (0 slots) master\r\n   replicates 3da756265e301ac0210760f13e990473f87a3017\r\nM: 3f174fae106cb6cf7e7f21ed844895ed7c18f793 192.168.186.91:7005\r\n   slots: (0 slots) master\r\n   replicates 6f336da48c892d8e0c541a864765978ebfbca6d5\r\n[OK] All nodes agree about slots configuration.\r\n&gt;&gt;&gt; Check for open slots...\r\n&gt;&gt;&gt; Check slots coverage...\r\n[OK] All 16384 slots covered.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ee0247019201-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ee0247019201-48\">48</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-trib.rb  create  --replicas  1 192.168.186.91:7000 192.168.186.91:7001 192.168.186.91:7002 192.168.186.91:7003 192.168.186.91:7004 192.168.186.91:7005 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-2\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Creating </span><span class=\"crayon-v\">cluster</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-3\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Performing </span><span class=\"crayon-e\">hash </span><span class=\"crayon-e\">slots </span><span class=\"crayon-e\">allocation </span><span class=\"crayon-i\">on</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nodes</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-4\"><span class=\"crayon-i\">Using</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">masters</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-5\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-6\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-7\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-8\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-9\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-10\"><span class=\"crayon-e\">Adding </span><span class=\"crayon-i\">replica</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-11\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">319da27d8668a15d2d2d02afe433247694343459</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-12\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5460</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-13\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3da756265e301ac0210760f13e990473f87a3017</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-14\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10922</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-15\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6f336da48c892d8e0c541a864765978ebfbca6d5</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-16\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">10923</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">16383</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-17\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ff4cf9d8a141d85c478b9af0358c93bca342c236</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-18\"><span class=\"crayon-h\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">319da27d8668a15d2d2d02afe433247694343459</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-19\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">43c2e0d7799e84b449803a68d557c3431e9e047e</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-20\"><span class=\"crayon-h\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3da756265e301ac0210760f13e990473f87a3017</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-21\"><span class=\"crayon-v\">S</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3f174fae106cb6cf7e7f21ed844895ed7c18f793</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-22\"><span class=\"crayon-h\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6f336da48c892d8e0c541a864765978ebfbca6d5</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-23\"><span class=\"crayon-i\">Can</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">I</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">configuration</span><span class=\"crayon-sy\">?</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yes'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">accept</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">yes</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-24\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Nodes </span><span class=\"crayon-e\">configuration </span><span class=\"crayon-v\">updated</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-25\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Assign</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">different </span><span class=\"crayon-e\">config </span><span class=\"crayon-e\">epoch </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">each</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">node</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-26\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Sending </span><span class=\"crayon-e\">CLUSTER </span><span class=\"crayon-e\">MEET </span><span class=\"crayon-e\">messages </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">join </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">cluster</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-27\"><span class=\"crayon-e\">Waiting </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">cluster </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">join</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-28\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Performing </span><span class=\"crayon-e\">Cluster </span><span class=\"crayon-e\">Check</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">using </span><span class=\"crayon-i\">node</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-29\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">319da27d8668a15d2d2d02afe433247694343459</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-30\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5460</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-31\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3da756265e301ac0210760f13e990473f87a3017</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-32\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10922</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5462</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-33\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6f336da48c892d8e0c541a864765978ebfbca6d5</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-34\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">10923</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">16383</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5461</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-35\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ff4cf9d8a141d85c478b9af0358c93bca342c236</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-36\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-37\"><span class=\"crayon-e\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">319da27d8668a15d2d2d02afe433247694343459</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-38\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">43c2e0d7799e84b449803a68d557c3431e9e047e</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-39\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">master</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-40\"><span class=\"crayon-e\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3da756265e301ac0210760f13e990473f87a3017</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-41\"><span class=\"crayon-v\">M</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3f174fae106cb6cf7e7f21ed844895ed7c18f793</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-42\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">slots</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">master</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-43\"><span class=\"crayon-e\">   </span><span class=\"crayon-i\">replicates</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6f336da48c892d8e0c541a864765978ebfbca6d5</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-44\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">All </span><span class=\"crayon-e\">nodes </span><span class=\"crayon-e\">agree </span><span class=\"crayon-e\">about </span><span class=\"crayon-e\">slots </span><span class=\"crayon-v\">configuration</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-45\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Check </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open </span><span class=\"crayon-v\">slots</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-46\"><span class=\"crayon-o\">&gt;&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Check </span><span class=\"crayon-e\">slots </span><span class=\"crayon-v\">coverage</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ee0247019201-47\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">All</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">16384</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">slots </span><span class=\"crayon-v\">covered</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ee0247019201-48\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0271 seconds] -->\r\n<p> </p>\n<h3>4、验证集群状态</h3>\n<p>登录集群客户端，-c标识以集群方式登录</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512eec563956961\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@itfirst src]# redis-cli -h 192.168.186.91 -c -p 7002</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512eec563956961-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512eec563956961-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">itfirst </span><span class=\"crayon-v\">src</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># redis-cli -h 192.168.186.91 -c -p 7002</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>查看集群状态</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975512ef0695948763\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n192.168.186.91:7002&gt; cluster info\r\ncluster_state:ok\r\ncluster_slots_assigned:16384\r\ncluster_slots_ok:16384\r\ncluster_slots_pfail:0\r\ncluster_slots_fail:0\r\ncluster_known_nodes:6\r\ncluster_size:3\r\ncluster_current_epoch:6\r\ncluster_my_epoch:3\r\ncluster_stats_messages_sent:124174\r\ncluster_stats_messages_received:124174\r\n192.168.186.91:7002&gt; cluster nodes\r\n319da27d8668a15d2d2d02afe433247694343459 192.168.186.91:7000 master - 0 1519465974307 1 connected 0-5460\r\n3f174fae106cb6cf7e7f21ed844895ed7c18f793 192.168.186.91:7005 slave 6f336da48c892d8e0c541a864765978ebfbca6d5 0 1519465971278 6 connected\r\n6f336da48c892d8e0c541a864765978ebfbca6d5 192.168.186.91:7002 myself,master - 0 0 3 connected 10923-16383\r\n3da756265e301ac0210760f13e990473f87a3017 192.168.186.91:7001 master - 0 1519465972288 2 connected 5461-10922\r\n43c2e0d7799e84b449803a68d557c3431e9e047e 192.168.186.91:7004 slave 3da756265e301ac0210760f13e990473f87a3017 0 1519465973298 5 connected\r\nff4cf9d8a141d85c478b9af0358c93bca342c236 192.168.186.91:7003 slave 319da27d8668a15d2d2d02afe433247694343459 0 1519465969258 4 connected\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975512ef0695948763-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975512ef0695948763-20\">20</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-1\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cluster </span><span class=\"crayon-e\">info</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-2\"><span class=\"crayon-v\">cluster_state</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">ok</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-3\"><span class=\"crayon-v\">cluster_slots_assigned</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">16384</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-4\"><span class=\"crayon-v\">cluster_slots_ok</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">16384</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-5\"><span class=\"crayon-v\">cluster_slots_pfail</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-6\"><span class=\"crayon-v\">cluster_slots_fail</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-7\"><span class=\"crayon-v\">cluster_known_nodes</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">6</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-8\"><span class=\"crayon-v\">cluster_size</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-9\"><span class=\"crayon-v\">cluster_current_epoch</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">6</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-10\"><span class=\"crayon-v\">cluster_my_epoch</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-11\"><span class=\"crayon-v\">cluster_stats_messages_sent</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">124174</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-12\"><span class=\"crayon-v\">cluster_stats_messages_received</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">124174</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-13\"><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cluster </span><span class=\"crayon-i\">nodes</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-14\"><span class=\"crayon-cn\">319da27d8668a15d2d2d02afe433247694343459</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7000</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">master</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1519465974307</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">connected</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5460</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-15\"><span class=\"crayon-cn\">3f174fae106cb6cf7e7f21ed844895ed7c18f793</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7005</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">slave</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6f336da48c892d8e0c541a864765978ebfbca6d5</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1519465971278</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">connected</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-16\"><span class=\"crayon-cn\">6f336da48c892d8e0c541a864765978ebfbca6d5</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">myself</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">master</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">connected</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10923</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">16383</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-17\"><span class=\"crayon-cn\">3da756265e301ac0210760f13e990473f87a3017</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7001</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">master</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1519465972288</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">connected</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5461</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10922</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-18\"><span class=\"crayon-cn\">43c2e0d7799e84b449803a68d557c3431e9e047e</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7004</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">slave</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3da756265e301ac0210760f13e990473f87a3017</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1519465973298</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">connected</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975512ef0695948763-19\"><span class=\"crayon-i\">ff4cf9d8a141d85c478b9af0358c93bca342c236</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">192.168.186.91</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7003</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">slave</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">319da27d8668a15d2d2d02afe433247694343459</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1519465969258</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">connected</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975512ef0695948763-20\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0042 seconds] -->\r\n<p></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113760\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113760votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113760\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/d1b17b98748a74826464a08e6d30a4ee1b15b171.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/77d80105fd15f2465894827e23cc4842.jpeg"], "fav_nums": 3, "url": "http://blog.jobbole.com/113737/", "url_object_id": "44f879688ac007f05bd74cdf86522e39", "comment_nums": 1, "praise_nums": "1", "create_date": "2018-03-11", "title": "给 “rm” 命令添加个“垃圾桶”", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.2daygeek.com/rm-command-to-move-files-to-trash-can-rm-alias/\">2daygeek</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9425-1.html\">Linux中国/amwps290</a>   </div><p>人类犯错误是因为我们不是一个可编程设备，所以，在使用 <code>rm</code> 命令时要额外注意，不要在任何时候使用 <code>rm -rf *</code>。当你使用 <code>rm</code> 命令时，它会永久删除文件，不会像文件管理器那样将这些文件移动到 “垃圾箱”。</p>\n<p>有时我们会将不应该删除的文件删除掉，所以当错误地删除了文件时该怎么办？ 你必须看看恢复工具（Linux 中有很多数据恢复工具），但我们不知道是否能将它百分之百恢复，所以要如何解决这个问题？</p>\n<p>我们最近发表了一篇关于 <a href=\"https://www.2daygeek.com/trash-cli-command-line-trashcan-linux-system/\">Trash-Cli</a> 的文章，在评论部分，我们从用户 Eemil Lgz 那里获得了一个关于 <a href=\"https://github.com/lagerspetz/linux-stuff/blob/master/scripts/saferm.sh\">saferm.sh</a> 脚本的更新，它可以帮助我们将文件移动到“垃圾箱”而不是永久删除它们。</p>\n<p>将文件移动到“垃圾桶”是一个好主意，当你无意中运行 <code>rm</code> 命令时，可以拯救你；但是很少有人会说这是一个坏习惯，如果你不注意“垃圾桶”，它可能会在一定的时间内被文件和文件夹堆积起来。在这种情况下，我建议你按照你的意愿去做一个定时任务。</p>\n<p>这适用于服务器和桌面两种环境。 如果脚本检测到 GNOME 、KDE、Unity 或 LXDE 桌面环境（DE），则它将文件或文件夹安全地移动到默认垃圾箱 <code>$HOME/.local/share/Trash/files</code>，否则会在您的主目录中创建垃圾箱文件夹 <code>$HOME/Trash</code>。</p>\n<p><code>saferm.sh</code> 脚本托管在 Github 中，可以从仓库中克隆，也可以创建一个名为 <code>saferm.sh</code> 的文件并复制其上的代码。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39755354ee885105832\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ git clone https://github.com/lagerspetz/linux-stuff\r\n$ sudo mv linux-stuff/scripts/saferm.sh /bin\r\n$ rm -Rf linux-stuff\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39755354ee885105832-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755354ee885105832-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39755354ee885105832-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755354ee885105832-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39755354ee885105832-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">git </span><span class=\"crayon-r\">clone</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//github.com/lagerspetz/linux-stuff</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755354ee885105832-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">mv </span><span class=\"crayon-v\">linux</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">stuff</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">scripts</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">saferm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">bin</span></div><div class=\"crayon-line\" id=\"crayon-5ac39755354ee885105832-3\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rm</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">Rf </span><span class=\"crayon-v\">linux</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">stuff</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755354ee885105832-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>在 <code>.bashrc</code> 文件中设置别名，</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39755354fa481614525\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias rm=saferm.sh\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39755354fa481614525-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755354fa481614525-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39755354fa481614525-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">rm</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">saferm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755354fa481614525-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>执行下面的命令使其生效，</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39755354fe755594035\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ source ~/.bashrc\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39755354fe755594035-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39755354fe755594035-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39755354fe755594035-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">bashrc</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39755354fe755594035-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>一切就绪，现在你可以执行 <code>rm</code> 命令，自动将文件移动到”垃圾桶”，而不是永久删除它们。</p>\n<p>测试一下，我们将删除一个名为 <code>magi.txt</code> 的文件，命令行明确的提醒了 <code>Moving magi.txt to $HOME/.local/share/Trash/file</code>。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975535501563118676\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ rm -rf magi.txt\r\nMoving magi.txt to /home/magi/.local/share/Trash/files\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975535501563118676-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975535501563118676-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975535501563118676-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975535501563118676-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rm</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">rf </span><span class=\"crayon-v\">magi</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975535501563118676-2\"><span class=\"crayon-e\">Moving </span><span class=\"crayon-v\">magi</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">magi</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">share</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Trash</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">files</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975535501563118676-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>也可以通过 <code>ls</code> 命令或 <code>trash-cli</code> 进行验证。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975535507196233922\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ ls -lh /home/magi/.local/share/Trash/files\r\nPermissions Size User Date Modified Name\r\n.rw-r--r-- 32 magi 11 Oct 16:24 magi.txt    \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975535507196233922-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975535507196233922-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975535507196233922-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975535507196233922-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975535507196233922-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">magi</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">share</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Trash</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">files</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975535507196233922-2\"><span class=\"crayon-e\">Permissions </span><span class=\"crayon-e\">Size </span><span class=\"crayon-e\">User </span><span class=\"crayon-e\">Date </span><span class=\"crayon-e\">Modified </span><span class=\"crayon-i\">Name</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975535507196233922-3\"><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">32</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">magi</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Oct</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">16</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">24</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">magi</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span><span class=\"crayon-h\">    </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975535507196233922-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>或者我们可以通过文件管理器界面中查看相同的内容。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2018/03/a21377f62f1d9e9057d4bd7380a6acf7.png\" alt=\"![][3]\"></p>\n<p>（LCTT 译注：原文此处混淆了部分 trash-cli 的内容，考虑到文章衔接和逻辑，此处略。）</p>\n<p>要了解 <code>saferm.sh</code> 的其他选项，请查看帮助。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397553550b537065271\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ saferm.sh -h\r\nThis is saferm.sh 1.16. LXDE and Gnome3 detection.\r\nWill ask to unsafe-delete instead of cross-fs move. Allows unsafe (regular rm) delete (ignores trashinfo).\r\nCreates trash and trashinfo directories if they do not exist. Handles symbolic link deletion.\r\nDoes not complain about different user any more.\r\n\r\nUsage: /path/to/saferm.sh [OPTIONS] [--] files and dirs to safely remove\r\nOPTIONS:\r\n-r      allows recursively removing directories.\r\n-f      Allow deleting special files (devices, ...).\r\n-u      Unsafe mode, bypass trash and delete files permanently.\r\n-v      Verbose, prints more messages. Default in this version.\r\n-q      Quiet mode. Opposite of verbose.\r\n\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397553550b537065271-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397553550b537065271-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397553550b537065271-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397553550b537065271-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397553550b537065271-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397553550b537065271-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397553550b537065271-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac397553550b537065271-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">saferm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">h</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397553550b537065271-2\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">saferm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.16.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LXDE </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Gnome3 </span><span class=\"crayon-v\">detection</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-3\"><span class=\"crayon-e\">Will </span><span class=\"crayon-e\">ask </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">unsafe</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">delete </span><span class=\"crayon-e\">instead </span><span class=\"crayon-e\">of </span><span class=\"crayon-v\">cross</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">fs </span><span class=\"crayon-v\">move</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Allows </span><span class=\"crayon-e\">unsafe</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">regular </span><span class=\"crayon-v\">rm</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">delete</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">ignores </span><span class=\"crayon-v\">trashinfo</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397553550b537065271-4\"><span class=\"crayon-e\">Creates </span><span class=\"crayon-e\">trash </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">trashinfo </span><span class=\"crayon-e\">directories </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">they </span><span class=\"crayon-st\">do</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">exist</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Handles </span><span class=\"crayon-e\">symbolic </span><span class=\"crayon-e\">link </span><span class=\"crayon-v\">deletion</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-5\"><span class=\"crayon-e\">Does </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">complain </span><span class=\"crayon-e\">about </span><span class=\"crayon-e\">different </span><span class=\"crayon-e\">user </span><span class=\"crayon-e\">any </span><span class=\"crayon-v\">more</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397553550b537065271-6\"> </div><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-7\"><span class=\"crayon-v\">Usage</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">path</span><span class=\"crayon-o\">/</span><span class=\"crayon-st\">to</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">saferm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">OPTIONS</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">--</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">files </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">dirs </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">safely </span><span class=\"crayon-e\">remove</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397553550b537065271-8\"><span class=\"crayon-v\">OPTIONS</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-9\"><span class=\"crayon-o\">-</span><span class=\"crayon-i\">r</span><span class=\"crayon-h\">      </span><span class=\"crayon-e\">allows </span><span class=\"crayon-e\">recursively </span><span class=\"crayon-e\">removing </span><span class=\"crayon-v\">directories</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397553550b537065271-10\"><span class=\"crayon-o\">-</span><span class=\"crayon-i\">f</span><span class=\"crayon-h\">      </span><span class=\"crayon-e\">Allow </span><span class=\"crayon-e\">deleting </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">files</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">devices</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-11\"><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\">      </span><span class=\"crayon-e\">Unsafe </span><span class=\"crayon-v\">mode</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bypass </span><span class=\"crayon-e\">trash </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">delete </span><span class=\"crayon-e\">files </span><span class=\"crayon-v\">permanently</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397553550b537065271-12\"><span class=\"crayon-o\">-</span><span class=\"crayon-i\">v</span><span class=\"crayon-h\">      </span><span class=\"crayon-v\">Verbose</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">prints </span><span class=\"crayon-e\">more </span><span class=\"crayon-v\">messages</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">Default</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">version</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-13\"><span class=\"crayon-o\">-</span><span class=\"crayon-i\">q</span><span class=\"crayon-h\">      </span><span class=\"crayon-e\">Quiet </span><span class=\"crayon-v\">mode</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Opposite </span><span class=\"crayon-e\">of </span><span class=\"crayon-v\">verbose</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397553550b537065271-14\"> </div><div class=\"crayon-line\" id=\"crayon-5ac397553550b537065271-15\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0194 seconds] -->\r\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113737\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113737votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113737\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/c766feed221138f7946130756cddfc7e86e388b4.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/04/49961db8952e63d98b519b76a2daa5e2.png"], "fav_nums": 1, "url": "http://blog.jobbole.com/113789/", "url_object_id": "d7679705b6786b2bb8061b616470a651", "comment_nums": 1, "praise_nums": "2", "create_date": "2018-03-27", "title": "深入学习 Redis（1）：Redis 内存模型", "tags": "IT技术,Redis,数据库", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/kismetv/p/8654978.html\">编程迷思</a>   </div><h2>前言</h2>\n<p>Redis是目前最火爆的内存数据库之一，通过在内存中读写数据，大大提高了读写速度，可以说Redis是实现网站高并发不可或缺的一部分。</p>\n<p>我们使用Redis时，会接触Redis的5种对象类型（字符串、哈希、列表、集合、有序集合），丰富的类型是Redis相对于Memcached等的一大优势。在了解Redis的5种对象类型的用法和特点的基础上，进一步了解Redis的内存模型，对Redis的使用有很大帮助，例如：</p>\n<p>1、估算Redis内存使用量。目前为止，内存的使用成本仍然相对较高，使用内存不能无所顾忌；根据需求合理的评估Redis的内存使用量，选择合适的机器配置，可以在满足需求的情况下节约成本。</p>\n<p>2、优化内存占用。了解Redis内存模型可以选择更合适的数据类型和编码，更好的利用Redis内存。</p>\n<p>3、分析解决问题。当Redis出现阻塞、内存占用等问题时，尽快发现导致问题的原因，便于分析解决问题。</p>\n<p>这篇文章主要介绍Redis的内存模型（以3.0为例），包括Redis占用内存的情况及如何查询、不同的对象类型在内存中的编码方式、内存分配器(jemalloc)、简单动态字符串(SDS)、RedisObject等；然后在此基础上介绍几个Redis内存模型的应用。</p>\n<p>在后面的文章中，会陆续介绍关于Redis高可用的内容，包括主从复制、哨兵、集群等等，欢迎关注。</p>\n<p> </p>\n<h2>目录</h2>\n<p><a href=\"#t1\">一、Redis内存统计</a></p>\n<p><a href=\"#t2\">二、Redis内存划分</a></p>\n<p><a href=\"#t21\">1、数据（或者称为对象）</a></p>\n<p><a href=\"#t22\">2、进程本身运行需要的内存</a></p>\n<p><a href=\"#t23\">3、缓冲内存</a></p>\n<p><a href=\"#t24\">4、内存碎片</a></p>\n<p><a href=\"#t3\">三、Redis数据存储的细节</a></p>\n<p><a href=\"#t31\">1、概述</a></p>\n<p><a href=\"#t32\">2、jemalloc</a></p>\n<p><a href=\"#t33\">3、redisObject</a></p>\n<p><a href=\"#t34\">4、SDS</a></p>\n<p><a href=\"#t4\">四、Redis的对象类型与内部编码</a></p>\n<p><a href=\"#t41\">1、字符串</a></p>\n<p><a href=\"#t42\">2、列表</a></p>\n<p><a href=\"#t43\">3、哈希</a></p>\n<p><a href=\"#t44\">4、集合</a></p>\n<p><a href=\"#t45\">5、有序集合</a></p>\n<p><a href=\"#t5\">五、应用举例</a></p>\n<p><a href=\"#t51\">1、估算Redis内存使用量</a></p>\n<p><a href=\"#t52\">2、优化内存占用</a></p>\n<p><a href=\"#t53\">3、关注内存碎片率</a></p>\n<p><a href=\"#t6\">六、参考文献</a></p>\n<h1><a name=\"t1\"></a>一、Redis内存统计</h1>\n<p>工欲善其事必先利其器，在说明Redis内存之前首先说明如何统计Redis使用内存的情况。</p>\n<p>在客户端通过redis-cli连接服务器后（后面如无特殊说明，客户端一律使用redis-cli），通过info命令可以查看内存使用情况：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a5eb663295926\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ninfo memory</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a5eb663295926-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a5eb663295926-1\"><span class=\"crayon-e\">info </span><span class=\"crayon-v\">memory</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n\n</div>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/8c3d1b1af4dea80d14b73aad3232d6c2.png\" alt=\"\"></p>\n<p>其中，info命令可以显示redis服务器的许多信息，包括服务器基本信息、CPU、内存、持久化、客户端连接信息等等；memory是参数，表示只显示内存相关的信息。</p>\n<p>返回结果中比较重要的几个说明如下：</p>\n<p>（1）<strong>used_memory</strong><strong>：</strong>Redis分配器分配的内存总量（单位是字节），包括使用的虚拟内存（即swap）；Redis分配器后面会介绍。used_memory_human只是显示更友好。</p>\n<p>（2）<strong>used_memory_rss</strong><strong>：</strong>Redis进程占据操作系统的内存（单位是字节），与top及ps命令看到的值是一致的；除了分配器分配的内存之外，used_memory_rss还包括进程运行本身需要的内存、内存碎片等，但是不包括虚拟内存。</p>\n<p>因此，used_memory和used_memory_rss，前者是从Redis角度得到的量，后者是从操作系统角度得到的量。二者之所以有所不同，一方面是因为内存碎片和Redis进程运行需要占用内存，使得前者可能比后者小，另一方面虚拟内存的存在，使得前者可能比后者大。</p>\n<p>由于在实际应用中，Redis的数据量会比较大，此时进程运行占用的内存与Redis数据量和内存碎片相比，都会小得多；因此used_memory_rss和used_memory的比例，便成了衡量Redis内存碎片率的参数；这个参数就是mem_fragmentation_ratio。</p>\n<p>（3）<strong>mem_fragmentation_ratio</strong><strong>：</strong>内存碎片比率，该值是used_memory_rss / used_memory的比值。</p>\n<p>mem_fragmentation_ratio一般大于1，且该值越大，内存碎片比例越大。mem_fragmentation_ratio&lt;1，说明Redis使用了虚拟内存，由于虚拟内存的媒介是磁盘，比内存速度要慢很多，当这种情况出现时，应该及时排查，如果内存不足应该及时处理，如增加Redis节点、增加Redis服务器的内存、优化应用等。</p>\n<p>一般来说，mem_fragmentation_ratio在1.03左右是比较健康的状态（对于jemalloc来说）；上面截图中的mem_fragmentation_ratio值很大，是因为还没有向Redis中存入数据，Redis进程本身运行的内存使得used_memory_rss 比used_memory大得多。</p>\n<p>（4）<strong>mem_allocator</strong><strong>：</strong>Redis使用的内存分配器，在编译时指定；可以是 libc 、jemalloc或者tcmalloc，默认是jemalloc；截图中使用的便是默认的jemalloc。</p>\n<h1><a name=\"t2\"></a>二、Redis内存划分</h1>\n<p>Redis作为内存数据库，在内存中存储的内容主要是数据（键值对）；通过前面的叙述可以知道，除了数据以外，Redis的其他部分也会占用内存。</p>\n<p>Redis的内存占用主要可以划分为以下几个部分：</p>\n<h2><a name=\"t21\"></a>1、数据</h2>\n<p>作为数据库，数据是最主要的部分；这部分占用的内存会统计在used_memory中。</p>\n<p>Redis使用键值对存储数据，其中的值（对象）包括5种类型，即字符串、哈希、列表、集合、有序集合。这5种类型是Redis对外提供的，实际上，在Redis内部，每种类型可能有2种或更多的内部编码实现；此外，Redis在存储对象时，并不是直接将数据扔进内存，而是会对对象进行各种包装：如redisObject、SDS等；这篇文章后面将重点介绍Redis中数据存储的细节。</p>\n<h2><a name=\"t22\"></a>2、进程本身运行需要的内存</h2>\n<p>Redis主进程本身运行肯定需要占用内存，如代码、常量池等等；这部分内存大约几兆，在大多数生产环境中与Redis数据占用的内存相比可以忽略。这部分内存不是由jemalloc分配，因此不会统计在used_memory中。</p>\n<p>补充说明：除了主进程外，Redis创建的子进程运行也会占用内存，如Redis执行AOF、RDB重写时创建的子进程。当然，这部分内存不属于Redis进程，也不会统计在used_memory和used_memory_rss中。</p>\n<h2><a name=\"t23\"></a>3、缓冲内存</h2>\n<p>缓冲内存包括客户端缓冲区、复制积压缓冲区、AOF缓冲区等；其中，客户端缓冲存储客户端连接的输入输出缓冲；复制积压缓冲用于部分复制功能；AOF缓冲区用于在进行AOF重写时，保存最近的写入命令。在了解相应功能之前，不需要知道这些缓冲的细节；这部分内存由jemalloc分配，因此会统计在used_memory中。</p>\n<h2><a name=\"t24\"></a>4、内存碎片</h2>\n<p>内存碎片是Redis在分配、回收物理内存过程中产生的。例如，如果对数据的更改频繁，而且数据之间的大小相差很大，可能导致redis释放的空间在物理内存中并没有释放，但redis又无法有效利用，这就形成了内存碎片。内存碎片不会统计在used_memory中。</p>\n<p>内存碎片的产生与对数据进行的操作、数据的特点等都有关；此外，与使用的内存分配器也有关系：如果内存分配器设计合理，可以尽可能的减少内存碎片的产生。后面将要说到的jemalloc便在控制内存碎片方面做的很好。</p>\n<p>如果Redis服务器中的内存碎片已经很大，可以通过安全重启的方式减小内存碎片：因为重启之后，Redis重新从备份文件中读取数据，在内存中进行重排，为每个数据重新选择合适的内存单元，减小内存碎片。</p>\n<h1><a name=\"t3\"></a>三、Redis数据存储的细节</h1>\n<h2><a name=\"t31\"></a>1、概述</h2>\n<p>关于Redis数据存储的细节，涉及到内存分配器（如jemalloc）、简单动态字符串（SDS）、5种对象类型及内部编码、redisObject。在讲述具体内容之前，先说明一下这几个概念之间的关系。</p>\n<p>下图是执行set hello world时，所涉及到的数据模型。</p>\n<p style=\"text-align: center\"><img src=\"http://jbcdn2.b0.upaiyun.com/2018/03/e68530a523ccf27f161597f21994f842.png\" alt=\"\"></p>\n<p style=\"text-align: center\">图片来源：https://searchdatabase.techtarget.com.cn/7-20218/</p>\n<p>（1）dictEntry：Redis是Key-Value数据库，因此对每个键值对都会有一个dictEntry，里面存储了指向Key和Value的指针；next指向下一个dictEntry，与本Key-Value无关。</p>\n<p>（2）Key：图中右上角可见，Key（”hello”）并不是直接以字符串存储，而是存储在SDS结构中。</p>\n<p>（3）redisObject：Value(“world”)既不是直接以字符串存储，也不是像Key一样直接存储在SDS中，而是存储在redisObject中。实际上，不论Value是5种类型的哪一种，都是通过redisObject来存储的；而redisObject中的type字段指明了Value对象的类型，ptr字段则指向对象所在的地址。不过可以看出，字符串对象虽然经过了redisObject的包装，但仍然需要通过SDS存储。</p>\n<p>实际上，redisObject除了type和ptr字段以外，还有其他字段图中没有给出，如用于指定对象内部编码的字段；后面会详细介绍。</p>\n<p>（4）jemalloc：无论是DictEntry对象，还是redisObject、SDS对象，都需要内存分配器（如jemalloc）分配内存进行存储。以DictEntry对象为例，有3个指针组成，在64位机器下占24个字节，jemalloc会为它分配32字节大小的内存单元。</p>\n<p>下面来分别介绍jemalloc、redisObject、SDS、对象类型及内部编码。</p>\n<h2><a name=\"t32\"></a>2、jemalloc</h2>\n<p>Redis在编译时便会指定内存分配器；内存分配器可以是 libc 、jemalloc或者tcmalloc，默认是jemalloc。</p>\n<p>jemalloc作为Redis的默认内存分配器，在减小内存碎片方面做的相对比较好。jemalloc在64位系统中，将内存空间划分为小、大、巨大三个范围；每个范围内又划分了许多小的内存块单位；当Redis存储数据时，会选择大小最合适的内存块进行存储。</p>\n<p>jemalloc划分的内存单元如下图所示：</p>\n<p style=\"text-align: center\"><img src=\"http://jbcdn2.b0.upaiyun.com/2018/03/34ac5c647e31f0ab02036d78ee63f248.png\" alt=\"\"></p>\n<p style=\"text-align: center\">图片来源：http://blog.csdn.net/zhengpeitao/article/details/76573053</p>\n<p>例如，如果需要存储大小为130字节的对象，jemalloc会将其放入160字节的内存单元中。</p>\n<h2><a name=\"t33\"></a>3、redisObject</h2>\n<p>前面说到，Redis对象有5种类型；无论是哪种类型，Redis都不会直接存储，而是通过redisObject对象进行存储。</p>\n<p>redisObject对象非常重要，Redis对象的类型、内部编码、内存回收、共享对象等功能，都需要redisObject支持，下面将通过redisObject的结构来说明它是如何起作用的。</p>\n<p>redisObject的定义如下（不同版本的Redis可能稍稍有所不同）：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a5fd436813910\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntypedef struct redisObject {\r\n　　unsigned type:4;\r\n　　unsigned encoding:4;\r\n　　unsigned lru:REDIS_LRU_BITS; /* lru time (relative to server.lruclock) */\r\n　　int refcount;\r\n　　void *ptr;\r\n} robj;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a5fd436813910-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a5fd436813910-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a5fd436813910-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a5fd436813910-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a5fd436813910-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a5fd436813910-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a5fd436813910-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a5fd436813910-1\"><span class=\"crayon-r\">typedef</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">redisObject</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a5fd436813910-2\">　　<span class=\"crayon-t\">unsigned</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">type</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a5fd436813910-3\">　　<span class=\"crayon-t\">unsigned</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">encoding</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a5fd436813910-4\">　　<span class=\"crayon-t\">unsigned</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lru</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">REDIS_LRU_BITS</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">/* lru time (relative to server.lruclock) */</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a5fd436813910-5\">　　<span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">refcount</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a5fd436813910-6\">　　<span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">ptr</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a5fd436813910-7\"><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">robj</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n\n</div>\n<p>redisObject的每个字段的含义和作用如下：</p>\n<h3>（1）type</h3>\n<p>type字段表示对象的类型，占4个比特；目前包括REDIS_STRING(字符串)、REDIS_LIST (列表)、REDIS_HASH(哈希)、REDIS_SET(集合)、REDIS_ZSET(有序集合)。</p>\n<p>当我们执行type命令时，便是通过读取RedisObject的type字段获得对象的类型；如下图所示：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/43d3539f6d0124bd1581566616b64f97.png\" alt=\"\"></p>\n<h3>（2）encoding</h3>\n<p>encoding表示对象的内部编码，占4个比特。</p>\n<p>对于Redis支持的每种类型，都有至少两种内部编码，例如对于字符串，有int、embstr、raw三种编码。通过encoding属性，Redis可以根据不同的使用场景来为对象设置不同的编码，大大提高了Redis的灵活性和效率。以列表对象为例，有压缩列表和双端链表两种编码方式；如果列表中的元素较少，Redis倾向于使用压缩列表进行存储，因为压缩列表占用内存更少，而且比双端链表可以更快载入；当列表对象元素较多时，压缩列表就会转化为更适合存储大量元素的双端链表。</p>\n<p>通过object encoding命令，可以查看对象采用的编码方式，如下图所示：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/f6339c50fe0f4a46f0059b2f35231e23.png\" alt=\"\"></p>\n<p>5种对象类型对应的编码方式以及使用条件，将在后面介绍。</p>\n<h3>（3）lru</h3>\n<p>lru记录的是对象最后一次被命令程序访问的时间，占据的比特数不同的版本有所不同（如4.0版本占24比特，2.6版本占22比特）。</p>\n<p>通过对比lru时间与当前时间，可以计算某个对象的空转时间；object idletime命令可以显示该空转时间（单位是秒）。object idletime命令的一个特殊之处在于它不改变对象的lru值。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/12d2cec6e14b158f69fda46c75601482.png\" alt=\"\"></p>\n<p>lru值除了通过object idletime命令打印之外，还与Redis的内存回收有关系：如果Redis打开了maxmemory选项，且内存回收算法选择的是volatile-lru或allkeys—lru，那么当Redis内存占用超过maxmemory指定的值时，Redis会优先选择空转时间最长的对象进行释放。</p>\n<h3>（4）refcount</h3>\n<p><strong>refcount</strong><strong>与共享对象</strong></p>\n<p>refcount记录的是该对象被引用的次数，类型为整型。refcount的作用，主要在于对象的引用计数和内存回收。当创建新对象时，refcount初始化为1；当有新程序使用该对象时，refcount加1；当对象不再被一个新程序使用时，refcount减1；当refcount变为0时，对象占用的内存会被释放。</p>\n<p>Redis中被多次使用的对象(refcount&gt;1)，称为共享对象。Redis为了节省内存，当有一些对象重复出现时，新的程序不会创建新的对象，而是仍然使用原来的对象。这个被重复使用的对象，就是共享对象。目前共享对象仅支持整数值的字符串对象。</p>\n<p><strong>共享对象的具体实现</strong></p>\n<p>Redis的共享对象目前只支持整数值的字符串对象。之所以如此，实际上是对内存和CPU（时间）的平衡：共享对象虽然会降低内存消耗，但是判断两个对象是否相等却需要消耗额外的时间。对于整数值，判断操作复杂度为O(1)；对于普通字符串，判断复杂度为O(n)；而对于哈希、列表、集合和有序集合，判断的复杂度为O(n^2)。</p>\n<p>虽然共享对象只能是整数值的字符串对象，但是5种类型都可能使用共享对象（如哈希、列表等的元素可以使用）。</p>\n<p>就目前的实现来说，Redis服务器在初始化时，会创建10000个字符串对象，值分别是0~9999的整数值；当Redis需要使用值为0~9999的字符串对象时，可以直接使用这些共享对象。10000这个数字可以通过调整参数REDIS_SHARED_INTEGERS（4.0中是OBJ_SHARED_INTEGERS）的值进行改变。</p>\n<p>共享对象的引用次数可以通过object refcount命令查看，如下图所示。命令执行的结果页佐证了只有0~9999之间的整数会作为共享对象。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/da89cea4d30533c989b73b07efd27317.png\" alt=\"\"></p>\n<h3>（5）ptr</h3>\n<p>ptr指针指向具体的数据，如前面的例子中，set hello world，ptr指向包含字符串world的SDS。</p>\n<h3>（6）总结</h3>\n<p>综上所述，redisObject的结构与对象类型、编码、内存回收、共享对象都有关系；一个redisObject对象的大小为16字节：</p>\n<p>4bit+4bit+24bit+4Byte+8Byte=16Byte。</p>\n<h2><a name=\"t34\"></a>4、SDS</h2>\n<p>Redis没有直接使用C字符串(即以空字符’\\0’结尾的字符数组)作为默认的字符串表示，而是使用了SDS。SDS是简单动态字符串(Simple Dynamic String)的缩写。</p>\n<h3>（1）SDS结构</h3>\n<p>sds的结构如下：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a77c443433046\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nstruct sdshdr { \r\n    int len;\r\n    int free;\r\n    char buf[];\r\n};</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a77c443433046-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a77c443433046-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a77c443433046-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a77c443433046-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a77c443433046-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a77c443433046-1\"><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sdshdr</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a77c443433046-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">len</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a77c443433046-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">free</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a77c443433046-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">char</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">buf</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a77c443433046-5\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n\n</div>\n<p>其中，buf表示字节数组，用来存储字符串；len表示buf已使用的长度，free表示buf未使用的长度。下面是两个例子。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/2116fb2f5ea2170e8e9df0032c1fad4d.png\" alt=\"\"></p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/951c87cee3bcd2599fcdddac9167d232.png\" alt=\"\"></p>\n<p style=\"text-align: center\">图片来源：《Redis设计与实现》</p>\n<p>通过SDS的结构可以看出，buf数组的长度=free+len+1（其中1表示字符串结尾的空字符）；所以，一个SDS结构占据的空间为：free所占长度+len所占长度+ buf数组的长度=4+4+free+len+1=free+len+9。</p>\n<h3>（2）SDS与C字符串的比较</h3>\n<p>SDS在C字符串的基础上加入了free和len字段，带来了很多好处：</p>\n<ul>\n<li>获取字符串长度：SDS是O(1)，C字符串是O(n)</li>\n<li>缓冲区溢出：使用C字符串的API时，如果字符串长度增加（如strcat操作）而忘记重新分配内存，很容易造成缓冲区的溢出；而SDS由于记录了长度，相应的API在可能造成缓冲区溢出时会自动重新分配内存，杜绝了缓冲区溢出。</li>\n<li>修改字符串时内存的重分配：对于C字符串，如果要修改字符串，必须要重新分配内存（先释放再申请），因为如果没有重新分配，字符串长度增大时会造成内存缓冲区溢出，字符串长度减小时会造成内存泄露。而对于SDS，由于可以记录len和free，因此解除了字符串长度和空间数组长度之间的关联，可以在此基础上进行优化：空间预分配策略（即分配内存时比实际需要的多）使得字符串长度增大时重新分配内存的概率大大减小；惰性空间释放策略使得字符串长度减小时重新分配内存的概率大大减小。</li>\n<li>存取二进制数据：SDS可以，C字符串不可以。因为C字符串以空字符作为字符串结束的标识，而对于一些二进制文件（如图片等），内容可能包括空字符串，因此C字符串无法正确存取；而SDS以字符串长度len来作为字符串结束标识，因此没有这个问题。</li>\n</ul>\n<p>此外，由于SDS中的buf仍然使用了C字符串（即以’\\0’结尾），因此SDS可以使用C字符串库中的部分函数；但是需要注意的是，只有当SDS用来存储文本数据时才可以这样使用，在存储二进制数据时则不行（’\\0’不一定是结尾）。</p>\n<h3>（3）SDS与C字符串的应用</h3>\n<p>Redis在存储对象时，一律使用SDS代替C字符串。例如set hello world命令，hello和world都是以SDS的形式存储的。而sadd myset member1 member2 member3命令，不论是键（”myset”），还是集合中的元素（”member1”、 ”member2”和”member3”），都是以SDS的形式存储。除了存储对象，SDS还用于存储各种缓冲区。</p>\n<p>只有在字符串不会改变的情况下，如打印日志时，才会使用C字符串。</p>\n<h1><a name=\"t4\"></a>四、Redis的对象类型与内部编码</h1>\n<p>前面已经说过，Redis支持5种对象类型，而每种结构都有至少两种编码；这样做的好处在于：一方面接口与实现分离，当需要增加或改变内部编码时，用户使用不受影响，另一方面可以根据不同的应用场景切换内部编码，提高效率。</p>\n<p>Redis各种对象类型支持的内部编码如下图所示(图中版本是Redis3.0，Redis后面版本中又增加了内部编码，略过不提；本章所介绍的内部编码都是基于3.0的)：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/28593c0d23953ad296b17967fa129871.png\" alt=\"\"></p>\n<p style=\"text-align: center\">图片来源：《Redis设计与实现》</p>\n<p>关于Redis内部编码的转换，都符合以下规律：<strong>编码转换在</strong><strong>Redis</strong><strong>写入数据时完成，且转换过程不可逆，只能从小内存编码向大内存编码转换。</strong></p>\n<h2><a name=\"t41\"></a>1、字符串</h2>\n<h3>（1）概况</h3>\n<p>字符串是最基础的类型，因为所有的键都是字符串类型，且字符串之外的其他几种复杂类型的元素也是字符串。</p>\n<p>字符串长度不能超过512MB。</p>\n<h3>（2）内部编码</h3>\n<p>字符串类型的内部编码有3种，它们的应用场景如下：</p>\n<ul>\n<li>int：8个字节的长整型。字符串值是整型时，这个值使用long整型表示。</li>\n<li>embstr：&lt;=39字节的字符串。embstr与raw都使用redisObject和sds保存数据，区别在于，embstr的使用只分配一次内存空间（因此redisObject和sds是连续的），而raw需要分配两次内存空间（分别为redisObject和sds分配空间）。因此与raw相比，embstr的好处在于创建时少分配一次空间，删除时少释放一次空间，以及对象的所有数据连在一起，寻找方便。而embstr的坏处也很明显，如果字符串的长度增加需要重新分配内存时，整个redisObject和sds都需要重新分配空间，因此redis中的embstr实现为只读。</li>\n<li>raw：大于39个字节的字符串</li>\n</ul>\n<p>示例如下图所示：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/671a709f884a9584f067c2dc7d588b59.png\" alt=\"\"></p>\n<p>embstr和raw进行区分的长度，是39；是因为redisObject的长度是16字节，sds的长度是9+字符串长度；因此当字符串长度是39时，embstr的长度正好是16+9+39=64，jemalloc正好可以分配64字节的内存单元。</p>\n<h3>（3）编码转换</h3>\n<p>当int数据不再是整数，或大小超过了long的范围时，自动转化为raw。</p>\n<p>而对于embstr，由于其实现是只读的，因此在对embstr对象进行修改时，都会先转化为raw再进行修改，因此，只要是修改embstr对象，修改后的对象一定是raw的，无论是否达到了39个字节。示例如下图所示：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/46b394cc882ed056fdee8caf1237e4da.png\" alt=\"\"></p>\n<h2><a name=\"t42\"></a>2、列表</h2>\n<h3>（1）概况</h3>\n<p>列表（list）用来存储多个有序的字符串，每个字符串称为元素；一个列表可以存储2^32-1个元素。Redis中的列表支持两端插入和弹出，并可以获得指定位置（或范围）的元素，可以充当数组、队列、栈等。</p>\n<h3>（2）内部编码</h3>\n<p>列表的内部编码可以是压缩列表（ziplist）或双端链表（linkedlist）。</p>\n<p>双端链表：由一个list结构和多个listNode结构组成；典型结构如下图所示：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/dc15e787d4b13a9944b821568afae17c.png\" alt=\"\"></p>\n<p style=\"text-align: center\">图片来源：《Redis设计与实现》</p>\n<p>通过图中可以看出，双端链表同时保存了表头指针和表尾指针，并且每个节点都有指向前和指向后的指针；链表中保存了列表的长度；dup、free和match为节点值设置类型特定函数，所以链表可以用于保存各种不同类型的值。而链表中每个节点指向的是type为字符串的redisObject。</p>\n<p>压缩列表：压缩列表是Redis为了节约内存而开发的，是由一系列特殊编码的<strong>连续内存块</strong>(而不是像双端链表一样每个节点是指针)组成的顺序型数据结构；具体结构相对比较复杂，略。与双端链表相比，压缩列表可以节省内存空间，但是进行修改或增删操作时，复杂度较高；因此当节点数量较少时，可以使用压缩列表；但是节点数量多时，还是使用双端链表划算。</p>\n<p>压缩列表不仅用于实现列表，也用于实现哈希、有序列表；使用非常广泛。</p>\n<h3>（3）编码转换</h3>\n<p>只有同时满足下面两个条件时，才会使用压缩列表：列表中元素数量小于512个；列表中所有字符串对象都不足64字节。如果有一个条件不满足，则使用双端列表；且编码只可能由压缩列表转化为双端链表，反方向则不可能。</p>\n<p>下图展示了列表编码转换的特点：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/aeea9b05c5e09cae19d2ee9ed2875285.png\" alt=\"\"></p>\n<p>其中，单个字符串不能超过64字节，是为了便于统一分配每个节点的长度；这里的64字节是指字符串的长度，不包括SDS结构，因为压缩列表使用连续、定长内存块存储字符串，不需要SDS结构指明长度。后面提到压缩列表，也会强调长度不超过64字节，原理与这里类似。</p>\n<h2><a name=\"t43\"></a>3、哈希</h2>\n<h3>（1）概况</h3>\n<p>哈希（作为一种数据结构），不仅是redis对外提供的5种对象类型的一种（与字符串、列表、集合、有序结合并列），也是Redis作为Key-Value数据库所使用的数据结构。为了说明的方便，在本文后面当使用“内层的哈希”时，代表的是redis对外提供的5种对象类型的一种；使用“外层的哈希”代指Redis作为Key-Value数据库所使用的数据结构。</p>\n<h3>（2）内部编码</h3>\n<p>内层的哈希使用的内部编码可以是压缩列表（ziplist）和哈希表（hashtable）两种；Redis的外层的哈希则只使用了hashtable。</p>\n<p>压缩列表前面已介绍。与哈希表相比，压缩列表用于元素个数少、元素长度小的场景；其优势在于集中存储，节省空间；同时，虽然对于元素的操作复杂度也由O(n)变为了O(1)，但由于哈希中元素数量较少，因此操作的时间并没有明显劣势。</p>\n<p>hashtable：一个hashtable由1个dict结构、2个dictht结构、1个dictEntry指针数组（称为bucket）和多个dictEntry结构组成。</p>\n<p>正常情况下（即hashtable没有进行rehash时）各部分关系如下图所示：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/bade6592c75a4d693f8269dd3a9c5d85.png\" alt=\"\"></p>\n<p style=\"text-align: center\">图片改编自：《Redis设计与实现》</p>\n<p>下面从底层向上依次介绍各个部分：</p>\n<p><strong>dictEntry</strong></p>\n<p>dictEntry结构用于保存键值对，结构定义如下：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a791454840527\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntypedef struct dictEntry{\r\n    void *key;\r\n    union{\r\n        void *val;\r\n        uint64_tu64;\r\n        int64_ts64;\r\n    }v;\r\n    struct dictEntry *next;\r\n}dictEntry;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a791454840527-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a791454840527-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a791454840527-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a791454840527-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a791454840527-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a791454840527-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a791454840527-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a791454840527-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a791454840527-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a791454840527-1\"><span class=\"crayon-r\">typedef</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">dictEntry</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a791454840527-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">key</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a791454840527-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">union</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a791454840527-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">val</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a791454840527-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">uint64_tu64</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a791454840527-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">int64_ts64</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a791454840527-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">v</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a791454840527-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">dictEntry *</span><span class=\"crayon-v\">next</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a791454840527-9\"><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">dictEntry</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n\n</div>\n<p>其中，各个属性的功能如下：</p>\n<ul>\n<li>key：键值对中的键；</li>\n<li>val：键值对中的值，使用union(即共用体)实现，存储的内容既可能是一个指向值的指针，也可能是64位整型，或无符号64位整型；</li>\n<li>next：指向下一个dictEntry，用于解决哈希冲突问题</li>\n</ul>\n<p>在64位系统中，一个dictEntry对象占24字节（key/val/next各占8字节）。</p>\n<p><strong>bucket</strong></p>\n<p>bucket是一个数组，数组的每个元素都是指向dictEntry结构的指针。redis中bucket数组的大小计算规则如下：大于dictEntry的、最小的2^n；例如，如果有1000个dictEntry，那么bucket大小为1024；如果有1500个dictEntry，则bucket大小为2048。</p>\n<p><strong>dictht</strong></p>\n<p>dictht结构如下：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a79e991869017\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntypedef struct dictht{\r\n    dictEntry **table;\r\n    unsigned long size;\r\n    unsigned long sizemask;\r\n    unsigned long used;\r\n}dictht;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a79e991869017-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a79e991869017-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a79e991869017-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a79e991869017-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a79e991869017-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a79e991869017-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a79e991869017-1\"><span class=\"crayon-r\">typedef</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">dictht</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a79e991869017-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-e \">dictEntry *</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">table</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a79e991869017-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">unsigned</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">long</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">size</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a79e991869017-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">unsigned</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">long</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sizemask</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a79e991869017-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">unsigned</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">long</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">used</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a79e991869017-6\"><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">dictht</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0130 seconds] -->\r\n\n</div>\n<p>其中，各个属性的功能说明如下：</p>\n<ul>\n<li>table属性是一个指针，指向bucket；</li>\n<li>size属性记录了哈希表的大小，即bucket的大小；</li>\n<li>used记录了已使用的dictEntry的数量；</li>\n<li>sizemask属性的值总是为size-1，这个属性和哈希值一起决定一个键在table中存储的位置。</li>\n</ul>\n<p><strong>dict</strong></p>\n<p>一般来说，通过使用dictht和dictEntry结构，便可以实现普通哈希表的功能；但是Redis的实现中，在dictht结构的上层，还有一个dict结构。下面说明dict结构的定义及作用。</p>\n<p>dict结构如下：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a7a2609713094\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntypedef struct dict{\r\n    dictType *type;\r\n    void *privdata;\r\n    dictht ht[2];\r\n    int trehashidx;\r\n} dict;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7a2609713094-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7a2609713094-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7a2609713094-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7a2609713094-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7a2609713094-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7a2609713094-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a7a2609713094-1\"><span class=\"crayon-r\">typedef</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">dict</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7a2609713094-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-e \">dictType *</span><span class=\"crayon-v\">type</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7a2609713094-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">privdata</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7a2609713094-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">dictht </span><span class=\"crayon-v\">ht</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7a2609713094-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">trehashidx</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7a2609713094-6\"><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">dict</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0126 seconds] -->\r\n\n</div>\n<p>其中，type属性和privdata属性是为了适应不同类型的键值对，用于创建多态字典。</p>\n<p>ht属性和trehashidx属性则用于rehash，即当哈希表需要扩展或收缩时使用。ht是一个包含两个项的数组，每项都指向一个dictht结构，这也是Redis的哈希会有1个dict、2个dictht结构的原因。通常情况下，所有的数据都是存在放dict的ht[0]中，ht[1]只在rehash的时候使用。dict进行rehash操作的时候，将ht[0]中的所有数据rehash到ht[1]中。然后将ht[1]赋值给ht[0]，并清空ht[1]。</p>\n<p>因此，Redis中的哈希之所以在dictht和dictEntry结构之外还有一个dict结构，一方面是为了适应不同类型的键值对，另一方面是为了rehash。</p>\n<h3>（3）编码转换</h3>\n<p>如前所述，Redis中内层的哈希既可能使用哈希表，也可能使用压缩列表。</p>\n<p>只有同时满足下面两个条件时，才会使用压缩列表：哈希中元素数量小于512个；哈希中所有键值对的键和值字符串长度都小于64字节。如果有一个条件不满足，则使用哈希表；且编码只可能由压缩列表转化为哈希表，反方向则不可能。</p>\n<p>下图展示了Redis内层的哈希编码转换的特点：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/0a98910371a2157072c25fcf2b7f6784.png\" alt=\"\"></p>\n<h2><a name=\"t44\"></a>4、集合</h2>\n<h3>（1）概况</h3>\n<p>集合（set）与列表类似，都是用来保存多个字符串，但集合与列表有两点不同：集合中的元素是无序的，因此不能通过索引来操作元素；集合中的元素不能有重复。</p>\n<p>一个集合中最多可以存储2^32-1个元素；除了支持常规的增删改查，Redis还支持多个集合取交集、并集、差集。</p>\n<h3>（2）内部编码</h3>\n<p>集合的内部编码可以是整数集合（intset）或哈希表（hashtable）。</p>\n<p>哈希表前面已经讲过，这里略过不提；需要注意的是，集合在使用哈希表时，值全部被置为null。</p>\n<p>整数集合的结构定义如下：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a7a8069771468\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntypedef struct intset{\r\n    uint32_t encoding;\r\n    uint32_t length;\r\n    int8_t contents[];\r\n} intset;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7a8069771468-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7a8069771468-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7a8069771468-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7a8069771468-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7a8069771468-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a7a8069771468-1\"><span class=\"crayon-r\">typedef</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">intset</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7a8069771468-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">uint32_t </span><span class=\"crayon-v\">encoding</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7a8069771468-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">uint32_t </span><span class=\"crayon-v\">length</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7a8069771468-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">int8_t </span><span class=\"crayon-v\">contents</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7a8069771468-5\"><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">intset</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n\n</div>\n<p>其中，encoding代表contents中存储内容的类型，虽然contents（存储集合中的元素）是int8_t类型，但实际上其存储的值是int16_t、int32_t或int64_t，具体的类型便是由encoding决定的；length表示元素个数。</p>\n<p>整数集合适用于集合所有元素都是整数且集合元素数量较小的时候，与哈希表相比，整数集合的优势在于集中存储，节省空间；同时，虽然对于元素的操作复杂度也由O(n)变为了O(1)，但由于集合数量较少，因此操作的时间并没有明显劣势。</p>\n<h3>（3）编码转换</h3>\n<p>只有同时满足下面两个条件时，集合才会使用整数集合：集合中元素数量小于512个；集合中所有元素都是整数值。如果有一个条件不满足，则使用哈希表；且编码只可能由整数集合转化为哈希表，反方向则不可能。</p>\n<p>下图展示了集合编码转换的特点：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/c5dcfed49dff9c771a6929455d548f81.png\" alt=\"\"></p>\n<h2><a name=\"t45\"></a>5、有序集合</h2>\n<h3>（1）概况</h3>\n<p>有序集合与集合一样，元素都不能重复；但与集合不同的是，有序集合中的元素是有顺序的。与列表使用索引下标作为排序依据不同，有序集合为每个元素设置一个分数（score）作为排序依据。</p>\n<h3>（2）内部编码</h3>\n<p>有序集合的内部编码可以是压缩列表（ziplist）或跳跃表（skiplist）。ziplist在列表和哈希中都有使用，前面已经讲过，这里略过不提。</p>\n<p>跳跃表是一种有序数据结构，通过在每个节点中维持多个指向其他节点的指针，从而达到快速访问节点的目的。除了跳跃表，实现有序数据结构的另一种典型实现是平衡树；大多数情况下，跳跃表的效率可以和平衡树媲美，且跳跃表实现比平衡树简单很多，因此redis中选用跳跃表代替平衡树。跳跃表支持平均O(logN)、最坏O(N)的复杂点进行节点查找，并支持顺序操作。Redis的跳跃表实现由zskiplist和zskiplistNode两个结构组成：前者用于保存跳跃表信息（如头结点、尾节点、长度等），后者用于表示跳跃表节点。具体结构相对比较复杂，略。</p>\n<h3>（3）编码转换</h3>\n<p>只有同时满足下面两个条件时，才会使用压缩列表：有序集合中元素数量小于128个；有序集合中所有成员长度都不足64字节。如果有一个条件不满足，则使用跳跃表；且编码只可能由压缩列表转化为跳跃表，反方向则不可能。</p>\n<p>下图展示了有序集合编码转换的特点：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/03/ec94bc8c186973c1318a5c439729eacb.png\" alt=\"\"></p>\n<h1><a name=\"t5\"></a>五、应用举例</h1>\n<p>了解Redis的内存模型之后，下面通过几个例子说明其应用。</p>\n<h2><a name=\"t51\"></a>1、估算Redis内存使用量</h2>\n<p>要估算redis中的数据占据的内存大小，需要对redis的内存模型有比较全面的了解，包括前面介绍的hashtable、sds、redisobject、各种对象类型的编码方式等。</p>\n<p>下面以最简单的字符串类型来进行说明。</p>\n<p>假设有90000个键值对，每个key的长度是7个字节，每个value的长度也是7个字节（且key和value都不是整数）；下面来估算这90000个键值对所占用的空间。在估算占据空间之前，首先可以判定字符串类型使用的编码方式：embstr。</p>\n<p>90000个键值对占据的内存空间主要可以分为两部分：一部分是90000个dictEntry占据的空间；一部分是键值对所需要的bucket空间。</p>\n<p>每个dictEntry占据的空间包括：</p>\n<p>1)       一个dictEntry，24字节，jemalloc会分配32字节的内存块</p>\n<p>2)       一个key，7字节，所以SDS(key)需要7+9=16个字节，jemalloc会分配16字节的内存块</p>\n<p>3)       一个redisObject，16字节，jemalloc会分配16字节的内存块</p>\n<p>4)       一个value，7字节，所以SDS(value)需要7+9=16个字节，jemalloc会分配16字节的内存块</p>\n<p>5)       综上，一个dictEntry需要32+16+16+16=80个字节。</p>\n<p>bucket空间：bucket数组的大小为大于90000的最小的2^n，是131072；每个bucket元素为8字节（因为64位系统中指针大小为8字节）。</p>\n<p>因此，可以估算出这90000个键值对占据的内存大小为：90000*80 + 131072*8 = 8248576。</p>\n<p>下面写个程序在redis中验证一下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a7b0489501605\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npublic class RedisTest {\r\n \r\n　　public static Jedis jedis = new Jedis(\"localhost\", 6379);\r\n \r\n　　public static void main(String[] args) throws Exception{\r\n　　　　Long m1 = Long.valueOf(getMemory());\r\n　　　　insertData();\r\n　　　　Long m2 = Long.valueOf(getMemory());\r\n　　　　System.out.println(m2 - m1);\r\n　　}\r\n \r\n　　public static void insertData(){\r\n　　　　for(int i = 10000; i &lt; 100000; i++){\r\n　　　　　　jedis.set(\"aa\" + i, \"aa\" + i); //key和value长度都是7字节，且不是整数\r\n　　　　}\r\n　　}\r\n \r\n　　public static String getMemory(){\r\n　　　　String memoryAllLine = jedis.info(\"memory\");\r\n　　　　String usedMemoryLine = memoryAllLine.split(\"\\r\\n\")[1];\r\n　　　　String memory = usedMemoryLine.substring(usedMemoryLine.indexOf(':') + 1);\r\n　　　　return memory;\r\n　　}\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b0489501605-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b0489501605-24\">24</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedisTest</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-2\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-3\">　　<span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Jedis </span><span class=\"crayon-v\">jedis</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Jedis</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"localhost\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6379</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-4\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-5\">　　<span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">String</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">args</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">throws</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Exception</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-6\">　　　　<span class=\"crayon-t\">Long</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">m1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Long</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">valueOf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">getMemory</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-7\">　　　　<span class=\"crayon-e\">insertData</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-8\">　　　　<span class=\"crayon-t\">Long</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">m2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Long</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">valueOf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">getMemory</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-9\">　　　　<span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">m2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">m1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-10\">　　<span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-11\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-12\">　　<span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insertData</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-13\">　　　　<span class=\"crayon-st\">for</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10000</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100000</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-14\">　　　　　　<span class=\"crayon-v\">jedis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"aa\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"aa\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//key和value长度都是7字节，且不是整数</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-15\">　　　　<span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-16\">　　<span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-17\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-18\">　　<span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">getMemory</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-19\">　　　　<span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">memoryAllLine</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jedis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">info</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"memory\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-20\">　　　　<span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">usedMemoryLine</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">memoryAllLine</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">split</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"\\r\\n\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-21\">　　　　<span class=\"crayon-t\">String</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">memory</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">usedMemoryLine</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">substring</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">usedMemoryLine</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">indexOf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">':'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-22\">　　　　<span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">memory</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b0489501605-23\">　　<span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b0489501605-24\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0329 seconds] -->\r\n<p>运行结果：8247552</p>\n<p>理论值与结果值误差在万分之1.2，对于计算需要多少内存来说，这个精度已经足够了。之所以会存在误差，是因为在我们插入90000条数据之前redis已分配了一定的bucket空间，而这些bucket空间尚未使用。</p>\n<p>作为对比将key和value的长度由7字节增加到8字节，则对应的SDS变为17个字节，jemalloc会分配32个字节，因此每个dictEntry占用的字节数也由80字节变为112字节。此时估算这90000个键值对占据内存大小为：90000*112 + 131072*8 = 11128576。</p>\n<p>在redis中验证代码如下（只修改插入数据的代码）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397522a7b7742968552\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npublic static void insertData(){\r\n　　for(int i = 10000; i &lt; 100000; i++){\r\n　　　　jedis.set(\"aaa\" + i, \"aaa\" + i); //key和value长度都是8字节，且不是整数\r\n　　}\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b7742968552-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b7742968552-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b7742968552-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397522a7b7742968552-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397522a7b7742968552-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397522a7b7742968552-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insertData</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b7742968552-2\">　　<span class=\"crayon-st\">for</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10000</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100000</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b7742968552-3\">　　　　<span class=\"crayon-v\">jedis</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"aaa\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"aaa\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//key和value长度都是8字节，且不是整数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397522a7b7742968552-4\">　　<span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5ac397522a7b7742968552-5\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>运行结果：11128576；估算准确。</p>\n<p>对于字符串类型之外的其他类型，对内存占用的估算方法是类似的，需要结合具体类型的编码方式来确定。</p>\n<h2><a name=\"t52\"></a>2、优化内存占用</h2>\n<p>了解redis的内存模型，对优化redis内存占用有很大帮助。下面介绍几种优化场景。</p>\n<p>（1）利用jemalloc特性进行优化</p>\n<p>上一小节所讲述的90000个键值便是一个例子。由于jemalloc分配内存时数值是不连续的，因此key/value字符串变化一个字节，可能会引起占用内存很大的变动；在设计时可以利用这一点。</p>\n<p>例如，如果key的长度如果是8个字节，则SDS为17字节，jemalloc分配32字节；此时将key长度缩减为7个字节，则SDS为16字节，jemalloc分配16字节；则每个key所占用的空间都可以缩小一半。</p>\n<p>（2）使用整型/长整型</p>\n<p>如果是整型/长整型，Redis会使用int类型（8字节）存储来代替字符串，可以节省更多空间。因此在可以使用长整型/整型代替字符串的场景下，尽量使用长整型/整型。</p>\n<p>（3）共享对象</p>\n<p>利用共享对象，可以减少对象的创建（同时减少了redisObject的创建），节省内存空间。目前redis中的共享对象只包括10000个整数（0-9999）；可以通过调整REDIS_SHARED_INTEGERS参数提高共享对象的个数；例如将REDIS_SHARED_INTEGERS调整到20000，则0-19999之间的对象都可以共享。</p>\n<p>考虑这样一种场景：论坛网站在redis中存储了每个帖子的浏览数，而这些浏览数绝大多数分布在0-20000之间，这时候通过适当增大REDIS_SHARED_INTEGERS参数，便可以利用共享对象节省内存空间。</p>\n<p>（4）避免过度设计</p>\n<p>然而需要注意的是，不论是哪种优化场景，都要考虑内存空间与设计复杂度的权衡；而设计复杂度会影响到代码的复杂度、可维护性。</p>\n<p>如果数据量较小，那么为了节省内存而使得代码的开发、维护变得更加困难并不划算；还是以前面讲到的90000个键值对为例，实际上节省的内存空间只有几MB。但是如果数据量有几千万甚至上亿，考虑内存的优化就比较必要了。</p>\n<h2><a name=\"t53\"></a>3、关注内存碎片率</h2>\n<p>内存碎片率是一个重要的参数，对redis 内存的优化有重要意义。</p>\n<p>如果内存碎片率过高（jemalloc在1.03左右比较正常），说明内存碎片多，内存浪费严重；这时便可以考虑重启redis服务，在内存中对数据进行重排，减少内存碎片。</p>\n<p>如果内存碎片率小于1，说明redis内存不足，部分数据使用了虚拟内存（即swap）；由于虚拟内存的存取速度比物理内存差很多（2-3个数量级），此时redis的访问速度可能会变得很慢。因此必须设法增大物理内存（可以增加服务器节点数量，或提高单机内存），或减少redis中的数据。</p>\n<p>要减少redis中的数据，除了选用合适的数据类型、利用共享对象等，还有一点是要设置合理的数据回收策略（maxmemory-policy），当内存达到一定量后，根据不同的优先级对内存进行回收。</p>\n<h1><a name=\"t6\"></a>六、参考文献</h1>\n<p>《Redis开发与运维》</p>\n<p>《Redis设计与实现》</p>\n<p>https://redis.io/documentation</p>\n<p>http://redisdoc.com/server/info.html</p>\n<p>https://www.cnblogs.com/lhcpig/p/4769397.html</p>\n<p>https://searchdatabase.techtarget.com.cn/7-20218/</p>\n<p>http://www.cnblogs.com/mushroom/p/4738170.html</p>\n<p>http://www.imooc.com/article/3645</p>\n<p>http://blog.csdn.net/zhengpeitao/article/details/76573053</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113789\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113789votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113789\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/14452eea6b79bce0219227f298ad827f2ba7112d.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/01/1b8322e1daff605d71fc81e724421f17.jpg"], "fav_nums": 0, "url": "http://blog.jobbole.com/113800/", "url_object_id": "5916e51b19bf349342b376e0f581f950", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-04-02", "title": "为初学者准备的 ln 命令教程（5 个示例）", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.howtoforge.com/linux-ln-command/\">Himanshu Arora</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9501-1.html\">Linux中国/ChenYi</a>   </div><p>当我们在命令行上工作时，您可能需要在文件之间创建链接。这时，您可以可以借助一个专用命令，<code>ln</code>。本教程中，我们将通过一些简单易理解的例子来讨论此工具的基础知识。在此之前，值得一提的是，本教程所有例子都已在 Ubuntu 16.04 上测试通过。</p>\n<h3 id=\"toc_1\">Linux ln 命令</h3>\n<p>正如你现在所了解的，<code>ln</code> 命令能够让您在文件之间创建链接。下面就是 <code>ln</code> 工具的语法（或者使用其他一些可行的语法）。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39751ef829647068230\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nln [OPTION]... [-T] TARGET LINK_NAME （第一种形式）\r\nln [OPTION]... TARGET （第二种形式）\r\nln [OPTION]... TARGET... DIRECTORY （第三种形式）\r\nln [OPTION]... -t DIRECTORY TARGET... （第四种形式）\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef829647068230-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39751ef829647068230-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef829647068230-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39751ef829647068230-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef829647068230-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39751ef829647068230-1\"><span class=\"crayon-i\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">OPTION</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">T</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">TARGET </span><span class=\"crayon-v\">LINK</span><span class=\"crayon-sy\">_</span>NAME<span class=\"crayon-h\"> </span>（第一种形式）</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39751ef829647068230-2\"><span class=\"crayon-i\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">OPTION</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">TARGET</span><span class=\"crayon-h\"> </span>（第二种形式）</div><div class=\"crayon-line\" id=\"crayon-5ac39751ef829647068230-3\"><span class=\"crayon-i\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">OPTION</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TARGET</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">DIRECTORY</span><span class=\"crayon-h\"> </span>（第三种形式）</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39751ef829647068230-4\"><span class=\"crayon-i\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">OPTION</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">DIRECTORY </span><span class=\"crayon-v\">TARGET</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span>（第四种形式）</div><div class=\"crayon-line\" id=\"crayon-5ac39751ef829647068230-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>下面是 <code>ln</code> 工具 man 文档描述的内容：</p>\n<blockquote><p>在第一种形式下，为目标位置（TARGET）创建一个叫 LINK_NAME 的链接。在第二种形式下，为目标位置（TARGET）在当前目录下创建一个链接（LCTT 译注：创建的为同名链接）。在第三和第四种形式中，在 DIRECTORY 目录下为每一个目标位置（TARGET）创建链接。默认创建硬链接，符号链接需要 <code>--symbolic</code> 选项。默认创建的每一个创建的链接（新链接的名字）都不能已经存在。当创建硬链接时，目标位置（TARGET）文件必须存在；符号链接可以保存任意文本，如果之后解析，相对链接的解析与其父目录有关。</p></blockquote>\n<p>通过下面问答风格的例子，可能会给你更好的理解。但是在此之前，建议您先了解 <a href=\"https://medium.com/meatandmachines/explaining-the-difference-between-hard-links-symbolic-links-using-bruce-lee-32828832e8d3\">硬链接和软链接的区别</a>.</p>\n<h3 id=\"toc_2\">Q1. 如何使用 ln 命令创建硬链接？</h3>\n<p>这很简单，你只需要像下面使用 <code>ln</code> 命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39751ef834030642813\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nln [file] [hard-link-to-file]\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef834030642813-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39751ef834030642813-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39751ef834030642813-1\"><span class=\"crayon-i\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">file</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">hard</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">link</span><span class=\"crayon-o\">-</span><span class=\"crayon-st\">to</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">file</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39751ef834030642813-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39751ef839565203008\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nln test.txt test_hard_link.txt\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef839565203008-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39751ef839565203008-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39751ef839565203008-1\"><span class=\"crayon-e\">ln </span><span class=\"crayon-v\">test</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">test_hard_link</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39751ef839565203008-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><a href=\"https://www.howtoforge.com/images/command-tutorial/big/ln-hard-link.png\"><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/04/01298effe75946f995e7917f557462d5.png\" alt=\"如何使用 ln 命令创建硬链接\"></a></p>\n<p>如此，您便可以看见一个已经创建好的，名为 <code>test_hard_link.txt</code> 的硬链接。</p>\n<h3 id=\"toc_3\">Q2. 如何使用 ln 命令创建软/符号链接？</h3>\n<p>使用 <code>-s</code> 命令行选项：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39751ef83c496992017\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nln -s [file] [soft-link-to-file]\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef83c496992017-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39751ef83c496992017-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39751ef83c496992017-1\"><span class=\"crayon-v\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">file</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">soft</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">link</span><span class=\"crayon-o\">-</span><span class=\"crayon-st\">to</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">file</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39751ef83c496992017-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39751ef840593955460\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nln -s test.txt test_soft_link.txt\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef840593955460-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39751ef840593955460-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39751ef840593955460-1\"><span class=\"crayon-v\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">test</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">test_soft_link</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39751ef840593955460-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p><a href=\"https://www.howtoforge.com/images/command-tutorial/big/ln-soft-link.png\"><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/04/50c704a6f945d0c923e4e0537f8c8074.png\" alt=\"如何使用 ln 命令创建软/符号链接\"></a></p>\n<p><code>test_soft_link.txt</code> 文件就是一个软/符号链接，以天蓝色文本 <a href=\"https://askubuntu.com/questions/17299/what-do-the-different-colors-mean-in-ls\">标识</a>。</p>\n<h3 id=\"toc_4\">Q3. 如何使用 ln 命令删除既存的同名目标文件？</h3>\n<p>默认情况下，<code>ln</code> 不允许您在目标目录下创建已存在的链接。</p>\n<p><a href=\"https://www.howtoforge.com/images/command-tutorial/big/ln-file-exists.png\"><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/04/e0fd2f36a9b21dba7e12ac1cb09ade9d.png\" alt=\"ln 命令示例\"></a></p>\n<p>然而，如果一定要这么做，您可以使用 <code>-f</code> 命令行选项覆盖此行为。</p>\n<p><a href=\"https://www.howtoforge.com/images/command-tutorial/big/ln-f-option.png\"><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/04/50acf4e490700767594928b22cfe2699.png\" alt=\"如何使用 ln 命令创建软/符号链接\"></a></p>\n<p>提示：如果您想在此删除过程中有所交互，您可以使用 <code>-i</code> 选项。</p>\n<h3 id=\"toc_5\">Q4. 如何使用 ln 命令创建现有文件的同名备份？</h3>\n<p>如果您不想 <code>ln</code> 删除同名的现有文件，您可以为这些文件创建备份。使用 <code>-b</code> 即可实现此效果，以这种方式创建的备份文件，会在其文件名结尾处包含一个波浪号（<code>~</code>）。</p>\n<p><a href=\"https://www.howtoforge.com/images/command-tutorial/big/ln-b-option.png\"><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2018/04/4c82e6ffb43f28c1e41aa82208cb755a.png\" alt=\"如何使用 ln 命令创建现有文件的同名备份\"></a></p>\n<h3 id=\"toc_6\">Q5. 如何在当前目录以外的其它目录创建链接？</h3>\n<p>使用 <code>-t</code> 选项指定一个文件目录（除了当前目录）。比如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac39751ef844551104659\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nls test* | xargs ln -s -t /home/himanshu/Desktop/\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac39751ef844551104659-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac39751ef844551104659-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac39751ef844551104659-1\"><span class=\"crayon-e\">ls </span><span class=\"crayon-e \">test*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">xargs </span><span class=\"crayon-v\">ln</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Desktop</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac39751ef844551104659-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>上述命令会为（当前目录下的）所有 <code>test*</code> 文件创建链接，并放到桌面目录下。</p>\n<h3 id=\"toc_7\">总结</h3>\n<p>当然，尤其对于新手来说，<code>ln</code> 并不是日常必备命令。但是，这是一个有用的命令，因为你永远不知道它什么时候能够节省你一天的时间。对于这个命令，我们已经讨论了一些实用的选项，如果你已经完成了这些，可以查询 <a href=\"https://linux.die.net/man/1/ln\">man 文档</a> 来了解更多详情。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113800\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113800votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113800\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/031407902bdeff19a2af7d3163aefed119d82c52.jpg", "front_image_url": ["http://wx2.sinaimg.cn/large/7cc829d3gy1fptsk9tvx8j20go0b441z.jpg"], "fav_nums": 1, "url": "http://blog.jobbole.com/112038/", "url_object_id": "4982221dc7233a7fb52e97b15b7f65e8", "comment_nums": 0, "praise_nums": "2", "create_date": "2018-03-29", "title": "IT 职场新人碰到的几个常见误区", "tags": "职场,职场", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.cnblogs.com/sankt/p/8658028.html\">沐榕休</a>   </div><p>自己工作 10+ 年了，大概 5 年前从技术转管理后，多少还是发现一些职场新人职业发展的问题。</p>\n<p>表现惊艳的新人肯定有，这种人往往在学校里面或者进入职场后就养成了一些非常良好的做事方式和工作习惯，工作效率高，产出多，甚至很短时间内就可以带新人，年度最佳新人当之无愧。</p>\n<p>然而表现不到位的似乎更多一些，这些员工工作时间短（比如说应届毕业生或者不到两年）尤其性格内向的往往容易掉入错误泥潭，无法自拔，而这些错误的行为会对未来的发展造成非常负面的影响，从而导致职场发展往失败的道路上越走越远。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fptsk9tvx8j20go0b441z.jpg\"></p>\n<p>我分别从以下角度来阐述一下，</p>\n<h3>1. 不愿意和同事沟通，不愿意向同事多学习</h3>\n<p>这种员工大多比较内向或者性情有点高冷，须不知三人行，必有我师。多向同事学习，互通有无，对自己以后的发展有百利而无一害。有导师制或者老员工带，情况或许会有所改善，但如果内因没有改变，最终效果依旧不容乐观。</p>\n<p>技术开发工作中遇到一些技术难题非常正常，当然独立思考固然可贵，但是公司项目往往有一定的时间限制，优先解决问题永远放在第一位，而不是一个人在那里苦苦挣扎和搜索解决方案。如果时间压力不大，多思考一下也未尝不可。考虑到交付压力，这个时候就需要积极和同事，技术经理沟通，寻找解决思路，通常情况下，积极的沟通好过自己的单打独斗。也许同事或者老板的一句话，就应了那据古诗，山重水复疑无路，柳暗花明又一村。与此同时也和同事建立了更好的友谊，在老板心里也留下了做事有方法的好印象。</p>\n<h3>2.视野狭窄，只关注自己的一亩三分地，囿于角色</h3>\n<p>这种情况其实在职场中多见不仅是初级程序员，甚至工作五年以上的程序员也有类似的问题，不是自己的事情不闻不问，而且危害更大。</p>\n<p>公司项目往往大而全，如果仅仅专注自己的那个角落，那么永远都是只见树木，不见森林。</p>\n<p>我相信没有老板会介意下面的程序员多承担一些责任，多做一些事情，最后给项目组多一些产出。</p>\n<p>既然老板不介意，那么就应该大胆的跳出自己的职责范围，多看看公司的其他项目，丰富自己的行业知识。</p>\n<p>职责外的事情，帮的上的不要躲避,，努力承担更多的东西。帮助别人就是提高自己，教学相长就是这个意思。况且你这次帮了别人，下次你的项目紧或者遇到技术难题了，受助之人肯定投桃报李，这样就形成了良性互助氛围，整个项目组的产出也同步提升了。</p>\n<p>一般来说，公司要提升一个人，最好的策略就是先让候选人做一些将来职位才需要做的事情。做的好，理所当然就要提拔。做的不好，则可以提前发现该员工的问题，暂缓提拔，需要多考察一段时间。这样的试错成本毫无疑问是最低的。</p>\n<h3>3.格局太小，对项目以外的技术视而不见，知识面陈旧，匮乏，技能极其单一</h3>\n<p>这里其实谈到了整个IT行业的问题，技术发展太快了。主要还是一个持续提升竞争力的一个话题。</p>\n<p>今天还是桌面开发，明天web开发就成为主流。</p>\n<p>好不容易掌握了关系型数据库，No-SQL成为主流。</p>\n<p>费了九牛二虎之力，熟练掌握Java, C#等静态语言，发现动态语言GO, Python成为云计算，机器学习的标配。</p>\n<p>移动开发昨天还是Object-C, Java, 今天就变成Swift, Kotlin。</p>\n<p> </p>\n<p>当然这里不是说让大家紧跟潮流，扼住时尚。那样做除了疲于奔命，累死在工作台，没有其他的结果。</p>\n<p>其实只要选择一个方向，纵深学习和积累，必有所成。</p>\n<p>比如说，你熟悉 Java, 那么学习 Kotlin 绝对驾轻就熟。</p>\n<p>你有扎实的关系型数据库基础，那么掌握 MangoDB 肯定是件轻而易举的事情。</p>\n<p>编成思想和解决问题的思路都是相通的，平时的学习和工作中要善于思考，举一反三。并且做到与时俱进，及时更新自己的知识库和技能属性，保持良好的市场竞争力。</p>\n<p>做完事情后多思考，怎样做得更好，站在更好的要求上看问题.</p>\n<p>我举两个实际案例，</p>\n<blockquote><p>程序员A在某国企里面，持续开发 Windows Form, 拖拉控件为主，对SQL Server数据库增删改查，时间长达五年之久，突然有一天打算离职，看看新的机会，以为有五年工作经验，可以很轻松找一个更好的工作。但是实际上求职之路异常艰辛，名义上的五年工作经验，其实就是极其单一的技能重复使用了五年。而且大环境也变了，主流已经是web开发，移动开发了。因为没有及时更新自己的知识库和技能储备，那么真要跳槽的时候可能已经跳不动了。</p>\n<p>程序员B在某外企，氛围比较安逸轻松，项目节奏慢，看似也作了不少项目，但做的项目几乎比较类似，难度一般，涉及面挺广，但技术点都是蜻蜓点水，浅尝辄止。这样过了三年，其实积累也是比较松散，知识的深度没有，核心技能并没有养成。</p></blockquote>\n<h3>4.对未来没有想法，不考虑三五年自己要做什么</h3>\n<p>作者本人就犯过类似的错误，幡然醒悟的时候，三年时间已经过去了。</p>\n<p>程序员的职业生涯里面最初的三年其实是一个非常重要的打磨和规划时期，如果在迷茫中度过，那么事后想起肯定会扼腕叹息，奈何流水已经东去，再无复返之理。</p>\n<p>有目标，而没有具体的计划，那么就是一个愿景而已。</p>\n<p>建议不管是初级还是高级程序员，都应该积极向前辈或者直属老板沟通，看看他们有没有值得借鉴的规划和建议。</p>\n<p>职场大忌就是被动等待命运的安排，作者本人也是在职业生涯初期等待老板来帮我规划未来，到现在为止，十年过去了，也没有等到。。。</p>\n<p>所以老板不会主动帮助你规划未来，最重要的事情还是自己对自身的要求和期望。</p>\n<p> </p>\n<h3>5.没有意识到是给自己打工还是公司打工</h3>\n<p>这也是一个非常好的话题，很多人都没有想明白，甚至包括一些工作十年之久的程序员。</p>\n<p>想明白这一点，工作积极性明显就会好太多。自我驱动, 让工作更加有趣和有意义。</p>\n<p>国内知名的互联网公司大老板说过一句话，非常值得深思。</p>\n<p>“我每年付你20万，五年也就是100万。如果你在这里混日子，那么最后吃亏的肯定是你。你的五年青春就只值100万吗？”</p>\n<p>所以职场新人的主人翁意识一定要加强，你要持续提升自己的能力，持续强化自己创造价值的能力。</p>\n<p>举个例子，比如说现在公司支付你20万每年，那么你应该有目标能给公司带来远超过20万的收益，多多益善。</p>\n<p>你有这个能力，公司肯定也会对你相应回报。如果公司不给你升职加薪，那么一走了之，潇洒痛快。优质的人才从来都是抢着要。</p>\n<h3>6.不愿意走出舒适区域，不敢尝试新的东西</h3>\n<p>这点倒是因人而异，不可强求。这个话题其实有点广义。</p>\n<p>如果你在某个方向做的非常好，而且回报也不错，那么不愿意涉足其他领域也无可厚非。</p>\n<p>这个世界唯一不变的东西就是世界一直在改变。今天还有的岗位，明天也许就要消失。世界要抛弃你，都不会打一声招呼。</p>\n<blockquote><p>举个例子，你在公司是SQL Server或者Oracle专家，但是公司计划转非关系型数据库，如果你害怕改变甚至拒绝改变，那么意味着你可能要错过另外一个全新的数据存储平台。进而错过很多机会，而那些勇于接受变化，顺应趋势的人肯定会获得更好的时代回报。</p></blockquote>\n<p>又比如说，你现在用的技术在日常项目中都刚好够用，那么从改善用户体验和使用更加主流的技术角度看，是不是应该要尝试一些新的东西，同时也刷新了自己的技术栈，一举两得，何乐而不为呢？</p>\n<blockquote><p>还有一个例子是一位资深程序员习惯了长期的慢节奏的工作氛围，因为公司改组被裁员，不过自身条件不错，很快就加入国内一家一线互联网公司，但是完全适应不了互联网快节奏，工作一段时间就以公司管理”混乱”，战略规划”经常”改变为借口离职了，接下来很长一段时间找不到一个合适自己的工作，加上中年已到，如果自身不积极调整，接下来的工作和生活肯定困难重重。</p></blockquote>\n<h3>总结</h3>\n<p>最后再简单小结一下，职场新人需要做的就是从小事做起，学会吃亏，以结果为目标导向，日常工作中积极和同事，老板沟通。</p>\n<p>工作中要善于总结方法，经常更新问题的思考模式，对职业负责，对目标负责，对自己负责，脚踏实地，主动找事情做，而不是被动等事情来找你。</p>\n<p>相信职场新人如果能成功避开上面说的几个误区，那么在职业发展道路上就可以少走一些弯路，少犯一些错误，从而更快地实现自己的小目标。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112038\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112038votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112038\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/14452eea6b79bce0219227f298ad827f2ba7112d.jpg", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2018/01/1b8322e1daff605d71fc81e724421f17.jpg"], "fav_nums": 1, "url": "http://blog.jobbole.com/113782/", "url_object_id": "ab0322e9007276c76fe370fbf4a95a33", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-03-24", "title": "Linux 中的“大内存页”（hugepage）是个什么？", "tags": "IT技术,Linux", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://kerneltalks.com/services/what-is-huge-pages-in-linux/\">Shrikant Lavhate</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-9450-1.html\">Linux中国/DarkSun</a>   </div><blockquote><p>学习 Linux 中的大内存页hugepage。理解什么是“大内存页”，如何进行配置，如何查看当前状态以及如何禁用它。</p></blockquote>\n<p>本文中我们会详细介绍大内存页huge page，让你能够回答：Linux 中的“大内存页”是什么？在 RHEL6、RHEL7、Ubuntu 等 Linux 中，如何启用/禁用“大内存页”？如何查看“大内存页”的当前值？</p>\n<p>首先让我们从“大内存页”的基础知识开始讲起。</p>\n<h3 id=\"toc_1\">Linux 中的“大内存页”是个什么玩意？</h3>\n<p>“大内存页”有助于 Linux 系统进行虚拟内存管理。顾名思义，除了标准的 4KB 大小的页面外，它们还能帮助管理内存中的巨大的页面。使用“大内存页”，你最大可以定义 1GB 的页面大小。</p>\n<p>在系统启动期间，你能用“大内存页”为应用程序预留一部分内存。这部分内存，即被“大内存页”占用的这些存储器永远不会被交换出内存。它会一直保留其中，除非你修改了配置。这会极大地提高像 Oracle 数据库这样的需要海量内存的应用程序的性能。</p>\n<h3 id=\"toc_2\">为什么使用“大内存页”？</h3>\n<p>在虚拟内存管理中，内核维护一个将虚拟内存地址映射到物理地址的表，对于每个页面操作，内核都需要加载相关的映射。如果你的内存页很小，那么你需要加载的页就会很多，导致内核会加载更多的映射表。而这会降低性能。</p>\n<p>使用“大内存页”，意味着所需要的页变少了。从而大大减少由内核加载的映射表的数量。这提高了内核级别的性能最终有利于应用程序的性能。</p>\n<p>简而言之，通过启用“大内存页”，系统具只需要处理较少的页面映射表，从而减少访问/维护它们的开销！</p>\n<h3 id=\"toc_3\">如何配置“大内存页”？</h3>\n<p>运行下面命令来查看当前“大内存页”的详细内容。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac397541245b074638232\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nroot@kerneltalks # grep Huge /proc/meminfo\r\nAnonHugePages:         0 kB\r\nHugePages_Total:       0\r\nHugePages_Free:        0\r\nHugePages_Rsvd:        0\r\nHugePages_Surp:        0\r\nHugepagesize:       2048 kB\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac397541245b074638232-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397541245b074638232-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac397541245b074638232-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397541245b074638232-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac397541245b074638232-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397541245b074638232-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac397541245b074638232-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac397541245b074638232-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac397541245b074638232-1\"><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">kerneltalks</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># grep Huge /proc/meminfo</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397541245b074638232-2\"><span class=\"crayon-v\">AnonHugePages</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">         </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">kB</span></div><div class=\"crayon-line\" id=\"crayon-5ac397541245b074638232-3\"><span class=\"crayon-v\">HugePages_Total</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397541245b074638232-4\"><span class=\"crayon-v\">HugePages_Free</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-5ac397541245b074638232-5\"><span class=\"crayon-v\">HugePages_Rsvd</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397541245b074638232-6\"><span class=\"crayon-v\">HugePages_Surp</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">        </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-5ac397541245b074638232-7\"><span class=\"crayon-v\">Hugepagesize</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">2048</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kB</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac397541245b074638232-8\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>从上面输出可以看到，每个页的大小为 2MB（<code>Hugepagesize</code>），并且系统中目前有 <code>0</code> 个“大内存页”（<code>HugePages_Total</code>）。这里“大内存页”的大小可以从 <code>2MB</code> 增加到 <code>1GB</code>。</p>\n<p>运行下面的脚本可以知道系统当前需要多少个巨大页。该脚本取之于 Oracle。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975413b83167789764\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#!/bin/bash\r\n#\r\n# hugepages_settings.sh\r\n#\r\n# Linux bash script to compute values for the\r\n# recommended HugePages/HugeTLB configuration\r\n#\r\n# Note: This script does calculation for all shared memory\r\n# segments available when the script is run, no matter it\r\n# is an Oracle RDBMS shared memory segment or not.\r\n# Check for the kernel version\r\nKERN=`uname -r | awk -F. '{ printf(\"%d.%d\\n\",$1,$2); }'`\r\n# Find out the HugePage size\r\nHPG_SZ=`grep Hugepagesize /proc/meminfo | awk {'print $2'}`\r\n# Start from 1 pages to be on the safe side and guarantee 1 free HugePage\r\nNUM_PG=1\r\n# Cumulative number of pages required to handle the running shared memory segments\r\nfor SEG_BYTES in `ipcs -m | awk {'print $5'} | grep \"[0-9][0-9]*\"`\r\ndo\r\n   MIN_PG=`echo \"$SEG_BYTES/($HPG_SZ*1024)\" | bc -q`\r\n   if [ $MIN_PG -gt 0 ]; then\r\n      NUM_PG=`echo \"$NUM_PG+$MIN_PG+1\" | bc -q`\r\n   fi\r\ndone\r\n# Finish with results\r\ncase $KERN in\r\n   '2.4') HUGETLB_POOL=`echo \"$NUM_PG*$HPG_SZ/1024\" | bc -q`;\r\n          echo \"Recommended setting: vm.hugetlb_pool = $HUGETLB_POOL\" ;;\r\n   '2.6' | '3.8' | '3.10' | '4.1' ) echo \"Recommended setting: vm.nr_hugepages = $NUM_PG\" ;;\r\n    *) echo \"Unrecognized kernel version $KERN. Exiting.\" ;;\r\nesac\r\n# End\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b83167789764-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b83167789764-33\">33</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-1\"><span class=\"crayon-p\">#!/bin/bash</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-2\"><span class=\"crayon-p\">#</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-3\"><span class=\"crayon-p\"># hugepages_settings.sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-4\"><span class=\"crayon-p\">#</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-5\"><span class=\"crayon-p\"># Linux bash script to compute values for the</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-6\"><span class=\"crayon-p\"># recommended HugePages/HugeTLB configuration</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-7\"><span class=\"crayon-p\">#</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-8\"><span class=\"crayon-p\"># Note: This script does calculation for all shared memory</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-9\"><span class=\"crayon-p\"># segments available when the script is run, no matter it</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-10\"><span class=\"crayon-p\"># is an Oracle RDBMS shared memory segment or not.</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-11\"><span class=\"crayon-p\"># Check for the kernel version</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-12\"><span class=\"crayon-v\">KERN</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">uname</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">F</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{ printf(\"%d.%d\\n\",$1,$2); }'</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-13\"><span class=\"crayon-p\"># Find out the HugePage size</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-14\"><span class=\"crayon-v\">HPG_SZ</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">grep </span><span class=\"crayon-v\">Hugepagesize</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">proc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">meminfo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'print $2'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-15\"><span class=\"crayon-p\"># Start from 1 pages to be on the safe side and guarantee 1 free HugePage</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-16\"><span class=\"crayon-v\">NUM_PG</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-17\"><span class=\"crayon-p\"># Cumulative number of pages required to handle the running shared memory segments</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-18\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">SEG_BYTES </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">ipcs</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'print $5'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"[0-9][0-9]*\"</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-19\"><span class=\"crayon-st\">do</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-20\"><span class=\"crayon-h\">   </span><span class=\"crayon-v\">MIN_PG</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$SEG_BYTES/($HPG_SZ*1024)\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bc</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-21\"><span class=\"crayon-h\">   </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">MIN_PG</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">gt</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-22\"><span class=\"crayon-h\">      </span><span class=\"crayon-v\">NUM_PG</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$NUM_PG+$MIN_PG+1\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bc</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-23\"><span class=\"crayon-h\">   </span><span class=\"crayon-e\">fi</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-24\"><span class=\"crayon-v\">done</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-25\"><span class=\"crayon-p\"># Finish with results</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-26\"><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-e\">KERN </span><span class=\"crayon-st\">in</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-27\"><span class=\"crayon-h\">   </span><span class=\"crayon-s\">'2.4'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">HUGETLB_POOL</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$NUM_PG*$HPG_SZ/1024\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bc</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-28\"><span class=\"crayon-h\">          </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Recommended setting: vm.hugetlb_pool = $HUGETLB_POOL\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">;</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-29\"><span class=\"crayon-h\">   </span><span class=\"crayon-s\">'2.6'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'3.8'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'3.10'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'4.1'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Recommended setting: vm.nr_hugepages = $NUM_PG\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">;</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-30\"><span class=\"crayon-h\">    </span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Unrecognized kernel version $KERN. Exiting.\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">;</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-31\"><span class=\"crayon-v\">esac</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b83167789764-32\"><span class=\"crayon-p\"># End</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b83167789764-33\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0343 seconds] -->\r\n<p>将它以 <code>hugepages_settings.sh</code> 为名保存到 <code>/tmp</code> 中，然后运行之：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975413b8b619309167\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nroot@kerneltalks # sh /tmp/hugepages_settings.sh\r\nRecommended setting: vm.nr_hugepages = 124\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b8b619309167-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b8b619309167-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b8b619309167-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975413b8b619309167-1\"><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">kerneltalks</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># sh /tmp/hugepages_settings.sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b8b619309167-2\"><span class=\"crayon-e\">Recommended </span><span class=\"crayon-v\">setting</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">vm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">nr_hugepages</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">124</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b8b619309167-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>你的输出类似如上结果，只是数字会有一些出入。</p>\n<p>这意味着，你系统需要 124 个每个 2MB 的“大内存页”！若你设置页面大小为 4MB，则结果就变成了 62。你明白了吧？</p>\n<h3 id=\"toc_4\">配置内核中的“大内存页”</h3>\n<p>本文最后一部分内容是配置上面提到的 <a href=\"https://kerneltalks.com/linux/how-to-tune-kernel-parameters-in-linux/\">内核参数 </a> ，然后重新加载。将下面内容添加到 <code>/etc/sysctl.conf</code> 中，然后输入 <code>sysctl -p</code> 命令重新加载配置。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975413b8f642009822\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nvm.nr_hugepages=126\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b8f642009822-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b8f642009822-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975413b8f642009822-1\"><span class=\"crayon-v\">vm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">nr_hugepages</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">126</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b8f642009822-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>注意我们这里多加了两个额外的页，因为我们希望在实际需要的页面数量之外多一些额外的空闲页。</p>\n<p>现在，内核已经配置好了，但是要让应用能够使用这些“大内存页”还需要提高内存的使用阀值。新的内存阀值应该为 126 个页 x 每个页 2 MB = 252 MB，也就是 258048 KB。</p>\n<p>你需要编辑 <code>/etc/security/limits.conf</code> 中的如下配置：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5ac3975413b93716025022\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsoft memlock 258048\r\nhard memlock 258048\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b93716025022-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5ac3975413b93716025022-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5ac3975413b93716025022-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5ac3975413b93716025022-1\"><span class=\"crayon-e\">soft </span><span class=\"crayon-i\">memlock</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">258048</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5ac3975413b93716025022-2\"><span class=\"crayon-e\">hard </span><span class=\"crayon-i\">memlock</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">258048</span></div><div class=\"crayon-line\" id=\"crayon-5ac3975413b93716025022-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>某些情况下，这些设置是在指定应用的文件中配置的，比如 Oracle DB 就是在 <code>/etc/security/limits.d/99-grid-oracle-limits.conf</code> 中配置的。</p>\n<p>这就完成了！你可能还需要重启应用来让应用来使用这些新的巨大页。</p>\n<p>（LCTT 译注：此外原文有误，“透明大内存页”和“大内存页”不同，而且，在 Redhat 系统中，“大内存页” 不是默认启用的，而“透明大内存页”是启用的。因此这个段落删除了。）</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113782\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113782votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113782\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/c073c3ed8ce27fd16c516364c92f7c094410b3a4.jpg", "front_image_url": ["http://wx4.sinaimg.cn/large/63918611ly1fpzj87vetej20dw099419.jpg"], "fav_nums": 0, "url": "http://blog.jobbole.com/113799/", "url_object_id": "df769d9585bb04c7096fe1e496ae06af", "comment_nums": 0, "praise_nums": "1", "create_date": "2018-04-03", "title": "站会不只是站着！那该如何开展？", "tags": "职场,敏捷开发,站会", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/chenyahui\">精算狗</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://martinfowler.com/articles/itsNotJustStandingUp.html\">Jason Yip</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>日常站会已经成为很多团队的惯例，尤其是在敏捷软件开发（Agile software development）中。然而，将有效站会和浪费时间区分开来的是很多小细节。</p>\n<p><img class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/63918611ly1fpzj87vetej20dw099419.jpg\"></p>\n<p style=\"text-align: center;\">（photo: Karthik Chandrasekarial）</p>\n<h1>我们站着以保持会议简短</h1>\n<p>日常站会（daily stand-up meeting）（也叫 daily scrum，daily huddle，morning roll-call 等）可以简单地描述为：</p>\n<blockquote><p>整个团队每天见面，快速汇报状态最新进展。我们站着以保持会议简短。</p></blockquote>\n<p>就是这样。</p>\n<p>但是这么简短的定义没有真正告诉你那些把有效站会和浪费时间区分开来的细节。</p>\n<p>所以你怎么区分呢？</p>\n<p>对有经验的人来说，当站会出问题的时候，他们凭直觉就知道该调整什么来处理问题。</p>\n<p>对新手来说，出问题时他们不太可能弄清该做什么……如果没有协助的话，他们更可能直接完全放弃这项实践。</p>\n<p>这令人感到遗憾，因为进展顺利的站会给团队带来显著的价值。</p>\n<p>为了解决这个问题，重要的是详述日常站会一般做法的好处和结果。日常站会的这些范例能够帮助缺乏经验的人，也能提醒更有经验的人其直觉背后的原因。</p>\n<h1>“好”可能是什么样？</h1>\n<p>Bob Marley 的“Get Up Stand Up”响起……像巴甫洛夫的铃铛一样，队员们不需要额外的督促就站起来漫步到卡片墙前。这首歌是每天早晨同时播放的循环歌单的一部分。</p>\n<p>有些人把卡片移动到工作流中的正确位置，包括贴上不同颜色的便利贴，写上备注。直接项目团队以外的一些人如果对此感兴趣的话，会闲逛过来看看事情进展如何。</p>\n<p>注意墙边的活动已经停下了，队长启动团队之前购买的巨大计时器；他们对日常站会实际要花多长时间感兴趣。</p>\n<p>一个队员上前一步，谈论黑板上最右边的卡片，离部署点最近。他对部署脚本还有一些疑问。另一个队员表示她能帮忙解决。人们从右到左从上到下继续描述每个工作项都发生了什么，其他人如果能帮忙解决困难就插话进去。队长在一边将提及的困难记录在进展板上。</p>\n<p>一度有一场稍长的讨论来探索怎么解决一个特定的问题。队长意识到这次拖延时，会轻轻举起一根手指打断他们…….恰恰在一个人提议他们应该线下讨论之前。</p>\n<p>一小段时间之后，大家讨论过了所有的卡片，队长询问还有没有人想分享其他事情。某人提了一个有趣的想法，是关于一个会使计划中的一些东西被淘汰的新特征。这引起了一个总试图参加站会的产品经理的兴趣，他们都同意之后再讨论。</p>\n<p>队长在团队开始传统结束仪式时转了转眼睛……1……2……3……精益求精！不是他的菜，但是他得承认，这使得事情高调结束了。</p>\n<p>人们散开并开始讨论提及的不同事情，包括那些困难，新想法和特定工作项的问题。</p>\n<h1>当人们试图一起工作时发生的特定问题</h1>\n<p>当一队人试图作为团队工作时会发生特定的问题，日常站会是这些问题的常见解决方法。</p>\n<p>站会是定期同步的机制，这样团队……</p>\n<p><strong>对目标有同样的理解。</strong>即使我们觉得一开始是互相理解的（很可能并不是），我们的理解也会发生变化，就像我们工作的背景会发生变化。如果一个“团队”中的每个成员是朝不同的目标工作的，那么这个“团队”是无效的。</p>\n<p><strong>协调工作</strong>。如果不需要协调工作，你也就不需要团队。反过来，如果你有一个团队，我假定工作就需要协调。队员之间蹩脚的协调往往会导致糟糕的结果。</p>\n<p><strong>分享问题和改进。</strong>团队合作与单独工作相比，主要好处之一就是在某人遇到问题或者发现一个更好的做事方法时，队员能够互相帮助。如果一个“团队”的队员对分享问题感到不适，而且/或者不互相帮助，那么这个团队往往是无效的。</p>\n<p><strong>识别为一个团队。</strong>如果你不经常与团队接触，在心理上认同一个团队是很困难的。即使你认为他们有能力，而且追求同一个目标，你也无法产生强烈的关联感。</p>\n<h1>日常站会的范例</h1>\n<p>我整理了一些范例来回答下列问题：</p>\n<p>▪谁参加？</p>\n<p>▪我们谈论什么？</p>\n<p>▪我们发言的顺序是什么？</p>\n<p>▪时间和地点？</p>\n<p>▪我们怎么保持精神抖擞？</p>\n<p>▪我们怎么鼓励自主？</p>\n<h1>谁参加？</h1>\n<h2>所有人</h2>\n<p>来自不同领域（比如市场，产品支持，上层管理，培训等）的人和代表希望了解项目的状态和进程，并且/或者贡献一份力量。在多次会议和报告中交流项目状态需要大量重复的工作。</p>\n<p><em>因此</em></p>\n<p>将部分或者全部会议和报告替换成日常站会。任何直接相关的人员，或者想要了解项目的日常工作的人员应该只参加日常站会。</p>\n<p><em>但是</em></p>\n<p>如果不直接相关的人不清楚什么是期望行为，可能会打断站会。这可以通过简单地向新的参与者和观察者提前声明预期规范来解决。</p>\n<p>不是所有形式的报告都是，或者应该是站会形式的。举例来说，项目概述使用<a href=\"http://xprogramming.com/articles/bigvisiblecharts/\">大型可视化图表（Big Visible Chart）</a>会更好，比如燃尽图（burn-down）、燃烧图（burn-up）、累计流量表（cumulative flow diagram）等。</p>\n<h2>工作事项核心</h2>\n<p><em><strong>也叫：</strong></em>故事核心的站会</p>\n<blockquote><p>如果故事对项目来说非常重要，站会中就该是<strong>它们</strong>发言</p>\n<p><a href=\"http://www.exampler.com/blog/2007/11/06/latour-3-anthrax-and-standups/\"><em>— Brian Marick, “Latour 3: Anthrax and standups”</em></a></p></blockquote>\n<p>人们太<strong>注意接力者了，而没有给予接力棒足够的重视</strong>。也就是，人人都在忙着做事，但并不一定是处理工作事项。</p>\n<p><em>因此</em></p>\n<p>把日常站会看作是以工作事项（例如在敏捷软件开发背景下的用户故事）为核心的惯例，而不是人的惯例，与会者只是代表工作事项发言……因为工作事项显然不会说话。</p>\n<p><strong>昨日今日困难</strong>的问题可能仍然适用，但是是从工作事项角度出发的，而不是从人的角度出发的。这也意味着不是每个人都会发言。人们没有责任要说跟改进工作无关的事情。</p>\n<p>由于这样更清晰的关注点，人们更可能在不需要督促的情况下提出困难和申请解决困难。</p>\n<p><em>但是</em></p>\n<p><a href=\"http://blog.mountaingoatsoftware.com/should-the-daily-standup-%20be-person-by-person-or-story-by-story/comment-page-1#comment-23428\">没有发言的责任可能会隐藏一些人的问题，他们害羞或者往往在这种情况下不发言。</a>这在以工作事项为核心的情况下更难察觉。</p>\n<h1>我们谈论什么？</h1>\n<h2>昨日今日困难</h2>\n<p><em><strong>也叫：</strong></em>三个问题</p>\n<p>有些人健谈，可能漫谈到<strong>讲故事</strong>中去。有些人想在听到问题后立即开始<strong>解决问题</strong>。过于长的会议往往是低迷的，与长时间的讨论没有直接关系的参与者往往会分心。</p>\n<p><em>因此</em></p>\n<p>用以下格式组织谈话内容：</p>\n<ol>\n<li>我昨天完成了什么？</li>\n<li>我今天要做什么？</li>\n<li>什么障碍拖延了我的进度？</li>\n</ol>\n<p>满足日常站会的目标至少需要这 3 个问题。讨论的其他主题（例如设计讨论，八卦等）应该推迟到会议结束后。</p>\n<p>Olve Maudal 建议应该掉转问题的顺序来强调重要性的正确顺序：</p>\n<blockquote><p><em>1、有什么障碍？</em></p>\n<p><em> 2、今天要做什么？</em></p>\n<p><em> 3、从昨天起完成了什么？</em></p>\n<p><a href=\"http://olvemaudal.wordpress.com/2008/05/15/daily-stand-up-meetings-%20perhaps-the-third-question-should-go-first/\"><em>— Olve Maudal, “Daily Stand-up Meetings – Perhaps the third question should go first?”</em></a></p></blockquote>\n<p>Lasse Koskela 提出了另一种形式的问题，为了强调队员不应该向队长汇报：</p>\n<blockquote><p><em>每个队员向他的同伴更新信息：</em></p>\n<p><em>每个队员依次向他的同伴提供 3 条信息：</em></p>\n<p><em> 1、昨天开会以来我做的事情</em></p>\n<p><em> 2、我今天要做的事情</em></p>\n<p><em> 3、我需要某人来解决的困难</em></p>\n<p><a href=\"http://radio.javaranch.com/lasse/2006/05/07/1147034972559.html\"><em>— Lasse Koskela, “On Scrum and the curse of the three questions”</em></a></p></blockquote>\n<p>Jonathan Rasmussen 提供了不同的说法来改变站会的动态：</p>\n<blockquote><p>▪<em>你昨天做了什么来改变世界</em></p>\n<p>▪<em>你今天准备怎么做</em></p>\n<p>▪<em>你准备怎么突破任何不幸挡了你路的困难</em></p>\n<p><em>回答这些类型的问题完全改变了站会的动态。你正在使尽浑身解数，宣布你对宇宙的意图，而不是仅仅站在那陈述更新信息。</em></p>\n<p><a href=\"https://www.amazon.com/gp/product/1934356581?ie=UTF8&amp;tag=martinfowlerc-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1934356581\"><em>— Jonathan Rasmusson, The Agile Samurai</em></a></p></blockquote>\n<p>还有很多团队加入了额外的问题。</p>\n<p><a href=\"http://joel.is/an-invitation-to-come-and-hack-on-buffer/\">Buffer 增加了一个部分，人们可以分享手头上用来提升自己的事请。</a></p>\n<p>Thomas Cagley 建议<a href=\"https://tcagley.wordpress.com/2014/07/18/stand-up-meetings-add-ons/\">寻找风险</a>。</p>\n<p>Mark Levison 发现，增加更有针对性的改进问题是有用的。改动后两个问题来与具体背景接轨。</p>\n<blockquote><p><em> 1、你昨天完成了什么？</em></p>\n<p><em> 2、你今天要做什么？</em></p>\n<p><em> 3、</em> <em>障碍/困难有哪些？</em></p>\n<p><em> 4、你昨天注意到什么代码味道/缺少单元测试……了吗？</em></p>\n<p><em> 5、昨天你对代码做了哪些改进？</em></p>\n<p><a href=\"https://agilepainrelief.com/notesfromatooluser/2011/01/daily-stand-up-variations.html#.VsoT4ZMrLeQ\"><em>— Mark Levison, “Daily Stand-Up Variations”</em></a></p></blockquote>\n<p><em>但是</em></p>\n<p>结构不像由问题的答案所提供给我们的信息那么重要。如果提供信息的准则不那么结构化，遵循清单就不重要了。随着团队成长，你可能会发现你想要调整结构，反映了这个范例是如何演变的。</p>\n<p>更大的问题是，<strong>昨天今天困难</strong>是否太过于关注个人成就，而不是注意正确的事情……这就引向了。</p>\n<h2>改进板（Improvement Board）</h2>\n<p><em><strong>也叫</strong>__<strong>：</strong></em>阻碍板（Blockage Board）、障碍板（Impediment Board）、改善新闻表（Kaizen Newspaper）</p>\n<p>站会中提出的困难没有被解决或者及时处理。</p>\n<p><em>因此</em></p>\n<p>把提及的困难贴到<strong>改进板</strong>上。这是一个公开可见的白板或者表格，记录提及的困难，并跟踪解决方法的进度。一个<strong>改进板</strong>可以在站会以外的时间更新，并作为一个更即时的、不那么具有压迫性的提出困难的方法。一个常见的错误是没能写得足够大，使人们能在很远的地方看到。</p>\n<p>把问题写下来并坦率地承认它的简单行为是减少在对话中走神的可靠方法。所以即使不是每个人都同意某个特定事物是障碍，写下来以便会议结束后讨论也是值得的。</p>\n<p>加上每个提及的困难发生的次数，这强调了哪些问题一般来说更重要，得先处理。</p>\n<p>板面的设计有几种方法。比如像下面一样的表格结构：</p>\n<table cellspacing=\"0\" cellpadding=\"5\">\n<tbody>\n<tr>\n<td valign=\"top\"><strong>问题</strong></td>\n<td valign=\"top\"><strong>计数</strong></td>\n<td valign=\"top\"><strong>控制</strong></td>\n<td valign=\"top\"><strong>对策</strong></td>\n<td valign=\"top\"><strong>状态</strong></td>\n</tr>\n<tr>\n<td valign=\"top\">问题的名字</td>\n<td valign=\"top\">问题发生的计数</td>\n<td valign=\"top\">短期解决方法</td>\n<td valign=\"top\">基于根本原因分析的 长期解决方法</td>\n<td valign=\"top\">计划-执行- 检查-行动</td>\n</tr>\n</tbody>\n</table>\n<p>另一种更像任务板的风格：</p>\n<table cellspacing=\"0\" cellpadding=\"5\">\n<tbody>\n<tr>\n<td valign=\"top\"><strong>要做</strong></td>\n<td valign=\"top\"><strong>正在进行</strong></td>\n<td valign=\"top\"><strong>已完成</strong></td>\n</tr>\n<tr>\n<td valign=\"top\">代表困难的卡片</td>\n<td valign=\"top\">当我们主动解决困难时， 把对应的卡片移动到这里</td>\n<td valign=\"top\">当我们解决了困难时， 把对应的卡片移动到这里</td>\n</tr>\n</tbody>\n</table>\n<p><em>但是</em></p>\n<p>如果提出了太多困难，团队没有能力解决的话，要冒着<strong>改进板</strong>变成抱怨板的风险。</p>\n<h1>我们发言的顺序是什么？</h1>\n<h2>最后到达的最先发言</h2>\n<p>在站会期间，与会者得知道谁应该先发言。由协调人决定谁先发言是与自我组织对抗的、虽然微妙、但是确切的力量。在不需要干预的情况下，团队也应该知道谁先发言。</p>\n<p><em>因此</em></p>\n<p>同意<strong>最后到达的人先发言</strong>。这是个简单的规则，也带来了额外的好处——鼓励人们准时参加站会。</p>\n<p><em>但是</em></p>\n<p>最后到达的人可能也是准备最不充分的，不能给站会开一个好头。</p>\n<h2>接龙</h2>\n<p>在站会期间，与会者得知道谁应该先发言。由协调人决定谁先发言是与自我组织对抗的、虽然微妙、但是确切的力量。在不需要干预的情况下，团队也应该知道谁先发言。</p>\n<p>因此</p>\n<p>使用一个简单的、预先制定的规则来决定谁下一个发言，例如<strong>接龙</strong>。顺时针转还是逆时针转不重要，重要的是团队主导会议，而不是协调人或者经理主导会议。</p>\n<h2>传递信物</h2>\n<p>有了简单的、可预测的排序机制（例如<strong>接龙</strong>），直到快轮到自己发言之前，参与者很容易忽略其他发言人。人们往往会想其他事情，而不是注意听其他人说了什么。</p>\n<p><em>因此</em></p>\n<p>引进一个不可预测的排序机制，比如投掷一个发言信物（例如一个球）来决定谁下一个发言。用发言信物也简化了谁第一个发言的问题，可以是恰好取回信物的人（或者是他/她把信物投向的第一个人）。</p>\n<p>投掷东西也给日常站会增添了一点乐趣，也可以作为一个良好的、感染其他观察团队的机制。</p>\n<p>我在参加与 Simon Stewart 合作的一个项目时第一次学到这个方法。我们用了一个小杂耍球，但是几乎所有东西都可以用作信物。其他团队用过<a href=\"http://edgibbs.com/2006/08/14/passing-a-rugby-ball-in-standups/\">橄榄球</a>，甚至<a href=\"http://kanemar.wordpress.com/2006/05/13/controling-the-flow-of-daily-%20meetings-with-a-team-mascot/\">毛绒玩具</a>。</p>\n<p><em>但是</em></p>\n<p>对大一点的团队来说，可能很难记住谁已经发过言了。在这些情况下，坚持像<strong>接龙</strong>这样简单一点的机制更容易。</p>\n<p>取决于组织甚至团队的文化氛围，扔球可能会显得不专业，对这个惯例产生不必要的负面看法。</p>\n<h2>抽一张卡片</h2>\n<p>在站会期间，与会者得知道谁应该先发言，之后谁应该发言。由协调人决定谁先发言是与自我组织对抗的、虽然微妙、但是确切的力量。团队不喜欢传信物是因为他们手里一般都拿着杯咖啡。</p>\n<p><em>因此</em></p>\n<p><a href=\"http://%20web.archive.org/web/20090526072425/http://www.robbyonrails.com/articles/2006/05/29/the-%20daily-stand-up-part-2\">让每个队员抽一张卡片来决定发言顺序。</a>想象一摞卡片，每张卡片上有一个数字。每个队员到达时可以选一张卡片，根据卡片上的数字来决定发言顺序。</p>\n<h2>过一遍板</h2>\n<p><em><strong>也叫：</strong></em>过一遍墙</p>\n<blockquote><p><em>站会保证每个人都不闲着。过一遍板上的内容保证每个人都只关注最重要的事。</em></p>\n<p><em>— Bret Pettichord via Twitter</em></p></blockquote>\n<p> </p>\n<blockquote><p><em>会议形式的另一个问题是，没有清楚地讨论任务或者工作流。每个话题被简单提及，取决于队员发言的顺序。这使得正在发生的事情很难讲清楚。</em></p>\n<p><a href=\"http://web.archive.org/web/20090611160352/http://dnicolet1.tripod.com/%20agile/index.blog?entry_id=1900488\"><em>— Dave Nicolette, “An alternative format for the daily stand-up”</em></a></p></blockquote>\n<p>人们更关注让自己忙起来，而不是真正改进工作，所以你转向一个以工作事项为核心的模型，而不是以人为核心的模式。但是，即使是工作事项核心的站会，如果使用了像<strong>接龙</strong>或者<strong>传递信物</strong>这样的传统排序机制，也很难理解发生了什么。</p>\n<p><em>因此</em></p>\n<p><strong>过一遍板</strong>，就是在站会中过一遍可视管理板上的每个工作事项。</p>\n<p>大多数敏捷和精益团队使用可视管理系统来展示正在处理的工作事项。对敏捷软件开发来说，这可能叫做任务板（task board）、故事墙（story wall）或者看板（Kanban board）。这些板展示工作事项的进程。通常用在板上移动卡片的方法来展示进程。理论上，垂直位置表示优先程度。</p>\n<p>站会中，从尾到头（例如从右到左）并从高优先级到低优先级（例如从上到下）过一遍每个工作事项。你可能在板上明确地标明应该使用怎样的顺序。</p>\n<p>Pawel Brodzinski 提出了一个<a href=\"http://brodzinski.com/2011/12/effective-standups.html\">默认顺序</a>：</p>\n<p>1. 困难</p>\n<p>2. 加速或者紧急事件</p>\n<p>3. 上次站会后没再有新进展的事项（可能卡住了）</p>\n<p>4. 根据优先级的其他事件</p>\n<p><em>但是</em></p>\n<p>显然，一块板是需要预先准备的，不是所有团队都有。在这种情况下，一人一人发言的结构更合适。</p>\n<p><strong>过一遍板</strong>更可能会屈从于<strong>向队长汇报</strong>，如果没有应用<strong>轮流当协调人</strong>或者其他自我组织范例。</p>\n<h1>时间和地点</h1>\n<h2>在工作地点开会</h2>\n<blockquote><p><em>在工作场地开会，而不是在会议室。</em></p>\n<p><a href=\"http://www.leanblog.org/2010/08/video-of-a-daily-huddle-at-everett-clinic/\"><em>— Marc Graban, “Video of a Daily Huddle at Everett Clinic”</em></a></p></blockquote>\n<p>工作地点有很多触发记忆的东西，能让你想起来发生的事情。</p>\n<p>我们也不希望日常会议需要大量提前协调、寻找再走到开会的房间。</p>\n<p><em>因此</em></p>\n<p><strong>在工作地点开会</strong>，而不是在会议室。如果你们有故事墙或者看板，就在它前面开会。</p>\n<p><em>但是</em></p>\n<p>附近的其他人可能会觉得会议的噪音令人分心。这一般暗示了潜在的糟糕工作空间设计，但仍然必须被承认。</p>\n<h2>同样的时间，同样的地点</h2>\n<p>我们希望团队对站会有主人翁意识。我们也希望利益相关方能路过旁听一场站会，避免再安排另一场状态会议。如果任意队员都能强制推迟或者改变站会的地点，这就很难实现。</p>\n<p><em>因此</em></p>\n<p>团队要同意在<strong>同一时间同一地点</strong>开站会。不要等掉队的人，包括发起人和经理。会议是为整个团队开的，而不是为了某个人。如果你<strong>用站会来开始一天</strong>的话，这就尤其重要了。</p>\n<p>一些更严格的团队可能会惩罚迟到者。我倾向于讨论，并谨慎使用任何惩罚。</p>\n<p><em>但是</em></p>\n<p><strong>同一时间同一地点</strong>并不是盲目地不知变通。重要的是开始时间基本一致，很少要重新安排。如果经常需要重新安排，可能意味着应该调整开始时间。如果每个人都不方便去某个地方，很可能意味着应该调整地点。</p>\n<h2>用站会来开始一天</h2>\n<p>日常站会让我们意识到并注意突出问题。如果在晚些时候开站会，那么这种注意和意识就浪费了。</p>\n<p><em>因此</em></p>\n<p><strong>用站会来开始一天。</strong>由于弹性工作时间，不是每个队员都在同一时间开始上班。针对弹性工作时间的一个常见方法是利用核心工作时间。站会应该在核心工作时间开始时开始。</p>\n<p>类似地，如果队员由于个人原因要迟到一会（比如得送孩子上学），站会开始时间应该设在每个人都能参加的时刻。</p>\n<p><em>但是</em></p>\n<p>在站会前大家往往不会做任何与项目相关的任务。如果<strong>开始一天的站会开晚了</strong>，懒散时间会很显著。到某种程度下，这些时间可能会被简单地用来查看邮件、填时间表等。但是把站会安排在晚一点的时间，而不是“一天的开始”值得研究。</p>\n<h2>别用站会来开始一天</h2>\n<p>站会往往被作为为一天设置关注点的惯例，尤其是如果你<strong>用站会来开始一天</strong>。因此，在站会开始前，队员往往不处理特性。当会议实际上不是第一件事时，这个倾向可能会对生产效率有显著影响。</p>\n<p><em>因此</em></p>\n<p><strong>别用站会来开始一天。</strong>把日常站会安排到一个足够晚的时间，晚到人们不会从心理上把会议和一天的开始联系在一起。</p>\n<p><em>但是</em></p>\n<p>如果不用日常会议开始一天，那它就不能再作为一个在一天的开始设定团队关注点的惯例了。效率的明显提高可能不值得这样的代价，取决于不同团队。</p>\n<p>当有很多项目用到站会时，可能同时有很多站会。对多个项目感兴趣的观察者可能想要更改站会时间，这样他们能都参加。问题在于，如果一个观察者能要求与会者调整他/她的安排，会威胁到团队的主人翁意识。然而，在决定什么时候开站会时也必须考虑这一点。</p>\n<h1>我们怎样保持精神抖擞？</h1>\n<h2>聚集在一起</h2>\n<blockquote><p><em>我经常发现的问题是，人们往往把日常站会看作简单的个人报告。“我做了这个……我要做那个”——接着下一个人也这么说。更理想的方法是站得更近，像足球队围在一起那样。</em></p>\n<p><a href=\"https://www.linkedin.com/pulse/20140926150354-136414-the-origin-of-the-daily-stand-up\"><em>— Jeff Sutherland, “The Origin of The Daily Stand-up”</em></a></p></blockquote>\n<p>讲话的音量影响参与度，也影响交流的效率。物理距离会改变好的交流所要求的音量。有些人不大声讲话，大声讲话会感到不舒服。</p>\n<p><em>因此</em></p>\n<p>站会更应该是 <strong>Huddle </strong>而不是会议。如果很难听清，让大家站近一点。除了可以用更轻松的说话音量，身体上更接近往往也会增加与会者的参与度。能够站得更近也表现了队里更多的信任感。如果站会是一个新事物，用手势招呼别人参加和说些有“来吧。”效果的话通常来说就足够了。如果圈子的大小已经建立了一段时间，在尝试缩小它之前考虑解释一下缩小圈子的原因。</p>\n<p><em>但是</em></p>\n<p>团队必须平衡近距离和个人舒适区域。即使在非常有信任感的团队中，也有一个点，站得太近以至于超过了这个点，人们会觉得不舒服。症状往往是与会者紧张并/或者坐立不安。</p>\n<h2>站起来</h2>\n<p>有些人健谈，可能漫谈到<strong>讲故事</strong>中去。有些人想在听到问题后立即开始<strong>解决问题</strong>。过于长的会议往往是低迷的，与长时间的讨论没有直接关系的参与者往往会分心。</p>\n<p><em>因此</em></p>\n<p>在会议期间要求所有与会者<strong>站起来</strong>。用站立来链接身体和心理的意愿。身体上的不适也会提醒与会者会议拖得过长了。鼓励这种做法的一个简单方法是：直接在没有椅子的地方开会。</p>\n<p><em>但是</em></p>\n<p>站起来往往会导致会议缩短，但并不保证会缩短到一个理想的时长。人们可能会学着适应不适感而不是采用一个更合适的对策。而且如果会议<em>没有</em>拖得过长，也没有跑题，站起来就是一个不必要的仪式了。</p>\n<h2>十五分钟或者更短</h2>\n<p>大多数人会在长时间的会议中走神。又长又无聊的会议是一个糟糕的、消耗精力的开始一天的方法。一个具体的时长帮助我们想起来什么时候该考虑调整，以缩短会议时长。</p>\n<p><em>因此</em></p>\n<p>保持日常站会在<strong>十五分钟或者更短</strong>。一般来说，十五分钟过后，普通人开始走神，这对设定关注点来说一点帮助都没有。</p>\n<p><em>但是</em></p>\n<p>十五分钟对小一点的团队来说可能太长了。由于走神的影响，甚至对大一点的团队来说，十五分钟是一个好的限制。另外，会议也可能太短，以至于结束时，与会者仍然不清楚发生了什么或者该问谁来弄清楚。</p>\n<h2>结束信号</h2>\n<p>在最后一个人发言结束后，团队可能不会马上意识到会议结束了。如果人们是逐渐意识到该散了的，会议不能高调结束，可能会导致<strong>低迷</strong>。</p>\n<p><em>因此</em></p>\n<p>用一句顺嘴的话（例如，<a href=\"http://edgibbs.com/2006/08/07/signaling-the-end-of-a-standup/\">“好了，大家去吃午饭吧。”</a>）或者其他动作作为站会<strong>结束的信号</strong>。</p>\n<h2>给会议计时</h2>\n<p>很难从量上判断站会是否超时，尤其在长度是逐渐增加的情况下。</p>\n<p><em>因此</em></p>\n<p><strong>给会议计时</strong>并发布结果。大多时候，与会者仅仅是没有意识到<strong>讲故事</strong>的影响，没有准备要线下讨论，也没有准备会议要开多久。把它量化。</p>\n<p><em>但是</em></p>\n<p>和所有措施一样，除非真的有一个要完成的目标是由于能量级导致的问题，不应该引入给会议计时的方法。一旦完成目标，应该抛弃这个方法。没有特定的原因就计时会导致怀疑和对度量的冷漠。</p>\n<p>时间是精力、注意力和节奏的代表。要更注意这些东西而不是时间。</p>\n<h2>线下讨论</h2>\n<p>有些人想要在听到问题后立即开始<strong>解决问题</strong>。过于长的会议往往是低迷的，与长时间的讨论没有直接关系的参与者往往会分心。承认要解决提及的问题需要进一步讨论仍然是重要的。有些人可能会觉得打断站会的结构不舒服。</p>\n<p><em>因此</em></p>\n<p>用像“<strong>线下讨论</strong>”这么一句简单一致的话作为提示，提醒大家这样的讨论应该在日常站会外进行。如果讨论的是社交，没有更多要求。如果讨论的是<strong>解决问题</strong>，协调人（最终就是团队）应该确保提名或者指定了正确的人来之后解决问题。</p>\n<p>或者，有些团队使用更间接的信号。</p>\n<p>例如，Mike Cohn 描述了一个信号，使用<a href=\"http://www.marketplace.org/2012/02/20/life/hate-those-endless-meetings-try-standing\">橡胶老鼠来暗示“我们要钻进老鼠洞了”</a>。</p>\n<p>Benjamin Mitchell 描述了一个双手法则：</p>\n<blockquote><p><em>如果任何人觉得现在的对话跑题了，或者已经不再有效率了，他们就举起一只手。一旦另一个人也举起了手，就标志着这段对话该结束了，并继续站会的剩余部分。正在发言的人可以在站会结束后继续。</em></p>\n<p><a href=\"http://blog.benjaminm.net/2012/02/23/overlong-agile-stand-up-two-hand-rule/\"><em>— Benjamin Mitchell, “Stuck in an overlong Agile stand up? Try the two hands rule”</em></a></p></blockquote>\n<p><em>但是</em></p>\n<p><strong>解决问题</strong>和澄清问题有不同之处。没有被理解的信息是没用的。允许澄清问题到哪种程度取决于团队的大小以及是否会影响<strong>十五分钟或更短</strong>这一规则。</p>\n<h1>我们怎么鼓励自主？</h1>\n<h2>轮流当协调人</h2>\n<p>队员<strong>向队长汇报</strong>，也就是他们只跟会议协调人说话，而不互相说话。会议协调人只提出并解决与站会相关的过程问题。我们希望团队作站会的主人，这就要求去除对单个协调人的依赖。</p>\n<p><em>因此</em></p>\n<p><strong>轮流当协调人。</strong>轮流安排队员负责确保大家参加站会，并坚持商定的准则。</p>\n<p><em>但是</em></p>\n<p>没有丰富站会经验的团队从一个经验丰富的教练那收获颇多。更重要的是，团队应该戒除依赖，对站会掌握更多的控制。到了一定时刻，就不该要协调人了。</p>\n<h2>打破眼神交流</h2>\n<p>队员<strong>向队长汇报</strong>，也就是他们只跟会议协调人说话，而不互相说话。会议协调人只提出并解决与站会相关的过程问题。我们希望团队作站会的主人，这就要求去除对单个协调人的依赖。</p>\n<p><em>因此</em></p>\n<p>协调人必须<a href=\"http://radio.javaranch.com/lasse/2006/05/07/%201147034972559.html#comment1147110635098\">打破眼神交流</a>，来委婉提醒发言者，他/她应该强调整个团队而不是一个人。一种方法是<a href=\"http://www.netobjectives.com/podcasts/last20060719_podcasts.mp3\">四处走走，这样当前的发言者就看不见协调人了</a>。</p>\n<h1>我们怎么知道什么时候站会进行得不顺利？</h1>\n<blockquote><p><em>我忍受了三年日常站会。站会中最让我痛苦的是我的老板（我叫他 Wally）。他开站会的主要原因不是提高效率，也不是尽可能多地用 XP 来减少人与人在与产品直接相关事情之外的互动。然而，对 Wally 来说，站会（例如周一早上 7 点的会议和周五下午 5 点的会议）是用来加强雇主和雇员关系的忠诚度测试。</em></p>\n<p><a href=\"http://queue.acm.org/detail.cfm?id=957730\"><em>— Phillip A. Laplante, “Stand and Deliver: Why I Hate Stand-Up Meetings”</em></a></p></blockquote>\n<p>站会的“味道”是极好的暗示事情进展不顺利的指示剂。重要的是注意即使你没有闻到什么，也不意味着站会进行得顺利。这只意味着它不臭。</p>\n<p>下面的这些味道，大多数都与前面的范例有关。与前面的范例无关的那些，潜在的问题往往更轻微，或者是在日常站会的关注点之外；人们得想出自己的解决方法。</p>\n<h2>注意接力者，而不是接力棒</h2>\n<p>人们太注意自己正在做什么了，而忽略了去考虑他们的行动是不是真的在改进工作。重新组织站会，这样就是<strong>以工作事项为核心</strong>了。</p>\n<h2>向队长汇报</h2>\n<p>队员面对着经理或者会议协调人，还要跟他们说话，而不是跟团队说话。这表明日常站会是为经理/协调人准备的，但它实际上是为团队准备的。有很多方法来打破这种依赖性：<strong>轮流当协调人</strong>，<strong>打破眼神交流</strong>，改变<strong>昨日今日困难</strong>问题的模式，<strong>传递信物</strong>等。</p>\n<h2>人们会迟到</h2>\n<p>这直接用<strong>同一时间同一地点</strong>解决，但是像之前提到的，这可能意味着站会举办的时间或者地点不对。</p>\n<p>有其他范例来处理这个问题，比如罚款。但是，我一般不推荐这些方法，因为它们暗示这些问题是外在推动的，但是更可能有其他原因。</p>\n<h2>开始一天的站会开晚了</h2>\n<p>由于站会被视为工作日的开始，站会之前没有工作能完成。这可能会对可用工作时间产生显著影响，取决于早晨的站会多晚开始。这引向了<strong>别用站会来开始一天</strong>。</p>\n<h2>社交</h2>\n<p>站会的目标之一是提高团队的社会化程度。但是，日常站会不是为了队员能在与项目无关的事上互相“跟上”。很难举出例子，因为社交从团建到偏离的程度取决于不同的团队。这个界可以从未直接参与到社会化中的参与者的行为中检测到。如果他们保持积极的精力水平，那么可能就是团建；如果他们的精力水平降低，那么就<strong>线下讨论</strong>，可能的话用另一场讨论来充当<a href=\"http://web.archive.org/web/20070103031934/http://www.easycomp.org/cgi-bin/%20OrgPatterns?TheWaterCooler\">饮水机</a>。</p>\n<h2>我不记得了</h2>\n<blockquote><p>我昨天做了什么？<em>…__…</em>我不记得了<em>……</em>我今天在做什么？<em>…__…</em>我不知道<em>…__…</em></p></blockquote>\n<p>缺乏准备导致更慢的进节奏，从而导致低迷。这也冒着满足不了<strong>十五分钟或更少</strong>这一规则的风险，这会进一步降低精力水平。</p>\n<p>绕过这个问题的一个好方法是转向<strong>以工作事项为核心</strong>的站会，并<strong>过一遍板</strong>。</p>\n<p>否则，这是一个期望的问题，期望人们有责任知道<strong>昨日困难今日</strong>问题的答案。</p>\n<h2>讲故事</h2>\n<p>参与者不是只简单描述一个问题，而是提供了足够的细节和背景导致别人走神。一般规则是在站会期间识别困难，在站会后讨论细节。这可以总结为“讲讲标题，而不是整个故事”或者<strong>线下讨论</strong>。</p>\n<h2>解决问题</h2>\n<blockquote><p>站会是提出问题和表面想法的时间，而不是深度解决问题的时间。</p>\n<p><em><a href=\"http://www.leanblog.org/2010/08/video-of-a-daily-huddle-at-everett-clinic/\">— Marc Graban, “Video of a Daily Huddle at Everett Clinic”</a></em></p></blockquote>\n<p>保持站会在<strong>十五分钟或者更短</strong>的关键是在会议期间限制<strong>讲故事</strong>，别屈服于<strong>解决问题</strong>。<strong>线下讨论</strong>。</p>\n<h2>低迷</h2>\n<p>低迷可能暗示着由<strong>讲故事</strong>、<strong>解决问题</strong>等导致的节奏变缓。在这种情况下，<strong>线下讨论</strong>。低迷可能仅仅是团队规模的问题。低迷也可能暗示该试试备选的<strong>用站会来开始一天</strong>和<strong>别用站会来开始一天</strong>。</p>\n<h2>没提及的困难</h2>\n<p><strong><em>也叫：</em></strong><a href=\"http://blog.jbrains.ca/permalink/stand-updaily-scrum-focus-on-achievement-and-commitment\">游记</a></p>\n<p>困难没被提及有很多原因。不记得了、高疼痛阙值、对提出问题的不信任感（因为<strong>困难没有被解决</strong>）、没有提出问题的方便渠道等。协调人应该鼓励人们提困难。</p>\n<p>引进一个<strong>改进板</strong>也能提供一个不那么有压迫感的中介。<a href=\"http://www.retrospectives.com/\">Retrospectives</a> 是发现<strong>困难没有被提及</strong>的潜在原因的有效方法。</p>\n<h2>困难没有被解决</h2>\n<p>除了埋怨环境之外，让人们停止提困难的最确定的方法是别解决困难。为了让人们很难忘记或者忽略困难，用<strong>改进板</strong>公开跟踪它们。</p>\n<h2>只有在站会上提出的困难</h2>\n<p>站会充当一个安全网。在最糟糕的情况下，一天内会将一个困难与更大的团队交流。但是，开站会并不是为了避免问题被提出并在一天内解决。引进一个像<strong>改进板</strong>这样的替代媒介来提出困难可能有用。如果没用，潜在原因可能会在使用 <a href=\"http://www.retrospectives.com/\">Retrospectives</a> 时发现。</p>\n<h1>真的只是每天一起站起来</h1>\n<p>希望这篇文章为你提供了一些关于有效站会的细节和常见问题指示的见解。要清楚日常站会不仅仅是每天一起站起来。</p>\n<p>在一天结束时，重要的是不要太在意每一个范例，或者有某些“味道”。记住我们正试着解决的问题。大家精力充沛吗？大家在分享问题和想法吗？大家是否专注于我们的目标？大家是否像一个团队一样工作？每个人都知道发生了什么吗？</p>\n<p>如果你能肯定地回答这些问题，站会很可能还比较顺利。毕竟，真的只是每天一起站起来。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113799\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113799votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113799\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/chenyahui\">精算狗</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/chenyahui\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/chenyahui\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/chenyahui/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/chenyahui/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a> · <a title=\"QQ：564968845\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：564968845\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"},{"front_image_path": "full/4f40ac43ac01e64e0f4b96cceb82a2b2bd8898a3.jpg", "front_image_url": ["https://pic.36krcnd.com/201803/10141844/8fkz2ekh01zhphjt.jpeg!1200"], "fav_nums": 5, "url": "http://blog.jobbole.com/113785/", "url_object_id": "86a8795768a1192f6a4d22bbb49ab0d7", "comment_nums": 1, "praise_nums": "1", "create_date": "2018-03-26", "title": "刚开始学编程？这几款小工具能让你事半功倍", "tags": "IT技术,Web前端,编程", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://medium.freecodecamp.org/tools-i-wish-i-had-known-about-when-i-started-coding-57849efd9248\">Mario Hoyos</a>   译文出处：<a target=\"_blank\" href=\"http://36kr.com/p/5121154.html\">36氪</a>   </div><p><img src=\"https://pic.36krcnd.com/201803/10141844/8fkz2ekh01zhphjt.jpeg!1200\" alt=\"åå¼å§å­¦ç¼ç¨ï¼è¿å æ¬¾å°å·¥å·è½è®©ä½ äºååå\"></p>\n<p>科技行业里，可供人们使用的工具成百上千，你要怎么知道用哪一种上手最合适呢？</p>\n<p>拿最近刚进入编程这行的人来说吧，大量的工具信息堆砌过来其实毫无益处，反而会无从下手。我发现在自己的开发过程中，很多安装的扩展工具不仅没有真正起到助益作用，反而常常妨碍了正常的开发工作。</p>\n<p>我不是专家，不过随着时间的推移，我还是编制了一份工具清单，这些工具已经证明对我非常有用。如果你刚刚开始学习怎么编程的话，这个清单能给你提供一些指导。如果你是个经验丰富的开发人员，也希望你能从中学到一些新的东西。</p>\n<p>我将把这篇文章分为Chrome扩展程序和VS代码扩展扩展程序两部分。我知道还有其他的浏览器和文本编辑器，但是我想你当然只能在你能找到的工具里选择，所以还是别因为个人喜好而引起一场宗教般的争论。</p>\n<p>请随便选。</p>\n<h3>Chrome扩展程序</h3>\n<p><span class=\"load-html-img loaded\"><img src=\"http://jbcdn2.b0.upaiyun.com/2018/03/8b4aab0d40f4316375f7cd578ff0286e.jpeg\" alt=\"刚开始学编程？这几款小工具能让你事半功倍\"></span></p>\n<p>现在设我是一位web开发人员，以Chrome为阵地。下面是一些能让我少花点时间的工具：</p>\n<ul class=\" list-paddingleft-2\">\n<li><a href=\"https://chrome.google.com/webstore/detail/whatfont/jabopobgcpjmedljpbcaablpmlmfcogm?hl=en\">WhatFont</a> —— 名字就说明了一切。这是找出你最喜欢网站使用的字体的简单方法，这样你就可以为己所用了。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/pesticide-for-chrome/bblbgcheenepgnnajgfpiicnbbdmmooh?hl=en\">Pesticide</a>—— 修改CSS的绝佳程序。当我试着学习匣子模型的时候，它简直就是救命稻草般的存在。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/colorzilla/bhlhnicpbhignbdhedgjhgdocnmhomnp?hl=en\">Colorzilla</a> ——用于复制确切颜色的一个网站，用它可以将颜色直接复制到剪贴板上，这样你就没必要花太多时间获得正确的RGBA组合了。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/css-peeper/mbnbehikldjhnfehhnaidhjhoofhpehk?hl=en\">CSS Peeper</a>——查看网站使用的颜色时非常方便。在你一开始山寨你认为酷的网站的时候很管用。这个程序能让你查看它们的幕后的色彩方案。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/wappalyzer/gppongmhjkpfnbhagpmjfkannfbllamg?hl=en\">Wappalyzer</a> ——想要获悉你在网站上看到的是什么技术，这个程序很有用。想知道某网站使用什么样的框架或者它承载了什么服务？这个照样管用。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en\">React Dev Tools</a>——一款用于调试应用程序的工具。有一点要提一下，它只有在你编写React程序时才有用。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en\">Redux Dev Tools</a>——一款用于调试应用程序的工具。有一点要提一下，它只有在你编写Redux程序时才有用。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa?hl=en\">JSON Formatter</a> ——让JSON在浏览器中看起来更一目了然的不二之选。也许麻烦的JSON让你苦不堪言，不过只要用了这个软件，找到你要找的东西，所花费的时间会大幅缩短。</li>\n<li><a href=\"https://chrome.google.com/webstore/detail/vimeo-repeat-speed/noonakfaafcdaagngpjehilgegefdima?hl=en\">Vimeo Repeat and Speed</a> ——加速Vimeo视频的绝佳工具。如果你像大多数的web开发人员一样观看视频教程，你就会知道用1.25倍的常规回放速度观看它们是多么的方便。本程序同时也有适用于YouTube的版本。</li>\n</ul>\n<h3>VS Code扩展程序</h3>\n<p><span class=\"load-html-img loaded\"><img src=\"http://jbcdn2.b0.upaiyun.com/2018/03/6f53b4a3d95c1c5b648380d21c6e90fa.jpeg\" alt=\"刚开始学编程？这几款小工具能让你事半功倍\"></span></p>\n<p>Visual Studio Code是我写代码时的不二之选。</p>\n<p>每个人都有他自己喜欢的文本编辑器，我也不例外。不过，我还是想把这些扩展程序介绍给你，而它们对你所使用的大多数编辑器都适用。看看我最喜欢的扩展程序有哪些：</p>\n<ul class=\" list-paddingleft-2\">\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag\">Auto Rename Tag </a>——自动重命名成对的HTML标记。假如你创建了一个&lt;p&gt;标记。现在你想更改它。有了这个软件，你只需要更改一个就行，另一个会自动修改。从理论上来说，使用这个软件可以把你的工作效率提升一倍。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=ecmel.vscode-html-css\">HTML CSS Support</a> ——HTML文档的CSS支持工具。该工具在获得一些简洁的语法高亮显示和代码建议方面非常有用。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=abusaidm.html-snippets\">HTML Snippets</a> ——这一工具在代码分段方面非常有用，可以为你节省大量的时间。它能跟Emmet配对，这样一来你甚至都不用再真正键入HTML了。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=dzannotti.vscode-babel-coloring\">Babel ES6/ES7</a> ——JavaScript Babel的辅助工具。如果你用的是Babel，这个工具可以让你更容易区分代码。如果你喜欢JavaScript，那务必也不要错过这款软件。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer\">Bracket Pair Colorizer </a>——色彩可视化工具。如果你没有准确地括号，那这个工具对于发现因此导致的许多常见漏洞十分方便。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint\">ESLint </a>——你在编写代码的时候，利用这个软件可以轻易获取有关漏洞的提示，而且在编码过程中，它还可以帮助你养成良好的编码习惯。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=spywhere.guides\">Guides</a> ——这一工具可以被用来添加额外的指导行代码。这是另一个视觉提示，以确保你正确地括号了。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=whtouche.vscode-js-console-utils\">JavaScript Console Utils </a>——使控制台日志记录变得更为简单可行。如果你像大多数开发人员一样，你会发现自己需要在调试流中登录到控制台（我知道我们应该使用调试器）。这个实用的程序使得创建有用的console.log()语句变得易如反掌。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker\">Code Spell Checker</a> ——这一工具正如其名，是拼写检查程序。漏洞的的另一个常见来源是变量或函数名。这一拼写检查工具可以查找不常见的单词，而且还可以把我们用JavaScript编写的东西进行有效的审核。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens\">Git Lens</a> ——可以让我们对某文件何时、以及由何人进行更改变得一目了然。当代码被破坏时，我们就能找到该负责任的人，而不是让你当替罪羊了。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense\">Path Intellisense</a> ——文件路径自动完成程序。这样一来从其他文件中导入重要的东西就非常方便了。这一工具使文件导航变得轻而易举。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode\">Prettier </a>——自动代码格式化程序。忘掉那些你不得不手动缩进代码的日子吧，有了这个工具，事情就变得简单多啦。这个程序会比你自己做得更快更好。对这个程序我是鼎力推荐的。</li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=robertohuertasm.vscode-icons\">VSCode-Icons</a> ——将图标添加到文件谱中。如果文件结构非常不科学，你的眼睛想罢工的话，这个程序可能会有所帮助。它对于你正在制作的任何文件都能提供有用的图标辅助，能使你更为轻易地区分看到的内容。</li>\n</ul>\n<h3>总结</h3>\n<p>你肯定也有自己中意的工具，这些工具对你的开发工作来说是必不可少的。也希望我上面提到的一些工具能够提高你的工作效率。</p>\n<p>但是千万不要落入贪多不烂的陷阱，因为它可能耗费很多时间。</p>\n<p>希望你能在评论区留下你最喜欢的工具，这样我们就可以共同进步了。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"113785\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"113785votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"113785\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"}